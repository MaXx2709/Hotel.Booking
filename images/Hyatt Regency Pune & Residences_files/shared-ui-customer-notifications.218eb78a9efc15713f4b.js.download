/*@license For license information please refer to shared-ui-customer-notifications.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[85],{65297:function(e,n,t){t.d(n,{OD:function(){return ke},Yx:function(){return Dt}});var i=t(67294),l=t(71641),a=t(95878),o=t(69430),r=t(98250),c=t(30082),d=t(20515),u=t(78987),s=t(93351),m=t(56095),v=t(70094),E=t(13413),f=t(46605),p=t(51330),g=t(23984),b=t(91233),h=t(30300),y=t(66252),k=t(19633),_=t(8470),A=t(85213),C=t(29097),T=t(10333),N=t(41913),x=t(34353),S=t(49349),L=t(61124),I=t(53274),w=t(8315),R=t(73030),O=t(89191),P=t(5419),D=t(95128),M=t(35957),z=t(84139),F=t(27764),B=t(58153),U=t(18397),G=t(68369),Y=t(50319),V=t(52818),q=t(37093),j=t(23236),H=t(22809),W=t(85395),K=t(17684),Q=t(32877),$=t(12108),Z=t(41419),X=t(79221),J=t(23780);t(61331);function ee(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function ne(e){if(Array.isArray(e))return e}function te(e,n,t,i,l,a,o){try{var r=e[a](o),c=r.value}catch(d){return void t(d)}r.done?n(c):Promise.resolve(c).then(i,l)}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){ie(e,n,t[n])}))}return e}function oe(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function re(e,n){if(null==e)return{};var t,i,l=function(e,n){if(null==e)return{};var t,i,l={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function ce(e,n){return ne(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,l,a=[],o=!0,r=!1;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(a.push(i.value),!n||a.length!==n);o=!0);}catch(c){r=!0,l=c}finally{try{o||null==t.return||t.return()}finally{if(r)throw l}}return a}}(e,n)||se(e,n)||le()}function de(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ue(e){return ne(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||le()}function se(e,n){if(e){if("string"==typeof e)return ee(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ee(e,n):void 0}}function me(e,n){var t,i,l,a,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(l=2&a[0]?i.return:a[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,a[1])).done)return l;switch(i=0,l&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(l=o.trys,(l=l.length>0&&l[l.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){o.label=a[1];break}if(6===a[0]&&o.label<l[1]){o.label=l[1],l=a;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(a);break}l[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(r){a=[6,r],i=0}finally{t=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}function ve(){var e=de(["\n  fragment NotificationAction on NotificationAction {\n    __typename\n    ... on NotificationAnalytics {\n      description\n      referrerId\n      schema {\n        __typename\n        name\n        messageContent {\n          __typename\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationAnalyticsEgClickstream {\n      __typename\n      description\n      event {\n        __typename\n        eventName\n        eventType\n        eventCategory\n        eventVersion\n        actionLocation\n      }\n      schema {\n        name\n        messageContent {\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationCookie {\n      name\n      value\n      expires\n    }\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=de(["\n  mutation SendTextToDownloadAppMutation($context: ContextInput!, $placementId: String!, $customerInput: NotificationUserInput!) {\n    sendTextToDownloadApp(context: $context, placementId: $placementId, customerInput: $customerInput) {\n      messageType\n      messageBody\n      invalidFields\n    }\n  }\n"]);return Ee=function(){return e},e}function fe(){var e=de(["\n  mutation ConsentMgmtMutation($context: ContextInput!, $request: SavePrefRequestInput!) {\n    consentMgmtPrefSubmit(context: $context, request: $request) {\n      success\n    }\n  }\n"]);return fe=function(){return e},e}function pe(){var e=de(["\n  fragment NotificationAttribute on NotificationAttribute {\n    name\n    value\n  }\n\n  fragment NotificationBody on NotificationPhrase {\n    accessibilityLabel\n    ...EgdsItems\n    items {\n      __typename\n      text\n      styles\n      ...NotificationLinkNodeWithIcon\n    }\n    ...EgdsTextItems\n  }\n\n  fragment NotificationContainer on NotificationContainer {\n    layout\n    theme {\n      ...NotificationTheme\n    }\n  }\n\n  fragment NotificationTheme on NotificationTheme {\n    ...NotificationBannerTheme\n    ...NotificationCardTheme\n  }\n\n  fragment NotificationBannerTheme on NotificationBannerTheme {\n    bannerTheme: themeValue\n  }\n\n  fragment NotificationCardTheme on NotificationCardTheme {\n    cardBorder\n    themeValue\n  }\n\n  fragment NotificationContainerLink on NotificationContainerLink {\n    uri {\n      __typename\n      value\n    }\n    target\n    actions {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment NotificationCustomQrCode on NotificationQRCode {\n    __typename\n    image {\n      ...NotificationImage\n    }\n    title\n  }\n\n  fragment NotificationDismiss on NotificationDismiss {\n    icon {\n      ...NotificationIcon\n    }\n    actions {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment NotificationImage on Image {\n    description\n    url\n  }\n\n  fragment NotificationLegalText on NotificationPhrase {\n    accessibilityLabel\n    ...NotificationItems\n    ...EgdsTextItems\n  }\n\n  fragment NotificationLinks on NotificationPhraseLinkNode {\n    id\n    type\n    text\n    uri {\n      __typename\n      value\n    }\n    linkStyle\n    linkTheme\n    icon {\n      ...NotificationIcon\n    }\n    actions {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment NotificationSimpleSubBody on NotificationSimpleBody {\n    title {\n      ...TitleParts\n    }\n  }\n\n  fragment NotificationMultiSubBody on NotificationMultiBody {\n    title {\n      ...TitleParts\n    }\n    body {\n      ...TitleParts\n    }\n  }\n\n  fragment NotificationMessageCardSubBody on NotificationMessageCard {\n    title {\n      ...TitleParts\n    }\n    body {\n      ...TitleParts\n    }\n    graphicElement {\n      ... on Icon {\n        description\n        id\n        size\n        theme\n        title\n        token\n        withBackground\n      }\n      ... on Mark {\n        description\n        id\n        markSize: size\n        url {\n          ... on HttpURI {\n            relativePath\n            value\n          }\n        }\n      }\n      ... on Illustration {\n        description\n        id\n        link: url\n      }\n    }\n    links {\n      id\n      text\n      type\n      uri {\n        value\n      }\n      linkStyle\n      linkTheme\n      target\n      actions {\n        ...NotificationActionFragment\n      }\n    }\n    layout\n  }\n\n  fragment NotificationSwitch on EGDSStandardSwitch {\n    enabled\n    checked\n    checkedLabel\n    checkedDescription\n    checkedAccessibilityLabel\n    uncheckedLabel\n    uncheckedDescription\n    uncheckedAccessibilityLabel\n    label\n    checkedAnalytics {\n      referrerId\n      linkName\n    }\n    uncheckedAnalytics {\n      referrerId\n      linkName\n    }\n  }\n\n  fragment NotificationTitle on NotificationPhrase {\n    accessibilityLabel\n    completeText\n    ...EgdsItems\n    ...EgdsTextItems\n    items {\n      __typename\n      text\n      styles\n      ...NotificationLinkNode\n    }\n  }\n\n  fragment NotificationForm on NotificationForm {\n    __typename\n    title\n    sections {\n      __typename\n      title\n      fields {\n        __typename\n        ...NotificationTextInputFieldForm\n        ...NotificationSubmitButtonForm\n        ...NotificationSelectionFieldForm\n      }\n    }\n    feedbackMessages {\n      __typename\n      name\n      title\n      text\n      displayType\n      level\n    }\n    successFormAnalytics {\n      ...NotificationActionFragment\n    }\n    errorFormAnalytics {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment TitleParts on NotificationPhrase {\n    accessibilityLabel\n    completeText\n    ...EgdsItems\n  }\n\n  fragment NotificationActionFragment on NotificationAction {\n    __typename\n    ... on NotificationAnalytics {\n      __typename\n      description\n      referrerId\n      schema {\n        __typename\n        name\n        messageContent {\n          __typename\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationAnalyticsEgClickstream {\n      __typename\n      description\n      event {\n        __typename\n        eventName\n        eventType\n        eventCategory\n        eventVersion\n        actionLocation\n      }\n      schema {\n        name\n        messageContent {\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationCookie {\n      __typename\n      name\n      value\n      expires\n    }\n  }\n\n  fragment NotificationItems on NotificationPhrase {\n    items {\n      __typename\n      text\n      styles\n      ...NotificationLinkNode\n      ...NotificationLinkNodeWithIcon\n    }\n  }\n\n  fragment EgdsItems on NotificationPhrase {\n    egdsItems {\n      ... on NotificationEGDSTextNode {\n        text\n        theme\n        weight\n      }\n      ... on NotificationEGDSLinkNode {\n        action {\n          accessibility\n          analytics {\n            linkName\n            referrerId\n          }\n          resource {\n            value\n          }\n          target\n        }\n      }\n    }\n  }\n\n  fragment EgdsTextItems on NotificationPhrase {\n    egdsTextItems {\n      ...EGDSStylizedText\n      ...EGDSStandardLink\n    }\n  }\n\n  fragment NotificationLinkNode on NotificationPhraseLinkNode {\n    id\n    type\n    uri {\n      __typename\n      value\n    }\n    target\n    actions {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment NotificationLinkNodeWithIcon on NotificationPhraseLinkNode {\n    id\n    type\n    uri {\n      __typename\n      value\n    }\n    icon {\n      id\n      description\n      title\n    }\n    actions {\n      ...NotificationActionFragment\n    }\n  }\n\n  fragment NotificationCard on NotificationCardTheme {\n    themeValue\n    cardBorder\n  }\n\n  fragment NotificationIcon on Icon {\n    id\n    description\n    title\n  }\n\n  fragment NotificationTextInputFieldForm on NotificationTextInputField {\n    label\n    id\n    placeholder\n    icon {\n      id\n      description\n      title\n    }\n  }\n\n  fragment NotificationSubmitButtonForm on NotificationSubmitButton {\n    label\n    id\n    actions {\n      ...NotificationActionFragment\n    }\n    icon {\n      id\n      description\n      title\n    }\n    buttonType\n  }\n\n  fragment NotificationSelectionFieldForm on NotificationSelectionField {\n    label\n    id\n    options {\n      __typename\n      id\n      text\n      shortLabel\n      value\n      selected\n      icon {\n        id\n        description\n        title\n      }\n    }\n  }\n\n  fragment EGDSStylizedText on EGDSStylizedText {\n    __typename\n    text\n    textSize: size\n    weight\n    theme\n  }\n\n  fragment EGDSStandardLink on EGDSStandardLink {\n    __typename\n    text\n    action {\n      resource {\n        value\n      }\n      target\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    iconPosition\n    size\n    disabled\n  }\n\n  query NotificationsQuery(\n    $context: ContextInput!\n    $notificationLocation: NotificationLocationOnPage!\n    $lineOfBusiness: LineOfBusinessDomain!\n    $pageLocation: PageLocation!\n    $optionalPageId: String\n    $optionalContext: NotificationOptionalContextInput\n  ) {\n    notification(context: $context) {\n      inlineNotification(\n        notificationLocation: $notificationLocation\n        lineOfBusiness: $lineOfBusiness\n        pageLocation: $pageLocation\n        optionalPageId: $optionalPageId\n        optionalContext: $optionalContext\n      ) {\n        type\n        notificationLocation\n        title {\n          ...NotificationTitle\n        }\n        body {\n          ...NotificationBody\n        }\n        bannerContainer {\n          ...NotificationContainer\n        }\n        containerLink {\n          ...NotificationContainerLink\n        }\n        links {\n          ...NotificationLinks\n        }\n        dismiss {\n          ...NotificationDismiss\n        }\n        icon {\n          ...NotificationIcon\n        }\n        legalText {\n          ...NotificationLegalText\n        }\n        logo {\n          ...NotificationImage\n        }\n        revealActions {\n          ...NotificationActionFragment\n        }\n        backgroundImage {\n          ...NotificationImage\n        }\n        customQrCode {\n          ...NotificationCustomQrCode\n        }\n        theme {\n          __typename\n          ...NotificationCard\n        }\n        attributes {\n          ...NotificationAttribute\n        }\n        switch {\n          ...NotificationSwitch\n        }\n        subBody {\n          ...NotificationSimpleSubBody\n          ...NotificationMultiSubBody\n          ...NotificationMessageCardSubBody\n        }\n        form {\n          ...NotificationForm\n        }\n      }\n    }\n  }\n"]);return pe=function(){return e},e}Object.defineProperty;var ge,be=function(e){return!Number.isNaN(Number(e))},he=function(e,n,t){var i=Array.isArray(n)?n:function(e){return e.split(".").map((function(e){var n=e.match(/^\[(\d+)\]$/);return n?n[1]:e}))}(n),l=ue(i),a=l[0],o=l.slice(1);Object.prototype.hasOwnProperty.call(e,a)||(o.length?e[a]=be(o[0])?[]:{}:e[a]=t),o.length&&he(e[a],o,t)},ye=((0,o.Ps)(ve()),function(){var e=(0,r.useClickTracker)(),n=(0,r.useEgClickstream)(),t=(0,i.useMemo)((function(){return{NotificationCookie:function(e){document.cookie="".concat(e.name,"=").concat(e.value,"; path=/; expires=").concat(e.expires)},NotificationAnalyticsEgClickstream:function(e){var t,i,l,a,o,r;n((a=(t=e).event,o=t.schema,r={event:{event_name:a.eventName,event_type:a.eventType,event_category:a.eventCategory,event_version:a.eventVersion,action_location:null!==(l=a.actionLocation)&&void 0!==l?l:""}},null===(i=o)||void 0===i||i.forEach((function(e){var n=e.name;e.messageContent.forEach((function(e){var t=e.name,i=e.value;he(r,"".concat(n,".").concat(t),i)}))})),r))},NotificationAnalytics:function(n){e(n.referrerId,n.description||"",void 0,function(e){var n,t=[];return null===(n=e.schema)||void 0===n||n.forEach((function(e){var n={};e.messageContent.forEach((function(e){var t=e.name,i=e.value,l=t.split(".");if(1===l.length)n[t.replace(/\s/g,"-")]=i;else{var a=n[l[0]];if(a){var o=oe(ae({},a[0]),ie({},l[1],be(i)?Number.parseInt(i,10):i));n[l[0]]=[o]}else n[l[0]]=[ie({},l[1],be(i)?Number.parseInt(i,10):i)]}})),t.push({schemaName:e.name,messageContent:n})})),t}(n))}}}),[e,n]);return(0,i.useCallback)((function(e){var n;null===(n=e)||void 0===n||n.forEach((function(e){var n,i;null===(n=(i=t)[e.__typename])||void 0===n||n.call(i,e)}))}),[t])}),ke=function(e){return e.AFTER_HEADER="AFTER_HEADER",e.AFTER_WIZARD="AFTER_WIZARD",e.ERROR="ERROR",e.FOOTER="FOOTER",e.IN_MODULE="IN_MODULE",e.IN_PAGE="IN_PAGE",e.IN_PAGE_AD="IN_PAGE_AD",e.LEGAL="LEGAL",e.POPUP="POPUP",e.PRE_HEADER="PRE_HEADER",e}(ke||{}),_e=function(){return i.createElement(i.Fragment,null,i.createElement(c.t,{backgroundTheme:"global-loyalty-standard",padded:!1,"data-stid":"customer-notifications-placeholder"},i.createElement(d.U,null,i.createElement(u.H,null)),i.createElement(d.U,null,i.createElement(u.H,{animation:!0,type:"secondary"}))))},Ae=function(e,n){if(e){var t=new URL(e);return t.searchParams.has("$canonical_url")||!n?"".concat(t):"".concat(t,"&").concat(encodeURIComponent("$canonical_url"),"=").concat(encodeURIComponent(n))}},Ce=function(e){var n,t,l,a=e.title,o=e.revealActions,r=e.logo,c=e.tuneLink,d=e.dismiss,u=e.referer,y=ce(i.useState(!0),2),k=y[0],_=y[1],A=ye();i.useEffect((function(){A(o)}),[]);if(!k)return null;var C=Ae(null===(t=c)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.value,u),T="data:image/svg+xml,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg"><linearGradient id="g" gradientTransform="rotate(45)"><stop offset="0%" stop-color="#212841"  /><stop offset="54.45%" stop-color="#184268" /><stop offset="100%" stop-color="#0576B6" /></linearGradient><rect width="100%" height="150%" fill="url(#g)" /></svg>'));return i.createElement(s.l,{padding:"six"},i.createElement(p.N,{src:T},i.createElement(g.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"end"},i.createElement(m.n,{onClick:function(){_(!1),A(d.actions)},"aria-label":d.icon.description},i.createElement(f.fR,{name:"close"}))),i.createElement(b.t,{alignSelf:"center"},i.createElement("div",null,i.createElement("img",{alt:r.description,src:r.url,width:"64",height:"64"}))),i.createElement(b.t,null,i.createElement(s.l,{margin:{blockstart:"six"}},i.createElement("div",null,a.items.map((function(e,n){var t=e.text;return i.createElement(h.b,{key:"text-element-".concat(n),theme:"inverse",align:"center",size:700,weight:"medium"},t)}))))),(null===(l=c)||void 0===l?void 0:l.uri)&&i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"three"}},i.createElement(v.Y,{inverse:!0,href:C,size:E.xY.LARGE,onClick:function(){var e;A(null===(e=c)||void 0===e?void 0:e.actions)}},c.text))))))},Te=function(e,n,t){var i=t||"PRE_HEADER",l=e.identify({type:n,notificationLocation:i,__typename:"InlineNotification"});e.evict({id:l}),e.gc()},Ne=(ie(ge={},"PRIMARY_BUTTON",v.Y),ie(ge,"SECONDARY_BUTTON",I.p),ie(ge,"TERTIARY_BUTTON",w.m),ge),xe=function(e){return Ne["".concat(e)]||v.Y},Se=function(e){var n,t,l,a,o,r,c,d,u,v,I,w,R,O,P,D,M,z,F,B,U,G,Y,V,q=e.type,j=e.notificationLocation,H=e.body,W=e.title,K=e.logo,Q=e.dismiss,$=e.qrCodeUrl,Z=e.qrCodeDesc,X=e.qrCodeTitle,J=e.bannerLink,ee=e.revealActions,ne=e.referer,te=e.termsAndConditions,ie=e.termsAndConditionsText,le=e.dismissCallback,ae=ce(i.useState(!0),2),oe=ae[0],re=ae[1],de=(0,y.x)().cache,ue=ye(),se=i.useRef(null),me=i.useCallback((function(){return oe&&ue(ee),oe}),[oe]),ve=i.useCallback((function(){var e,n;null===(e=le)||void 0===e||e(),ue(null===(n=Q)||void 0===n?void 0:n.actions),Te(de,q,j),re(!1)}),[]),Ee=i.useCallback((function(){var e;ue(null===(e=J)||void 0===e?void 0:e.actions)}),[]),fe=i.useMemo((function(){var e,n;return Ae(null===(n=J)||void 0===n||null===(e=n.uri)||void 0===e?void 0:e.value,ne)}),[]),pe=i.useMemo((function(){var e;return xe(null===(e=J)||void 0===e?void 0:e.type)}),[]),ge=$&&X;return i.createElement(i.Fragment,null,oe&&me()&&i.createElement(k.Viewport,null,i.createElement(k.ViewSmall,null,i.createElement(N.U,{isVisible:oe},i.createElement(x.K,{isVisible:oe,type:"bottom",triggerRef:se},i.createElement(L.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(s.l,{margin:{blockstart:"three",blockend:"six",inline:"two"}},i.createElement(S.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(g.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"end"},i.createElement(s.l,{margin:{blockstart:"one",blockend:"four",inlineend:"one"}},i.createElement(m.n,{onClick:ve,"aria-label":"close"},i.createElement(f.fR,{name:"close",size:f.eZ.MEDIUM,theme:"primary",title:"Close Sheet",id:"sheet-close-button"})))),i.createElement(b.t,{alignSelf:"center"},i.createElement("img",{alt:null===(n=K)||void 0===n?void 0:n.description,src:null===(t=K)||void 0===t?void 0:t.url,width:56})),i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(h.b,{theme:"inverse",align:"center",weight:"medium",size:600},null===(o=H)||void 0===o||null===(a=o[0].items)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.text))),(null===(r=J)||void 0===r?void 0:r.uri)&&fe&&(null===(c=J)||void 0===c?void 0:c.text)&&i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(pe,{href:fe,size:E.xY.LARGE,onClick:Ee},J.text))),ie&&(null===(d=te)||void 0===d?void 0:d.uri)&&i.createElement(b.t,null,i.createElement(s.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},i.createElement(T.M,{align:"center",size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:te.uri.value,target:"_blank",rel:"noopener noreferrer"},ie))))))))))),i.createElement(k.ViewMedium,null,i.createElement(N.U,{isVisible:oe},i.createElement(x.K,{isVisible:oe,type:"bottom",triggerRef:se},i.createElement(L.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(s.l,{margin:{inlinestart:"one",inlineend:"two",blockstart:"three",blockend:"six"}},i.createElement(S.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(g.v,{direction:"row-reverse"},i.createElement(b.t,null,i.createElement(s.l,{margin:{inlineend:"one",blockstart:"one"}},i.createElement(m.n,{name:null===(v=Q)||void 0===v||null===(u=v.icon)||void 0===u?void 0:u.id,onClick:ve,"aria-label":"close"},i.createElement(f.fR,{name:"close",size:f.eZ.EXTRA_SMALL,theme:"primary",description:null===(w=Q)||void 0===w||null===(I=w.icon)||void 0===I?void 0:I.description,id:"sheet-close-button"}))))),i.createElement(A.a,{columns:10},i.createElement(C.P,{colSpan:ge?8:10},i.createElement("div",null,i.createElement(A.a,{columns:ge?8:10},i.createElement(C.P,{colSpan:1,alignSelf:"center"},i.createElement(s.l,{padding:{inlinestart:"one"}},i.createElement("img",{src:null===(R=K)||void 0===R?void 0:R.url,alt:null===(O=K)||void 0===O?void 0:O.description,height:45}))),(null===(D=W)||void 0===D||null===(P=D.items[0])||void 0===P?void 0:P.text)&&i.createElement(C.P,{colSpan:ge?7:9,alignSelf:"center"},i.createElement(s.l,{padding:{block:"two"}},i.createElement(h.b,{theme:"inverse",align:"left",size:600,weight:"bold"},null===(z=W)||void 0===z||null===(M=z.items[0])||void 0===M?void 0:M.text)))),i.createElement(A.a,null,i.createElement(C.P,null,i.createElement(s.l,{padding:{block:"three",inlineend:"four",inlinestart:"one"}},i.createElement(h.b,{theme:"inverse",weight:"medium",size:500},null===(U=H)||void 0===U||null===(B=U[0].items)||void 0===B||null===(F=B[0])||void 0===F?void 0:F.text)))),(null===(G=J)||void 0===G?void 0:G.text)&&fe&&"INVERSE"!==(null===(Y=J)||void 0===Y?void 0:Y.linkTheme)&&i.createElement(A.a,{columns:10},i.createElement(C.P,{colSpan:5},i.createElement("div",null,i.createElement(s.l,{margin:{inlinestart:"one"}},i.createElement(pe,{href:fe,size:E.xY.LARGE,onClick:Ee},J.text))))),ie&&(null===(V=te)||void 0===V?void 0:V.uri)&&i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(s.l,{margin:{inlinestart:"one",blockend:"one"}},i.createElement(T.M,{size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:te.uri.value,target:"_blank",rel:"noopener noreferrer"},ie))))))),ge&&i.createElement(C.P,{colSpan:2},i.createElement("div",null,i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":X})),i.createElement(s.l,{padding:{inlinestart:"four",blockstart:"six"}},i.createElement("div",null,i.createElement(p.N,{ratio:p.s.R1_1},i.createElement(_.p,{src:$,alt:Z})))),i.createElement(s.l,{padding:{blockstart:"three",inlinestart:"four"}},i.createElement(h.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},X)))))))))))))};Se.displayName="sharedui-BottomSheet";var Le=i.memo(Se),Ie=function(e){var n,t,l,a,o,r=e.data,c=e.inputs,d=e.dismissCallback,u=r.notificationLocation,s=r.legalText,m=r.title,v=r.body,E=r.logo,f=r.links,p=r.revealActions,g=r.customQrCode,b=r.dismiss,h=c.optionalContext,y=null===(t=s)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),k=(null===(l=y)||void 0===l?void 0:l.uri)&&y.uri.value?y:void 0,_=null===(o=s)||void 0===o||null===(a=o.items)||void 0===a?void 0:a[0].text,A=i.useMemo((function(){var e,n,t,i,l,a,o;return{type:"BOTTOM_SHEET",notificationLocation:u,body:v,title:m,logo:E,dismiss:b,qrCodeUrl:null===(n=g)||void 0===n||null===(e=n.image)||void 0===e?void 0:e.url,qrCodeDesc:null===(i=g)||void 0===i||null===(t=i.image)||void 0===t?void 0:t.description,qrCodeTitle:null===(l=g)||void 0===l?void 0:l.title,bannerLink:null===(a=f)||void 0===a?void 0:a[0],revealActions:p,referer:null===(o=h)||void 0===o?void 0:o.referer,termsAndConditions:k,termsAndConditionsText:_,dismissCallback:d}}),[]);return E&&b?i.createElement(Le,ae({},A)):null},we=function(e){var n,t,l,a,o,r,c,d,u,m,v,f,I,P,D,M,z,F,B,U,G,Y,V,q,j,H,W,K,Q,$,Z,X,J,ee,ne,te,ie,le,ae,oe,re,de,ue=e.type,se=e.notificationLocation,me=e.body,ve=e.title,Ee=e.logo,fe=e.dismiss,pe=e.qrCodeUrl,ge=e.qrCodeDesc,be=e.qrCodeTitle,he=e.bannerLink,ke=e.revealActions,_e=e.referer,Ce=e.termsAndConditions,Ne=e.termsAndConditionsText,Se=e.subLink,Le=e.brandTheme,Ie=ce((0,R.useDialog)("customer-notification-centered-sheet-dialog"),3),we=Ie[0],Re=Ie[1],Oe=Ie[2],Pe=(0,y.x)().cache,De=ye(),Me=i.useRef(null),ze=i.useCallback((function(){return we&&De(ke),we}),[we]),Fe=i.useCallback((function(){var e;Re.closeDialog(),De(null===(e=fe)||void 0===e?void 0:e.actions),Te(Pe,ue,se)}),[]),Be=i.useCallback((function(){var e;De(null===(e=he)||void 0===e?void 0:e.actions)}),[]);i.useEffect((function(){Re.openDialog()}),[]);var Ue="NotificationCardTheme"===(null===(n=Le)||void 0===n?void 0:n.__typename),Ge=!Ue,Ye=Ue?"primary":"brand_promo_primary",Ve=i.useMemo((function(){var e,n;return Ae(null===(n=he)||void 0===n||null===(e=n.uri)||void 0===e?void 0:e.value,_e)}),[]),qe=i.useMemo((function(){var e,n;return Ae(null===(n=Se)||void 0===n||null===(e=n.uri)||void 0===e?void 0:e.value,_e)}),[]),je=i.useMemo((function(){var e;return xe((null===(e=he)||void 0===e?void 0:e.type)||"")}),[]),He=pe&&be;return i.createElement(i.Fragment,null,we&&ze()&&i.createElement(k.Viewport,null,i.createElement(k.ViewSmall,null,i.createElement(N.U,{isVisible:we},i.createElement(Oe,null,i.createElement(s.l,{margin:{inline:"six"}},i.createElement(x.K,{isVisible:we,type:"centered",triggerRef:Me,centeredSheetSize:"small"},fe&&i.createElement(s.l,{padding:{inlinestart:"one",blockstart:"one"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:Fe,navIconLabel:null===(l=fe)||void 0===l||null===(t=l.icon)||void 0===t?void 0:t.description,navButtonId:null===(o=fe)||void 0===o||null===(a=o.icon)||void 0===a?void 0:a.id}})),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(L.K,{canvasTheme:Ye,layout:"fullwidth"},i.createElement(s.l,{margin:{block:"six",inline:"two"}},i.createElement(S.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},i.createElement(g.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},(null===(r=Ee)||void 0===r?void 0:r.description)&&(null===(c=Ee)||void 0===c?void 0:c.url)?i.createElement(b.t,{alignSelf:"center"},i.createElement("img",{alt:null===(d=Ee)||void 0===d?void 0:d.description,src:null===(u=Ee)||void 0===u?void 0:u.url,width:56})):i.createElement(s.l,{padding:{block:"four"}},i.createElement(h.b,{theme:Ue?"default":"inverse",align:"left",size:600,weight:"bold"},null===(m=ve)||void 0===m?void 0:m.items[0].text)),i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(h.b,{theme:Ue?"default":"inverse",align:"center",weight:"medium",size:600},null===(I=me)||void 0===I||null===(f=I[0].items)||void 0===f||null===(v=f[0])||void 0===v?void 0:v.text))),Ge&&(null===(P=he)||void 0===P?void 0:P.text)&&(null===(D=he)||void 0===D?void 0:D.text)&&Ve?i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(je,{href:Ve,size:E.xY.LARGE,onClick:Be},he.text))):(null===(M=he)||void 0===M?void 0:M.text)&&(null===(z=Se)||void 0===z?void 0:z.text)&&i.createElement(s.l,{margin:{blockstart:"six",blockend:"four"}},i.createElement(g.v,{justifyContent:"center",space:"six"},i.createElement(b.t,null,i.createElement("div",null,i.createElement(w.m,{alignLabelToContent:"start",onClick:Fe},null===(F=he)||void 0===F?void 0:F.text))),i.createElement(b.t,null,i.createElement("div",null,i.createElement(je,{href:qe,size:E.xY.LARGE,onClick:Be,isFullWidth:!1},null===(B=Se)||void 0===B?void 0:B.text))))),(null===(U=Ce)||void 0===U?void 0:U.uri)&&i.createElement(b.t,null,i.createElement(s.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},i.createElement(T.M,{align:"center",size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:Ce.uri.value,target:"_blank",rel:"noopener noreferrer"},Ne)))))))))))))),i.createElement(k.ViewMedium,null,i.createElement(N.U,{isVisible:we},i.createElement(Oe,null,i.createElement(x.K,{isVisible:we,type:"centered",triggerRef:Me,centeredSheetSize:"medium"},fe&&i.createElement(s.l,{padding:{inlinestart:"one",blockstart:"one"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:Fe,navIconLabel:null===(Y=fe)||void 0===Y||null===(G=Y.icon)||void 0===G?void 0:G.description,navButtonId:null===(q=fe)||void 0===q||null===(V=q.icon)||void 0===V?void 0:V.id}})),i.createElement(L.K,{canvasTheme:Ye,layout:"fullwidth"},i.createElement(S.z,{padded:!1},i.createElement(s.l,{margin:{blockstart:"twelve",blockend:"six",inline:"six"}},i.createElement(A.a,{columns:10},i.createElement(C.P,{colSpan:He?8:10,alignSelf:"center"},i.createElement("div",null,i.createElement(A.a,{columns:He?7:9},(null===(j=Ee)||void 0===j?void 0:j.description)&&(null===(H=Ee)||void 0===H?void 0:H.url)&&i.createElement(C.P,{colSpan:1},i.createElement("img",{alt:null===(W=Ee)||void 0===W?void 0:W.description,src:null===(K=Ee)||void 0===K?void 0:K.url,width:55})),(null===($=ve)||void 0===$||null===(Q=$.items[0])||void 0===Q?void 0:Q.text)&&i.createElement(C.P,{colSpan:He?6:8,alignSelf:"center"},i.createElement(s.l,null,i.createElement(h.b,{theme:Ue?"default":"inverse",align:"left",size:600,weight:"bold"},null===(Z=ve)||void 0===Z?void 0:Z.items[0].text)))),i.createElement(A.a,null,i.createElement(C.P,null,i.createElement(s.l,{padding:{block:"six",inlineend:"four"}},i.createElement(h.b,{theme:Ue?"default":"inverse",weight:"medium",size:500},null===(ee=me)||void 0===ee||null===(J=ee[0].items)||void 0===J||null===(X=J[0])||void 0===X?void 0:X.text)))),Ge&&(null===(ne=he)||void 0===ne?void 0:ne.text)&&Ve&&"INVERSE"!==(null===(te=he)||void 0===te?void 0:te.linkTheme)?i.createElement(A.a,{columns:10},i.createElement(C.P,{colSpan:4},i.createElement("div",null,i.createElement(je,{href:Ve,size:E.xY.LARGE,onClick:Be,isFullWidth:!1},null===(ie=he)||void 0===ie?void 0:ie.text)))):i.createElement(s.l,{margin:{blockstart:"two",blockend:"two"}},i.createElement(g.v,{justifyContent:"center",space:"six"},(null===(le=he)||void 0===le?void 0:le.text)&&i.createElement(b.t,null,i.createElement("div",null,i.createElement(w.m,{alignLabelToContent:"start",onClick:Fe},null===(ae=he)||void 0===ae?void 0:ae.text))),(null===(oe=Se)||void 0===oe?void 0:oe.text)&&qe&&i.createElement(b.t,null,i.createElement("div",null,i.createElement(je,{href:qe,size:E.xY.LARGE,onClick:Be,isFullWidth:!1},null===(re=Se)||void 0===re?void 0:re.text))))),(null===(de=Ce)||void 0===de?void 0:de.uri)&&i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(T.M,{size:"small",theme:"inverse",inline:!0},i.createElement("a",{href:Ce.uri.value,target:"_blank",rel:"noopener noreferrer"},Ne)))))),He&&i.createElement(C.P,{colSpan:2},i.createElement("div",null,i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":be})),i.createElement(s.l,{padding:{inlinestart:"two"}},i.createElement("div",null,i.createElement(p.N,{ratio:p.s.R1_1},i.createElement(_.p,{src:pe,alt:ge})))),i.createElement(s.l,{padding:{blockstart:"four",inlinestart:"two"}},i.createElement(h.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},be))))))))))))))};we.displayName="sharedui-CenteredSheet";var Re=i.memo(we),Oe=function(e){var n,t,l,a,o,r=e.data,c=r.notificationLocation,d=r.legalText,u=r.title,s=r.body,m=r.logo,v=r.links,E=r.revealActions,f=r.customQrCode,p=r.dismiss,g=r.theme,b=e.inputs.optionalContext,h=null===(t=d)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),y=(null===(l=h)||void 0===l?void 0:l.uri)&&h.uri.value?h:void 0,k=null===(o=d)||void 0===o||null===(a=o.items)||void 0===a?void 0:a[0].text,_=i.useMemo((function(){var e,n,t,i,l,a,o,r;return{type:"CENTERED_SHEET",notificationLocation:c,body:s,title:u,logo:m,dismiss:p,qrCodeUrl:null===(n=f)||void 0===n||null===(e=n.image)||void 0===e?void 0:e.url,qrCodeDesc:null===(i=f)||void 0===i||null===(t=i.image)||void 0===t?void 0:t.description,qrCodeTitle:null===(l=f)||void 0===l?void 0:l.title,bannerLink:null===(a=v)||void 0===a?void 0:a[0],revealActions:E,referer:null===(o=b)||void 0===o?void 0:o.referer,termsAndConditions:y,termsAndConditionsText:k,subLink:null===(r=v)||void 0===r?void 0:r[1],brandTheme:g}}),[]);return i.createElement(Re,ae({},_))},Pe=function(e){var n=e.bodyText,t=e.cardImage,l=e.headingText,a=e.learnMoreLink,o=e.revealActions,r=ye();i.useEffect((function(){r(o)}),[]);var u;return i.createElement(c.t,null,i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,i.createElement("img",{src:t.url,alt:t.description}),i.createElement(s.l,{padding:{block:"two"}},i.createElement(P.y,{tag:"h2",size:5},l)),i.createElement(h.b,{size:300},n),i.createElement(s.l,{padding:{blockstart:"two",inlineend:"six"}},i.createElement(T.M,{onClick:(u=a,function(){r(u.actions)}),inline:!0},a.uri?i.createElement("a",{href:a.uri.value,target:"_blank",rel:"noopener noreferrer"},a.text):i.createElement("button",{type:"button"},a.text)))))))};Pe.displayName="sharedui-CitiCobrandVerticalAd";var De=function(e){var n=e.bodyText,t=e.cardImage,l=e.headingText,a=e.learnMoreLink,o=e.revealActions,r=ye();i.useEffect((function(){r(o)}),[]);var u;return i.createElement(c.t,null,i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,i.createElement(A.a,{columns:3},i.createElement(C.P,{colSpan:"all"},i.createElement("div",null,i.createElement(P.y,{tag:"h2",size:6},l))),i.createElement(s.l,{padding:{blockstart:"three",inlineend:"one"}},i.createElement(C.P,{colSpan:2},i.createElement("div",null,i.createElement(h.b,{align:"left",size:300},n),i.createElement(s.l,{padding:{blockstart:"two",inlineend:"six"}},i.createElement(T.M,{onClick:(u=a,function(){r(u.actions)}),inline:!0},a.uri?i.createElement("a",{href:a.uri.value,target:"_blank",rel:"noopener noreferrer"},a.text):i.createElement("button",{type:"button"},a.text)))))),i.createElement(s.l,{padding:{blockstart:"three"}},i.createElement(C.P,{colSpan:1},i.createElement(g.v,{alignItems:"end",direction:"column"},i.createElement("img",{src:t.url,alt:t.description})))))))))};De.displayName="sharedui-CitiCobrandAd";var Me,ze,Fe,Be,Ue,Ge,Ye,Ve,qe,je,He,We=function(e){var n,t,l,a,o,r,c=e.data||{},d=c.type,u=c.title,s=c.backgroundImage,m=c.body,v=c.links,E=c.revealActions;return s&&m&&v&&E&&u?d&&"CITI_COBRAND_VERTICAL"===d?i.createElement(Pe,{bodyText:null===(o=m[0])||void 0===o||null===(a=o.items[0])||void 0===a?void 0:a.text,cardImage:s,headingText:null===(r=u.items[0])||void 0===r?void 0:r.text,learnMoreLink:v[0],revealActions:E}):i.createElement(De,{bodyText:null===(t=m[0])||void 0===t||null===(n=t.items[0])||void 0===n?void 0:n.text,cardImage:s,headingText:null===(l=u.items[0])||void 0===l?void 0:l.text,learnMoreLink:v[0],revealActions:E}):null},Ke=function(e){var n=e.iconName,t=e.title,l=e.subtitle;return i.createElement(C.P,null,i.createElement(g.v,{alignItems:"center",space:"four"},i.createElement(b.t,{minWidth:"fifteen"},i.createElement(g.v,null,i.createElement(f.fR,{name:n,spotlight:"standard"}))),i.createElement(b.t,null,i.createElement(g.v,{direction:"column"},i.createElement(b.t,null,i.createElement(P.y,{size:7},t)),i.createElement(b.t,null,i.createElement(h.b,null,l))))))},Qe=function(e){var n=e.title,t=e.subtitle,l=e.messages;return i.createElement(g.v,{space:"four",direction:"column"},i.createElement(b.t,null,i.createElement("div",null,i.createElement(P.y,{tag:"h2",size:3},n),i.createElement(D.a,null,t))),i.createElement(b.t,null,i.createElement(A.a,{columns:{small:1,medium:2},space:"four"},l.map((function(e){return i.createElement(Ke,ae({key:e.iconName},e))})))))},$e={INVERSE:"inverse",DEFAULT:"default"},Ze={SMALL:"small",MEDIUM:"medium",LARGE:"large"},Xe={H:"LODGING",P:"PACKAGES",F:"FLIGHT",C:"CAR",CR:"CRUISES",A:"ACTIVITIES",U:"UNCLASSIFIED",R:"RAILS",GT:"GROUNDTRANSFERS"},Je={0:"SYSTEM",10:"ENTRY",20:"SEARCH_RESULTS",30:"DETAILS",40:"CHECKOUT",50:"CHECKOUT_ERROR",60:"PAYMENT_ERROR",70:"CONFIRMATION",80:"POST_BOOKING",90:"USER",500:"FEATURES"},en=Object.freeze((ie(Fe={},"BOLD","bold"),ie(Fe,"MEDIUM","medium"),ie(Fe,"REGULAR","regular"),Fe)),nn=Object.freeze((ie(Be={},"NEGATIVE","negative"),ie(Be,"POSITIVE","positive"),ie(Be,"EMPHASIS","emphasis"),ie(Be,"PRIMARY","emphasis"),ie(Be,"LOYALTY","loyalty"),ie(Be,"SECONDARY","default"),ie(Be,"INVERSE","inverse"),Be)),tn={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900},ln={REGULAR:"regular",MEDIUM:"medium",BOLD:"bold"},an=function(e){return null!==(Ue=nn["".concat(e)])&&void 0!==Ue?Ue:nn.INVERSE},on=function(e){return null!==(Ge=tn["".concat(e)])&&void 0!==Ge?Ge:500},rn=function(e){return null!==(Ye=ln["".concat(e)])&&void 0!==Ye?Ye:"regular"},cn={PRIMARY:z.iQ.PRIMARY,SECONDARY:z.iQ.SECONDARY,GLOBAL_LOYALTY_STANDARD:z.iQ.GLOBAL_LOYALTY_STANDARD,GLOBAL_LOYALTY_LOW:z.iQ.GLOBAL_LOYALTY_LOW,GLOBAL_LOYALTY_HIGH:z.iQ.GLOBAL_LOYALTY_HIGH,GLOBAL_LOYALTY_EXTRAHIGH:z.iQ.GLOBAL_LOYALTY_EXTRAHIGH,GLOBAL_LOYALTY_MIDDLE:z.iQ.GLOBAL_LOYALTY_MIDDLE},dn={PRIMARY:"primary",SECONDARY:"secondary",BRAND_PROMO_PRIMARY:"brand_promo_primary"},un=function(e){return null!==(Ve=cn["".concat(e)])&&void 0!==Ve?Ve:z.iQ.GLOBAL_LOYALTY_STANDARD},sn=function(e){var n=e.background,t=e.border,l=e.children;return i.createElement(c.t,{border:t,backgroundTheme:un(n),padded:!0},l)},mn=function(e){var n=e.children,t=e.bannerLink,l=e.onCardClickCallback;return t?i.createElement("a",{href:t,onClick:l,onKeyDown:l},n):i.createElement(i.Fragment,null,n)},vn=(ie(je={},"PRE_HEADER",(function(e){var n=e.children;return i.createElement(L.K,{canvasTheme:"brand_promo_primary",layout:"centered"},n)})),ie(je,"IN_PAGE",sn),je),En=function(e){var n,t,l,a,o,r=e.body,c=null===(l=r)||void 0===l||null===(t=l[0])||void 0===t||null===(n=t.egdsItems)||void 0===n?void 0:n[0],d="NotificationEGDSTextNode"===(null===(a=c)||void 0===a?void 0:a.__typename)?null===(o=c)||void 0===o?void 0:o.theme:"INVERSE";return i.createElement(i.Fragment,null,r.map((function(e,n){var t;return null===(t=e.items)||void 0===t?void 0:t.map((function(e,t){var l,a=e.text,o=e.styles;return i.createElement(h.b,{key:"body-".concat(n,".item-").concat(t),theme:an(d),align:"left",size:300,weight:"IMPORTANT"===(null===(l=o)||void 0===l?void 0:l[0])?"bold":"regular"},a)}))})))},fn=(ie(He={},"PRIMARY_BUTTON",v.Y),ie(He,"SECONDARY_BUTTON",I.p),ie(He,"TERTIARY_BUTTON",w.m),He),pn=function(e){var n,t=e.links,l=e.isMobile,a=e.isButtonOnRight,o=e.referer,r=ye(),c=a?{padding:{extra_large:{blockstart:"unset",inlinestart:"unset"},large:{blockstart:"unset",inlinestart:"unset"},medium:{blockstart:"three",inlinestart:"unset"},small:{blockstart:"three",inlinestart:"unset"}}}:{padding:{blockstart:"three",inlinestart:"unset"}};return i.createElement(b.t,{shrink:0},i.createElement(s.l,{padding:c.padding},i.createElement(g.v,{direction:"row",alignItems:"center"},null===(n=t)||void 0===n?void 0:n.map((function(e,n){var t,a,c,d,u,m,f=Ae(null===(t=e.uri)||void 0===t?void 0:t.value,o);if("ANCHOR"===e.type)return i.createElement(s.l,{key:"".concat(null===(c=e)||void 0===c?void 0:c.id,"-").concat(n),padding:{block:"two"}},i.createElement(g.v,{direction:"row",alignItems:"start",justifyContent:"space-between"},i.createElement(T.M,{noWrap:!0,theme:(m=null===(d=e)||void 0===d?void 0:d.linkTheme,null!==(Me=$e["".concat(m)])&&void 0!==Me?Me:"inverse"),onClick:function(){return r(e.actions)}},i.createElement("a",{"aria-label":null===(u=e)||void 0===u?void 0:u.text,href:f,target:"_blank",rel:"noopener noreferrer"},e.text))));var p,b=(p=e.type,fn["".concat(p)]||v.Y),h=l?E.xY.SMALL:E.xY.MEDIUM;return i.createElement(s.l,{margin:{inlineend:"three"},key:"".concat(null===(a=e)||void 0===a?void 0:a.id,"-").concat(n)},i.createElement(b,{href:f,size:h,onClick:function(){return r(e.actions)}},e.text))})))))},gn=function(e){var n,t,l,a,o,r=null===(l=e.subBody)||void 0===l||null===(t=l[0].title)||void 0===t||null===(n=t.egdsItems)||void 0===n?void 0:n[0],c="NotificationEGDSTextNode"===(null===(a=r)||void 0===a?void 0:a.__typename)?null===(o=r)||void 0===o?void 0:o.theme:"INVERSE",d=r&&"text"in r&&r.text,u=r&&"weight"in r&&r.weight||"REGULAR";return i.createElement(h.b,{theme:an(c),weight:u&&en[u],size:300},d)},bn=function(e){var n,t,l,a,o,r,c,d,u,v,A,C,T,N,x,S,L,I,w,R,O,P,D,z,F,B,U,G=e.type,Y=e.notificationLocation,V=e.title,q=e.revealActions,j=e.logo,H=e.links,W=e.containerLink,K=e.dismiss,Q=e.referer,$=e.body,Z=e.subBody,X=e.icon,J=e.qrCode,ee=e.backgroundTheme,ne=e.border,te=ye(),ie=ce(i.useState(!0),2),le=ie[0],ae=ie[1],oe=(0,y.x)().cache,re="IN_PAGE"===Y,de=null===(t=V)||void 0===t||null===(n=t.egdsItems)||void 0===n?void 0:n[0],ue="NotificationEGDSTextNode"===(null===(l=de)||void 0===l?void 0:l.__typename)?null===(a=de)||void 0===a?void 0:a.theme:"INVERSE",se=null!=ne?ne:void 0,me=i.useCallback((function(){return le&&te(q),le}),[le]),ve=re?10:12,Ee=re?{margin:{blockstart:"one"}}:{margin:{}},fe=i.useMemo((function(){return vn["".concat(Y)]||sn}),[]),pe=i.useMemo((function(){var e,n;return Ae(null===(n=W)||void 0===n||null===(e=n.uri)||void 0===e?void 0:e.value,Q)}),[]),ge=i.useCallback((function(){var e;ae(!1),te(null===(e=K)||void 0===e?void 0:e.actions),Te(oe,G,Y)}),[]),be=i.useCallback((function(){var e;te(null===(e=W)||void 0===e?void 0:e.actions)}),[]);return i.createElement(i.Fragment,null,le&&me()&&i.createElement(k.Viewport,null,i.createElement(k.ViewLarge,null,i.createElement(fe,{background:ee,border:se},i.createElement(g.v,{direction:"row",alignContent:"center",justifyContent:"space-between",space:"twelve"},i.createElement(b.t,{alignSelf:"center"},i.createElement(mn,{bannerLink:re?null:pe,onCardClickCallback:be},i.createElement(s.l,{padding:{block:re?"unset":"three"}},i.createElement(g.v,{direction:"row",alignItems:"center"},i.createElement(b.t,{alignSelf:"center",grow:0,shrink:re?0:1},(null===(o=j)||void 0===o?void 0:o.url)?i.createElement(M.F,{url:j.url,description:j.description,size:ve}):null,(null===(r=X)||void 0===r?void 0:r.id)?i.createElement("span",null,i.createElement(f.fR,{name:X.id,title:X.title||"",description:X.description,spotlight:{theme:"standard",background:!0}})):null),i.createElement(b.t,{alignSelf:"center",grow:0,shrink:1},i.createElement(s.l,{padding:{inlinestart:re?"four":"three"}},i.createElement(g.v,{direction:"column",alignItems:"start",space:re?"half":void 0},null===(d=V)||void 0===d||null===(c=d.items)||void 0===c?void 0:c.map((function(e,n){var t,l=e.text,a=e.styles;return i.createElement(h.b,{key:"text-element-".concat(n),theme:an(ue),align:"left",size:300,weight:"IMPORTANT"===(null===(t=a)||void 0===t?void 0:t[0])?"bold":"medium"},l)})),$&&i.createElement(En,{body:$}),Z&&i.createElement(gn,{subBody:Z}),H&&(null===(u=J)||void 0===u?void 0:u.title)&&i.createElement(pn,{links:H,referer:Q})))))))),K&&i.createElement(b.t,{alignSelf:"center"},i.createElement(m.n,{onClick:ge,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL}))),H&&!J&&i.createElement(pn,{links:H,isButtonOnRight:!0,referer:Q}),J&&i.createElement(b.t,{grow:1,minWidth:76,maxWidth:76,alignSelf:"center"},i.createElement(g.v,{direction:"column",wrap:"wrap"},(null===(A=J)||void 0===A||null===(v=A.image)||void 0===v?void 0:v.url)&&i.createElement(b.t,{grow:1,minWidth:78,maxWidth:150,alignSelf:"end"},i.createElement(p.N,{imageFit:"contain"},i.createElement(_.p,{src:null===(T=J)||void 0===T||null===(C=T.image)||void 0===C?void 0:C.url,alt:J.image.description,placeholderImage:!0}))),(null===(x=J)||void 0===x||null===(N=x.image)||void 0===N?void 0:N.url)&&(null===(S=J)||void 0===S?void 0:S.title)&&i.createElement(b.t,null,i.createElement(h.b,{theme:"inverse",size:300,align:"center"},null===(L=J)||void 0===L?void 0:L.title))))))),i.createElement(k.ViewMedium,null,i.createElement(fe,{background:ee,border:se},i.createElement(g.v,{direction:"row",alignContent:"center",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"center"},i.createElement(mn,{bannerLink:re?null:pe,onCardClickCallback:be},i.createElement(s.l,{padding:{block:re?"unset":"three"}},i.createElement(g.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"start",grow:0,shrink:re?0:1},i.createElement(s.l,{margin:Ee.margin},(null===(I=j)||void 0===I?void 0:I.url)?i.createElement(M.F,{url:j.url,description:j.description,size:ve}):null,(null===(w=X)||void 0===w?void 0:w.id)?i.createElement("span",null,i.createElement(f.fR,{name:X.id,title:X.title||"",description:X.description,theme:"primary",size:f.eZ.LARGE,spotlight:"standard"})):null)),i.createElement(b.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(s.l,{padding:{inlinestart:re?"four":"three"}},i.createElement(g.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},null===(O=V)||void 0===O||null===(R=O.items)||void 0===R?void 0:R.map((function(e,n){var t=e.text,l=e.styles;return i.createElement(h.b,{key:"text-element-".concat(n),theme:an(ue),align:"left",size:300,weight:"IMPORTANT"===l[0]?"bold":"regular"},t)})),$&&i.createElement(En,{body:$}),Z&&(null===(P=J)||void 0===P?void 0:P.title)&&i.createElement(gn,{subBody:Z}),H&&i.createElement(pn,{links:H,isMobile:!0,referer:Q})))))))),K&&i.createElement(b.t,{alignSelf:"center"},i.createElement(m.n,{onClick:ge,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL})))))),i.createElement(k.ViewSmall,null,i.createElement(fe,{background:ee,border:se},i.createElement(g.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"center"},i.createElement(mn,{bannerLink:re?null:pe,onCardClickCallback:be},i.createElement(s.l,{padding:{block:re?"unset":"three"}},i.createElement(g.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:re?"start":"center",grow:0,shrink:re?0:1},i.createElement(s.l,{margin:Ee.margin},(null===(D=j)||void 0===D?void 0:D.url)?i.createElement(M.F,{url:j.url,description:j.description,size:ve}):null,(null===(z=X)||void 0===z?void 0:z.id)?i.createElement("span",null,i.createElement(f.fR,{id:X.id,name:X.id,title:X.title||"",description:X.description,theme:"primary",size:f.eZ.LARGE,spotlight:"standard"})):null)),i.createElement(b.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(s.l,{padding:{inlinestart:re?"four":"three",inlineend:re?"six":"unset",blockend:re?"one":"unset"}},i.createElement(g.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"start"},null===(B=V)||void 0===B||null===(F=B.items)||void 0===F?void 0:F.map((function(e,n){var t=e.text,l=e.styles;return i.createElement(h.b,{key:"text-element-".concat(n),theme:an(ue),align:"left",size:300,weight:"IMPORTANT"===l[0]?"bold":"regular"},t)})),$&&i.createElement(En,{body:$}),Z&&(null===(U=J)||void 0===U?void 0:U.title)&&i.createElement(gn,{subBody:Z}),H&&i.createElement(pn,{links:H,isMobile:!0,referer:Q})))))))),K&&i.createElement(b.t,{alignSelf:"center"},i.createElement(m.n,{onClick:ge,name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL}))))))))};bn.displayName="sharedui-ConfigurableBanner";var hn=i.memo(bn),yn=function(e){var n,t,l,a,o=e.data,r=e.inputs,c=o||{},d=c.notificationLocation,u=c.title,s=c.logo,m=c.dismiss,v=c.revealActions,E=c.links,f=c.containerLink,p=c.body,g=c.subBody,b=c.icon,h=c.customQrCode,y=c.theme,k=r.optionalContext,_="NotificationCardTheme"===(null===(n=y)||void 0===n?void 0:n.__typename)?null===(t=y)||void 0===t?void 0:t.themeValue:null,A="NotificationCardTheme"===(null===(l=y)||void 0===l?void 0:l.__typename)&&(null===(a=y)||void 0===a?void 0:a.cardBorder),C=i.useMemo((function(){var e;return{type:"CONFIGURABLE",notificationLocation:d,title:u,revealActions:v,logo:s,links:E,containerLink:f,dismiss:m,referer:null===(e=k)||void 0===e?void 0:e.referer,body:p,subBody:g,icon:b,qrCode:h,backgroundTheme:_,border:A}}),[]);return u?i.createElement(hn,ae({},C)):null},kn=function(e){var n,t,l,a,o,c,d,u,m,v,f,C,N,I,w,P,D,z,F,B,U,G,Y,V,q,j,H,W,K,Q,$,Z,X,J,ee,ne,te,ie,le,ae,oe,re,de,ue=e.type,se=e.bannerTheme,me=e.notificationLocation,ve=e.sheetTitle,Ee=e.sheetBody,fe=e.logo,pe=e.switchToTheAppLink,ge=e.dismissCta,be=e.dismiss,he=e.termsAndConditions,ke=e.backgroundImage,_e=e.referer,Ce=e.layout,Ne=e.revealActions,Se=ce((0,R.useDialog)("customer-notification-full-sheet-dialog"),3),Le=Se[0],Ie=Se[1],we=Se[2],Re=(0,y.x)().cache,Oe=ye(),Pe=(0,r.useClickTracker)(),De="LEFT"===Ce,Me=function(e){return null!==(qe=dn["".concat(e)])&&void 0!==qe?qe:dn.BRAND_PROMO_PRIMARY}(se),Fe=on(null===(n=ve)||void 0===n?void 0:n.textSize),Be=rn(null===(t=ve)||void 0===t?void 0:t.weight),Ue=on(null===(l=Ee)||void 0===l?void 0:l.textSize),Ge=rn(null===(a=Ee)||void 0===a?void 0:a.weight),Ye=(de=null===(o=he)||void 0===o?void 0:o.size,null!==(ze=Ze["".concat(de)])&&void 0!==ze?ze:"medium"),Ve="brand_promo_primary"!==Me?"default":"inverse",je=!!(null===(c=ke)||void 0===c?void 0:c.url),He=i.useRef(null),We=function(){var e;Ie.closeDialog(),Oe(null===(e=be)||void 0===e?void 0:e.actions),Te(Re,ue,me)},Ke=function(){var e;Ie.closeDialog(),Oe(null===(e=ge)||void 0===e?void 0:e.actions),Te(Re,ue,me)},Qe=function(){Oe(pe.actions)},$e=function(){var e,n,t,i;Pe(null!==(t=null===(e=he)||void 0===e?void 0:e.action.analytics.referrerId)&&void 0!==t?t:"",null!==(i=null===(n=he)||void 0===n?void 0:n.action.analytics.linkName)&&void 0!==i?i:"")},Xe=xe(pe.type),Je=xe(null===(d=ge)||void 0===d?void 0:d.type),en=Ae(null===(u=pe.uri)||void 0===u?void 0:u.value,_e);return i.useEffect((function(){Ie.openDialog(),Oe(Ne)}),[]),i.createElement(i.Fragment,null,Le&&i.createElement(k.Viewport,null,i.createElement(k.ViewSmall,null,i.createElement(we,null,i.createElement(x.K,{isVisible:Le,type:"full",triggerRef:He,theme:"dark"},(null===(v=be)||void 0===v||null===(m=v.icon)||void 0===m?void 0:m.id)&&i.createElement(s.l,{padding:{inlinestart:"three",blockstart:"six"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:We,navIconLabel:null===(C=be)||void 0===C||null===(f=C.icon)||void 0===f?void 0:f.description,navButtonId:null===(I=be)||void 0===I||null===(N=I.icon)||void 0===N?void 0:N.id}})),i.createElement(A.a,{blockSize:"full_size"},i.createElement(L.K,{canvasTheme:Me,layout:"fullwidth"},i.createElement(s.l,{padding:{block:"eight"}},i.createElement(S.z,{fullSheetContentMaxWidth:"extra-large",padded:!1},i.createElement(g.v,{direction:"column",alignContent:"space-around",justifyContent:"start",blockSize:"full_size",space:"one"},i.createElement(b.t,{alignSelf:De?"start":"stretch",minWidth:De?64:void 0},i.createElement(s.l,{padding:{blockstart:je?"six":"sixteen",inlinestart:!je&&De?"six":void 0}},i.createElement(g.v,{direction:"column",wrap:De?"wrap":"nowrap"},(null===(w=fe)||void 0===w?void 0:w.description)&&(null===(P=fe)||void 0===P?void 0:P.url)&&i.createElement(b.t,{grow:0,shrink:1,minWidth:64},i.createElement(M.F,{url:fe.url,description:fe.description,size:12})),(null===(D=ke)||void 0===D?void 0:D.url)&&ke.description&&i.createElement(b.t,{grow:1},i.createElement(p.N,{imageFit:"contain",ratio:p.s.R16_9},i.createElement(_.p,{src:null===(z=ke)||void 0===z?void 0:z.url,alt:null===(F=ke)||void 0===F?void 0:F.description})))))),i.createElement(s.l,{margin:{blockstart:je?"three":"six",inline:"six"}},i.createElement(b.t,{grow:1},i.createElement(g.v,{direction:"column",space:"six"},i.createElement(b.t,null,i.createElement(h.b,{theme:Ve,align:De?"left":"center",weight:Be,size:Fe},null===(B=ve)||void 0===B?void 0:B.text)),(null===(U=Ee)||void 0===U?void 0:U.text)&&i.createElement(b.t,null,i.createElement(h.b,{theme:Ve,align:De?"left":"center",weight:Ge,size:Ue},Ee.text)),pe.text&&en&&i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"three"}},i.createElement(Xe,{href:en,size:E.xY.LARGE,onClick:Qe,isFullWidth:!0,theme:E.NR.SOLID},pe.text))),(null===(G=ge)||void 0===G?void 0:G.text)&&ge.actions&&i.createElement(b.t,{alignSelf:"center"},i.createElement(Je,{size:E.xY.LARGE,onClick:Ke,isFullWidth:!0},i.createElement(h.b,{theme:Ve,size:300},ge.text))),(null===(Y=he)||void 0===Y?void 0:Y.action.resource)&&he.text&&i.createElement(b.t,{grow:1},i.createElement(g.v,{justifyContent:"center",alignItems:"end"},i.createElement(b.t,{grow:2},i.createElement(T.M,{align:"center",size:Ye,theme:Ve,onClick:$e},i.createElement("a",{href:null===(V=he)||void 0===V?void 0:V.action.resource.value,target:"_blank",rel:"noopener noreferrer"},null===(q=he)||void 0===q?void 0:q.text)))))))))))))))),i.createElement(k.ViewMedium,null,i.createElement(we,null,i.createElement(x.K,{isVisible:Le,type:"full",triggerRef:He,theme:"dark"},(null===(H=be)||void 0===H||null===(j=H.icon)||void 0===j?void 0:j.id)&&i.createElement(s.l,{padding:{inlinestart:"three",blockstart:"six"}},i.createElement(O.N,{overlay:!0,navigationContent:{onClick:We,navIconLabel:null===(K=be)||void 0===K||null===(W=K.icon)||void 0===W?void 0:W.description,navButtonId:null===($=be)||void 0===$||null===(Q=$.icon)||void 0===Q?void 0:Q.id}})),i.createElement(A.a,{blockSize:"full_size"},i.createElement(L.K,{canvasTheme:Me,layout:"fullwidth"},i.createElement(s.l,{padding:{block:"twelve"}},i.createElement(S.z,{fullSheetContentMaxWidth:"extra-large",padded:!1},i.createElement(g.v,{direction:"column",alignContent:"space-around",justifyContent:"start",blockSize:"full_size",space:"one"},i.createElement(b.t,{alignSelf:De?"start":"stretch",minWidth:De?64:void 0,maxWidth:"96x"},i.createElement(s.l,{padding:{blockstart:je?"unset":"sixteen"}},i.createElement(g.v,{direction:"column",wrap:De?"wrap":"nowrap"},(null===(Z=fe)||void 0===Z?void 0:Z.description)&&(null===(X=fe)||void 0===X?void 0:X.url)&&i.createElement(b.t,{minWidth:64},i.createElement(M.F,{url:fe.url,description:fe.description,size:12})),(null===(J=ke)||void 0===J?void 0:J.url)&&ke.description&&i.createElement(b.t,{maxWidth:500,alignSelf:"center"},i.createElement(p.N,{imageFit:"contain",ratio:p.s.R21_9},i.createElement(_.p,{src:null===(ee=ke)||void 0===ee?void 0:ee.url,alt:null===(ne=ke)||void 0===ne?void 0:ne.description})))))),i.createElement(s.l,{margin:{blockstart:je?"three":"six"}},i.createElement(b.t,{grow:1,maxWidth:"96x"},i.createElement(g.v,{direction:"column",space:"six"},i.createElement(b.t,null,i.createElement(h.b,{theme:Ve,align:De?"left":"center",weight:Be,size:Fe},null===(te=ve)||void 0===te?void 0:te.text)),(null===(ie=Ee)||void 0===ie?void 0:ie.text)&&i.createElement(b.t,null,i.createElement(h.b,{theme:Ve,align:De?"left":"center",weight:Ge,size:Ue},Ee.text)),pe.text&&en&&i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"three"}},i.createElement(Xe,{href:en,size:E.xY.LARGE,onClick:Qe,isFullWidth:!0,theme:E.NR.SOLID},pe.text))),(null===(le=ge)||void 0===le?void 0:le.text)&&ge.actions&&i.createElement(b.t,{alignSelf:"center"},i.createElement(Je,{size:E.xY.LARGE,onClick:Ke,isFullWidth:!0},i.createElement(h.b,{theme:Ve,size:300},ge.text))),(null===(ae=he)||void 0===ae?void 0:ae.action.resource)&&he.text&&i.createElement(b.t,{grow:1},i.createElement(g.v,{justifyContent:"center",alignItems:"end"},i.createElement(b.t,{grow:2},i.createElement(T.M,{align:"center",size:Ye,theme:Ve,onClick:$e},i.createElement("a",{href:null===(oe=he)||void 0===oe?void 0:oe.action.resource.value,target:"_blank",rel:"noopener noreferrer"},null===(re=he)||void 0===re?void 0:re.text))))))))))))))))))},_n=function(e){var n=e.heading,t=e.body,l=e.links,a=e.revealActions,o=ye();i.useEffect((function(){o(a)}),[]);var r=i.useCallback((function(e){return function(){o(e)}}),[o]);return i.createElement(c.t,{border:!0},i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(d.U,null,n&&i.createElement("div",null,i.createElement(P.y,{tag:"h3",size:5},n)),t&&i.createElement("div",null,t.map((function(e,n){var t,l;return i.createElement(h.b,{key:"body-".concat(n),spacing:"one",size:300},null===(l=e.items)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.text)}))),l&&i.createElement(s.l,{margin:{blockstart:"two"}},i.createElement(h.b,{spacing:"three",size:300},l.map((function(e,n){var t,l;return i.createElement(s.l,{key:"link-".concat(n),margin:{inlineend:"twelve"}},i.createElement(T.M,{inline:!0},i.createElement("a",{"aria-label":e.text,href:null===(t=e.uri)||void 0===t?void 0:t.value,target:"_blank",rel:"noopener noreferrer",onClick:r(e.actions)},e.text,(null===(l=e.icon)||void 0===l?void 0:l.description)&&i.createElement("span",{className:"is-visually-hidden"}," ",e.icon.description))))})))))))},An=function(e){var n=e.heading,t=e.body,l=e.links,a=e.icon,o=e.revealActions,r=ye();i.useEffect((function(){r(o)}),[]);var d,u,m=i.useCallback((function(e){return function(){r(e)}}),[r]);return i.createElement(c.t,{padded:!0,border:!0},i.createElement(g.v,{alignItems:"center",space:"three"},i.createElement(b.t,null,i.createElement("div",null,i.createElement(f.fR,{id:a.description||a.title?"generic-notification-icon-".concat(a.id):void 0,name:a.id,spotlight:"info",description:null!==(d=a.description)&&void 0!==d?d:void 0,title:null!==(u=a.title)&&void 0!==u?u:void 0}))),i.createElement(b.t,null,i.createElement("div",null,n&&i.createElement(P.y,{size:7,tag:"h2"},n),t&&i.createElement(s.l,{margin:{blockstart:"half"}},t.map((function(e,n){var t,l;return i.createElement(h.b,{key:"body-text-".concat(n)},null===(l=e.items)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.text)}))),l&&i.createElement(F.Y,{bullet:"no-bullet",orientation:"inline",size:2,spacing:!0,type:"unordered"},i.createElement(B.m,null,l.map((function(e,n){var t;return i.createElement(T.M,{inline:!0,key:"link-text-".concat(n)},i.createElement("a",{href:null===(t=e.uri)||void 0===t?void 0:t.value,"aria-label":e.text,onClick:m(e.actions)},e.text))}))))))))},Cn=function(e){var n,t,l,a,o,r,c=e.data||{},d=c.title,u=c.body,s=c.links,m=c.revealActions,v=c.icon;return v?i.createElement(An,{heading:null===(l=d)||void 0===l||null===(t=l.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text,body:u,links:s,icon:v,revealActions:m}):i.createElement(_n,{heading:null===(r=d)||void 0===r||null===(o=r.items)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.text,body:u,links:s,revealActions:m})},Tn=function(e){var n,t,l,a=e.type,o=e.notificationLocation,r=e.title,c=e.revealActions,d=e.logo,u=e.containerLink,v=e.dismiss,p=e.referrer,k=e.body,_=ye(),A=ce(i.useState(!0),2),C=A[0],T=A[1],N=(0,y.x)().cache;if(i.useEffect((function(){_(c)}),[]),!C)return null;var x=Ae(null===(t=u)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.value,p),S=function(){var e;_(null===(e=u)||void 0===e?void 0:e.actions)};return i.createElement(L.K,{canvasTheme:"brand_promo_primary",layout:"centered"},i.createElement(g.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"center"},i.createElement("section",null,i.createElement("a",{href:x,onClick:S,onKeyDown:S},i.createElement(s.l,{padding:{block:"three"}},i.createElement(g.v,{direction:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"center",grow:0,shrink:1},i.createElement("img",{alt:d.description,src:d.url,width:"48",height:"48"})),i.createElement(b.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(g.v,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},r&&i.createElement(s.l,{padding:{inlinestart:"three"}},null===(l=r.items)||void 0===l?void 0:l.map((function(e,n){var t=e.text;return i.createElement(h.b,{key:"text-element-".concat(n),theme:"inverse",align:"left",size:300,weight:"medium"},t)}))),k&&i.createElement(s.l,{padding:{inlinestart:"three"}},k.map((function(e,n){var t;return null===(t=e.items)||void 0===t?void 0:t.map((function(e,t){var l=e.text;return i.createElement(h.b,{key:"body-".concat(n,".item-").concat(t),theme:"inverse",align:"left",size:300},l)}))})))))))))),i.createElement(b.t,{alignSelf:"center"},i.createElement(m.n,{onClick:function(){var e;T(!1),_(null===(e=v)||void 0===e?void 0:e.actions),Te(N,a,o)},name:"close","aria-label":"close",size:E.xY.SMALL},i.createElement(f.fR,{name:"close",size:f.eZ.SMALL})))))};Tn.displayName="sharedui-HeaderBanner";var Nn={countryCode:"",phoneNumber:"",phoneNumberErrMsg:"",hasInvalidFields:!1},xn=i.createContext({state:Nn}),Sn=function(e,n){var t=n.field,i=n.value;return oe(ae({},e),ie({},t,i))},Ln=function(e){var n=e.children,t=e.defaultSelectedOptionVal,l=oe(ae({},Nn),{countryCode:t}),a=ce(i.useReducer(Sn,l),2),o=a[0],r=a[1];return i.createElement(xn.Provider,{value:{state:o,dispatch:r}},n)},In=function(e){var n=e.data,t=n.label,l=n.id,a=n.options,o=i.useContext(xn),r=o.state,c=o.dispatch;return a&&a.length?i.createElement(U.e,{id:l,name:l,label:t,value:r.countryCode,onChange:function(e){return c({field:e.target.name,value:e.target.value})}},a.map((function(e){return i.createElement("option",{key:e.id,value:e.value},e.id===r.countryCode?e.shortLabel:e.text)}))):null};In.displayName="sharedui-CustomerNotificationSelectionField";var wn,Rn=function(e){var n=e.data,t=n.label,l=n.id,a=i.useContext(xn),o=a.state,r=a.dispatch,c=i.useRef();return i.useEffect((function(){var e,n,t;o.hasInvalidFields&&(null===(e=c)||void 0===e?void 0:e.current)&&"function"==typeof(null===(n=c)||void 0===n?void 0:n.current.focus)&&(null===(t=c)||void 0===t||t.current.focus())}),[c,o.hasInvalidFields]),i.createElement(G.w,{id:l,name:l,label:t,value:o.phoneNumber,invalid:o.phoneNumberErrMsg,onChange:function(e){return r({field:e.target.name,value:e.target.value})},domRef:c})};Rn.displayName="sharedui-CustomerNotificationTextInputField";var On=(ie(wn={},"PRIMARY_BUTTON",v.Y),ie(wn,"SECONDARY_BUTTON",I.p),wn),Pn=function(e){return On["".concat(e)]||v.Y},Dn=function(e){var n=e.data,t=n.id,l=n.label,a=n.buttonType,o=Pn(a);return i.createElement(o,{id:t,name:t,type:"submit",size:E.xY.LARGE,isFullWidth:!0},l)};Dn.displayName="sharedui-CustomerNotificationSubmitButton";var Mn={NotificationTextInputField:Rn,NotificationSubmitButton:Dn,NotificationSelectionField:In},zn=i.createContext({rootElements:{heading:!1,body:!1,qrCode:!1,formSections:!1,qrCodeTitle:!1,backgroundImageUrl:!1}}),Fn=function(e){var n,t,l,a,o,r,c,d,u,s=e.children,m=e.data,v=m.title,E=m.body,f=m.customQrCode,p=m.form,g=m.backgroundImage,b={rootElements:{heading:!!(null===(t=v)||void 0===t||null===(n=t.items[0])||void 0===n?void 0:n.text),body:!!E,qrCode:!!((null===(a=f)||void 0===a||null===(l=a.image)||void 0===l?void 0:l.url)&&(null===(r=f)||void 0===r||null===(o=r.image)||void 0===o?void 0:o.description)),formSections:!!(null===(c=p)||void 0===c?void 0:c.sections),qrCodeTitle:!!(null===(d=f)||void 0===d?void 0:d.title),backgroundImageUrl:!!(null===(u=g)||void 0===u?void 0:u.url)}};return i.createElement(zn.Provider,{value:b},s)},Bn=function(){return i.useContext(zn)},Un=function(e){var n=e.title,t=e.fields,l=e.formTitle,a=Bn().rootElements,o=a.body||a.heading?"six":"unset";return i.createElement(i.Fragment,null,n&&i.createElement(s.l,{padding:{blockstart:o,blockend:"three"}},i.createElement("div",null,i.createElement(P.y,{tag:"h3",size:5},n))),l&&i.createElement("span",{className:"is-visually-hidden"},l),i.createElement(s.l,{padding:{blockstart:"unset"}},i.createElement(g.v,{space:"four",wrap:"wrap"},t.map((function(e,n){var t=Mn[e.__typename];return i.createElement(b.t,{key:n,grow:2,minWidth:"twenty_four"},i.createElement("div",null,i.createElement(t,{data:e})))})))))};Un.displayName="MadMarqueeFormSection";var Gn=function(e){var n=e.data,t=e.formTitle,l=n.title,a=n.fields;return a&&a.length?i.createElement(Un,{title:l,fields:a,formTitle:t}):null},Yn=function(e){var n,t,l=e.body,a=e.isMobile,o=Bn().rootElements,r=o.formSections,c=o.qrCode,d=o.qrCodeTitle,u=!r&&c&&d,m=a?{padding:{blockstart:"one",blockend:"two"}}:{padding:{blockstart:"two",inlineend:"four"}};return i.createElement(i.Fragment,null,u&&i.createElement(s.l,{padding:{blockstart:"six",inlineend:"four",blockend:"six"}},i.createElement(F.Y,{spacing:!1},l.map((function(e,n){var t,l,a=null===(t=e.items)||void 0===t?void 0:t[0];return i.createElement(h.b,{key:n,weight:"IMPORTANT"===a.styles[0]?"bold":"regular",size:"IMPORTANT"===a.styles[0]?500:400},null===(l=a)||void 0===l?void 0:l.text)})))),l.length>1&&!u&&i.createElement(s.l,{padding:{blockstart:"three",inlineend:"four"}},i.createElement(F.Y,{spacing:!1},l.map((function(e,n){var t,l;return i.createElement(B.m,{key:n},null===(l=e.items)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.text)})))),1===l.length&&!u&&i.createElement(s.l,{padding:m.padding},i.createElement(h.b,{className:"uitk-type-paragraph-300"},null===(t=l[0].items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text)))};Yn.displayName="MadMarqueeSubSection";var Vn=function(e){var n=e.appDownloadLink,t=e.tuneLink,l=e.onClickButton,a=Pn(t.type);return i.createElement(a,{id:"download-btn",name:"download-btn",href:n,onClick:l,size:E.xY.LARGE,isFullWidth:!0},t.text)},qn=function(e){var n,t,l=e.onSecondaryClickButton,a=e.secondaryLink,o=e.secondLink;return i.createElement(T.M,{noWrap:!0,inline:!0,onClick:l},i.createElement("a",{"aria-label":null===(n=o)||void 0===n?void 0:n.text,href:a,target:"_blank",rel:"noopener noreferrer"},null===(t=o)||void 0===t?void 0:t.text))},jn=function(e){var n,t=e.subBody;if(t&&0===t[0].title.egdsItems.length)return null;var l=null===(n=t)||void 0===n?void 0:n[0].title.egdsItems[0],a=l&&"text"in l&&l.text,o=l&&"weight"in l&&l.weight||void 0;return a&&o?i.createElement(s.l,{padding:{blockstart:"twelve",inlineend:"four",blockend:"two"}},i.createElement(h.b,{weight:o&&en[o],size:400},a)):null},Hn=function(e){var n,t,l,a=e.backgroundImageUrl,o=e.backgroundImageDescription,r=e.heading,u=e.body,m=e.subBody,v=e.qrCodeUrl,E=e.qrCodeDesc,f=e.qrCodeTitle,h=e.tuneLink,y=e.secondLink,T=e.revealActions,N=e.referer,x=ye();i.useEffect((function(){x(T)}),[]);var S=function(){x(h.actions)},L=function(){var e;x(null===(e=y)||void 0===e?void 0:e.actions)},I=4,w=!1,R=!1;v&&E&&("app_71",I=3,u&&f&&(I=5,w=!0,R=!0));var O=Ae(null===(n=h.uri)||void 0===n?void 0:n.value,N),D=Ae(null===(l=y)||void 0===l||null===(t=l.uri)||void 0===t?void 0:t.value,N);return i.createElement(k.Viewport,null,i.createElement(k.ViewLarge,null,i.createElement(c.t,{border:!0},i.createElement(A.a,{columns:3},i.createElement(C.P,{colSpan:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(A.a,{columns:w?7:4,space:"half"},i.createElement(C.P,{alignSelf:"start",colSpan:I},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(s.l,{padding:{blockend:w?"six":"one"}},r&&i.createElement(P.y,{tag:"h2",size:3,id:"marquee-title"},r)),u&&i.createElement(Yn,{body:u}),m&&i.createElement(jn,{subBody:m}))),v&&E&&i.createElement(C.P,{colSpan:R?2:1},i.createElement("div",null,f&&i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":f})),i.createElement(s.l,{padding:{blockstart:R?"unset":"four"}},i.createElement("div",null,i.createElement(p.N,{ratio:p.s.R1_1},i.createElement(_.p,{src:v,alt:E})))),f&&i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(P.y,{tag:"h3",align:"center",size:7,"aria-hidden":"true"},f))))))))))),i.createElement(k.ViewMedium,null,i.createElement(c.t,{border:!0},i.createElement(A.a,{columns:3},i.createElement(i.Fragment,null,a&&i.createElement(C.P,{colSpan:1},i.createElement(p.N,{ratio:p.s.R16_9},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o}))),i.createElement(C.P,{colSpan:a?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(P.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement(Yn,{body:u}),i.createElement(A.a,{space:"six",columns:y?8:6},i.createElement(C.P,{colSpan:w?8:4},i.createElement(s.l,{padding:{blockstart:w?"unset":"six"}},i.createElement("div",null,i.createElement(Vn,{appDownloadLink:O,tuneLink:h,onClickButton:S})))),y&&i.createElement(C.P,{alignSelf:"center",colSpan:1},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(qn,{secondaryLink:D,onSecondaryClickButton:L,secondLink:y}))))))))))))),i.createElement(k.ViewSmall,null,i.createElement(c.t,{border:!0},a&&i.createElement(p.N,{className:"all-image-fit-cover",ratio:p.s.R21_9},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o})),i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(A.a,{columns:4},i.createElement(C.P,{colSpan:4},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(P.y,{tag:"h2",size:5,id:"marquee-title"},r),u&&i.createElement(Yn,{body:u,isMobile:!0}),i.createElement(s.l,{padding:{blockstart:w?"unset":"four"}},i.createElement(g.v,{space:"four",direction:"column",alignItems:"center"},i.createElement(i.Fragment,null,i.createElement(b.t,null,i.createElement(Vn,{appDownloadLink:O,tuneLink:h,onClickButton:S})),y&&i.createElement(b.t,null,i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(qn,{secondaryLink:D,onSecondaryClickButton:L,secondLink:y})))))))))))))))};Hn.displayName="CustomInpageMarquee";var Wn=(0,o.Ps)(Ee()),Kn=function(e){var n,t,l,o,r,c,d,u,m,v,E,f,p,g,b,y=e.formTitle,k=e.formSections,_=e.formMessages,A=e.placementId,C=e.successFormAnalytics,T=e.errorFormAnalytics,N=ye(),x=null===(t=k[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return"NotificationSubmitButton"===e.__typename})),S=null===(o=x)||void 0===o||null===(l=o.actions)||void 0===l?void 0:l.find((function(e){return"NotificationAnalytics"===e.__typename})),L=(null===(r=S)||void 0===r?void 0:r.schema)?null===(c=x)||void 0===c?void 0:c.actions:C,I=ce((0,Y.D)(Wn),2),w=I[0],R=I[1],O=R.loading,P=R.error,D=R.data,M=i.useContext(xn),z=M.state,F=M.dispatch,B=function(e,n){F({field:e,value:n})},U=[],G=[];null===(d=T)||void 0===d||d.forEach((function(e){var n,t;if("NotificationAnalytics"===(null===(n=e)||void 0===n?void 0:n.__typename))if("Invalid Phone Number omtr event"===e.description)null===(t=G)||void 0===t||t.push(e);else if("Unsuccessful text message omtr event"===e.description){var i;null===(i=U)||void 0===i||i.push(e)}}));var j=function(e,n){var t;null===(t=_)||void 0===t||t.forEach((function(t){var i;"FORM"===(null===(i=t)||void 0===i?void 0:i.displayType)&&t.level===e&&t.name===n&&(0,q.liveAnnounce)(t.text,q.Level.POLITE)}))};i.useEffect((function(){var e,n,t,i,l,a,o,r,c,d,u,s,m,v,E,f,p,g;O||P||"SUCCESS"!==(null===(n=D)||void 0===n||null===(e=n.sendTextToDownloadApp)||void 0===e?void 0:e.messageType)||((0,q.liveAnnounce)(null===(m=D)||void 0===m||null===(s=m.sendTextToDownloadApp)||void 0===s?void 0:s.messageBody,q.Level.POLITE),N(L));(!O&&"SERVICE_ERROR"===(null===(i=D)||void 0===i||null===(t=i.sendTextToDownloadApp)||void 0===t?void 0:t.messageType)&&!(null===(a=D)||void 0===a||null===(l=a.sendTextToDownloadApp)||void 0===l?void 0:l.invalidFields)||P)&&(j("ERROR","service_error_msg"),N((null===(v=S)||void 0===v?void 0:v.schema)?null===(E=x)||void 0===E?void 0:E.actions:U));O||P||z.hasInvalidFields||"SERVICE_ERROR"!==(null===(r=D)||void 0===r||null===(o=r.sendTextToDownloadApp)||void 0===o?void 0:o.messageType)||!(null===(u=D)||void 0===u||null===(d=u.sendTextToDownloadApp)||void 0===d||null===(c=d.invalidFields)||void 0===c?void 0:c[0])||(F({field:"hasInvalidFields",value:!0}),B(D.sendTextToDownloadApp.invalidFields[0],D.sendTextToDownloadApp.messageBody),(null===(f=G)||void 0===f?void 0:f.length)>0?N(G):N((null===(p=S)||void 0===p?void 0:p.schema)?null===(g=x)||void 0===g?void 0:g.actions:U))}));var H=(0,a.v)().context;return i.createElement("form",{onSubmit:function(e){_&&j("INFO","info_msg"),e.preventDefault(),F({field:"hasInvalidFields",value:!1}),B("phoneNumberErrMsg",""),w({variables:{context:H,placementId:A,customerInput:{inputs:[{value:z.phoneNumber,type:"phoneNumber"},{value:z.countryCode,type:"countryCode"}]}}})}},i.createElement(s.l,{padding:{blockend:"three"}},i.createElement("div",null,k.map((function(e,n){return i.createElement(Gn,{data:e,key:n,formTitle:y})})))),!O&&!P&&"SUCCESS"===(null===(m=D)||void 0===m||null===(u=m.sendTextToDownloadApp)||void 0===u?void 0:u.messageType)&&!z.hasInvalidFields&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(h.b,{size:300,theme:"positive"},D.sendTextToDownloadApp.messageBody)),!O&&!P&&"SERVICE_ERROR"===(null===(E=D)||void 0===E||null===(v=E.sendTextToDownloadApp)||void 0===v?void 0:v.messageType)&&!z.hasInvalidFields&&!(null===(p=D)||void 0===p||null===(f=p.sendTextToDownloadApp)||void 0===f?void 0:f.invalidFields)&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(h.b,{size:300,theme:"negative"},D.sendTextToDownloadApp.messageBody)),P&&(null===(b=_)||void 0===b||null===(g=b[0])||void 0===g?void 0:g.text)&&i.createElement(s.l,{padding:{blockend:"three"}},i.createElement(h.b,{size:300,theme:"negative"},_[0].text)),O&&i.createElement(V.y,{isSmall:!0}),y&&i.createElement(h.b,{size:200,"aria-hidden":!0},y))};Kn.displayName="MadMarqueeForm";var Qn=function(e){var n,t,l,a,o,r,c=e.formTitle,d=e.formSections,u=e.formMessages,s=e.placementId,m=e.successFormAnalytics,v=e.errorFormAnalytics,E=null===(o=null===(l=d)||void 0===l||null===(t=l[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return"NotificationSelectionField"===e.__typename})))||void 0===o||null===(a=o.options)||void 0===a?void 0:a.find((function(e){return!0===e.selected}));return i.createElement(Ln,{defaultSelectedOptionVal:(null===(r=E)||void 0===r?void 0:r.value)||""},i.createElement(Kn,{formTitle:c,formSections:d,formMessages:u,placementId:s,successFormAnalytics:m,errorFormAnalytics:v}))};Qn.displayName="MadMarqueeFormWrapper";var $n=function(e){var n,t,l=e.legalText;return i.createElement(i.Fragment,null,null===(t=l)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.map((function(e,n){var t,l;return i.createElement("div",{key:"text-element-container-".concat(n)},i.createElement(s.l,{padding:{blockstart:"four"}},"NotificationPhraseLinkNode"===(null===(t=e)||void 0===t?void 0:t.__typename)&&(null===(l=e)||void 0===l?void 0:l.uri)&&e.uri.value?i.createElement("div",null,i.createElement(T.M,{inline:!0},i.createElement("a",{href:e.uri.value,key:"text-element-".concat(n),target:"_blank",rel:"noopener noreferrer"},e.text))):i.createElement("div",null,i.createElement(h.b,{size:300}," ",e.text," "))))})))},Zn=function(e){var n,t,l,a=e.backgroundImageUrl,o=e.backgroundImageDescription,r=e.heading,u=e.body,m=e.subBody,v=e.formTitle,E=e.formSections,f=e.formMessages,h=e.successFormAnalytics,y=e.errorFormAnalytics,T=e.qrCodeUrl,N=e.qrCodeDesc,x=e.qrCodeTitle,S=e.tuneLink,L=e.secondLink,I=e.revealActions,w=e.referer,R=e.legalText,O=ye();i.useEffect((function(){O(I)}),[]);var D=function(){O(S.actions)},M=function(){var e;O(null===(e=L)||void 0===e?void 0:e.actions)},z="RIGHT_FULLBLEED_ONE_HALF"===o,F=4,B="app_72",U=!1,G=!1;T&&N&&(B="app_71",F=3,a||r||u||(F=5,U=!0),u&&!E&&x&&(F=5,U=!0,G=!0));var Y=Ae(null===(n=S.uri)||void 0===n?void 0:n.value,w),V=Ae(null===(l=L)||void 0===l||null===(t=l.uri)||void 0===t?void 0:t.value,w);return i.createElement(k.Viewport,null,i.createElement(k.ViewLarge,null,i.createElement(c.t,{border:!0},i.createElement(A.a,{columns:3},i.createElement(i.Fragment,null,a&&!z&&i.createElement(C.P,{colSpan:1},i.createElement(p.N,{ratio:p.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o}))),i.createElement(C.P,{colSpan:a?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(A.a,{columns:U?6:4,space:"six"},i.createElement(C.P,{alignSelf:G?"center":"start",colSpan:F},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},r&&i.createElement(P.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement(Yn,{body:u}),m&&i.createElement(jn,{subBody:m}),L&&i.createElement(A.a,{space:"six",columns:6},i.createElement(C.P,{colSpan:3},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(Vn,{appDownloadLink:Y,tuneLink:S,onClickButton:D})))),i.createElement(C.P,{alignSelf:"center",colSpan:3},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(qn,{secondaryLink:V,onSecondaryClickButton:M,secondLink:L}))))),E&&i.createElement(Qn,{formTitle:v,formSections:E,formMessages:f,successFormAnalytics:h,errorFormAnalytics:y,placementId:B}),i.createElement($n,{legalText:R}))),T&&N&&i.createElement(C.P,{colSpan:1},i.createElement("div",null,x&&i.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},i.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":x})),i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement("div",null,i.createElement(p.N,{ratio:p.s.R1_1},i.createElement(_.p,{src:T,alt:N})))),x&&i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(P.y,{tag:"h3",align:"center",size:7,"aria-hidden":"true"},x)))))))),a&&z&&i.createElement(C.P,{colSpan:1},i.createElement(p.N,{ratio:p.s.R16_9},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o}))))))),i.createElement(k.ViewMedium,null,i.createElement(c.t,{border:!0},i.createElement(A.a,{columns:3},i.createElement(i.Fragment,null,a&&i.createElement(C.P,{colSpan:1},i.createElement(p.N,{ratio:p.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o}))),i.createElement(C.P,{colSpan:a?2:3},i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(P.y,{tag:"h2",size:3,id:"marquee-title"},r),u&&i.createElement(Yn,{body:u}),i.createElement(A.a,{space:"six",columns:L?6:3},i.createElement(C.P,{colSpan:U?6:1},i.createElement(s.l,{padding:{blockstart:U?"unset":"six"}},i.createElement("div",null,i.createElement(Vn,{appDownloadLink:Y,tuneLink:S,onClickButton:D})))),L&&i.createElement(C.P,{alignSelf:"center",colSpan:1},i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement("div",null,i.createElement(qn,{secondaryLink:V,onSecondaryClickButton:M,secondLink:L}))))),i.createElement($n,{legalText:R}))))))))),i.createElement(k.ViewSmall,null,i.createElement(c.t,{border:!0},a&&i.createElement(p.N,{className:"all-image-fit-cover",ratio:p.s.R3_2},i.createElement(_.p,{placeholderImage:!0,src:a,alt:o})),i.createElement(d.U,{padded:!1},i.createElement(s.l,{padding:"six"},i.createElement(A.a,{columns:4},i.createElement(C.P,{colSpan:4},i.createElement("div",{role:"region","aria-labelledby":"marquee-title"},i.createElement(P.y,{tag:"h2",size:5,id:"marquee-title"},r),u&&i.createElement(Yn,{body:u,isMobile:!0}),i.createElement(s.l,{padding:{blockstart:U?"unset":"four"}},i.createElement(g.v,{space:"four",direction:"column",alignItems:"center"},i.createElement(i.Fragment,null,i.createElement(b.t,null,i.createElement(Vn,{appDownloadLink:Y,tuneLink:S,onClickButton:D})),L&&i.createElement(b.t,null,i.createElement(s.l,{padding:{blockstart:"four"}},i.createElement("div",null,i.createElement(qn,{secondaryLink:V,onSecondaryClickButton:M,secondLink:L})))),i.createElement($n,{legalText:R}))))))))))))};Zn.displayName="sharedui-MadMarquee";var Xn=function(e){var n,t,l,a,o,r,c,d,u,s,m,v,E,f,p,g,b=e.data,h=e.inputs,y=h.optionalContext,k=h.notificationLocation,_=b.legalText,A=b.title,C=b.body,T=b.subBody,N=b.logo,x=b.links,S=b.revealActions,L=b.backgroundImage,I=b.form,w=b.customQrCode;if(!N||!(null===(n=x)||void 0===n?void 0:n.length))return null;var R,O,P,D,M,z,F,B,U=(null===(l=A)||void 0===l||null===(t=l.items[0])||void 0===t?void 0:t.text)||"";return"IN_PAGE"===k?i.createElement(Fn,{data:b},i.createElement(Hn,{body:C||null,subBody:T||null,heading:U,backgroundImageUrl:null===(R=L)||void 0===R?void 0:R.url,backgroundImageDescription:null===(O=L)||void 0===O?void 0:O.description,qrCodeUrl:null===(D=w)||void 0===D||null===(P=D.image)||void 0===P?void 0:P.url,qrCodeDesc:null===(z=w)||void 0===z||null===(M=z.image)||void 0===M?void 0:M.description,qrCodeTitle:null===(F=w)||void 0===F?void 0:F.title,tuneLink:x[0],secondLink:x[1],revealActions:S,referer:null===(B=y)||void 0===B?void 0:B.referer})):i.createElement(Fn,{data:b},i.createElement(Zn,{body:C||null,subBody:T||null,heading:U,backgroundImageUrl:null===(a=L)||void 0===a?void 0:a.url,backgroundImageDescription:null===(o=L)||void 0===o?void 0:o.description,formTitle:(null===(r=I)||void 0===r?void 0:r.title)||null,formSections:(null===(c=I)||void 0===c?void 0:c.sections)||null,formMessages:(null===(d=I)||void 0===d?void 0:d.feedbackMessages)||null,successFormAnalytics:(null===(u=I)||void 0===u?void 0:u.successFormAnalytics)||null,errorFormAnalytics:(null===(s=I)||void 0===s?void 0:s.errorFormAnalytics)||null,qrCodeUrl:null===(v=w)||void 0===v||null===(m=v.image)||void 0===m?void 0:m.url,qrCodeDesc:null===(f=w)||void 0===f||null===(E=f.image)||void 0===E?void 0:E.description,qrCodeTitle:null===(p=w)||void 0===p?void 0:p.title,tuneLink:x[0],secondLink:x[1],legalText:_,revealActions:S,referer:null===(g=y)||void 0===g?void 0:g.referer}))},Jn=function(e){var n=e.checked,t=e.checkedLabel,l=e.toggleEnabledAnnounceMsg,a=e.uncheckedLabel,o=e.toggleDisabledAnnounceMsg,d=e.logoUrl,u=e.logoDescription,m=e.revealActions,v=e.checkedAnalytics,E=e.uncheckedAnalytics,f=e.switchHandler,p=e.backgroundTheme,h=ye(),y=(0,r.useClickTracker)();i.useEffect((function(){h(m)}),[]);var k=ce(i.useState(n),2),_=k[0],A=k[1],C=i.useCallback((function(){v&&!_&&(y(v.referrerId,v.linkName),l&&(0,q.liveAnnounce)(l,q.Level.POLITE)),E&&_&&(y(E.referrerId,E.linkName),o&&(0,q.liveAnnounce)(o,q.Level.POLITE)),A(!_),f(!_)}),[v,E,_,f]);return i.createElement(c.t,{backgroundTheme:un(null!=p?p:"PRIMARY")},i.createElement(s.l,{padding:{inlinestart:"four"}},i.createElement(g.v,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"center"},i.createElement("section",null,i.createElement(s.l,{padding:{block:"two"}},i.createElement(g.v,{direction:"row",alignItems:"start",justifyContent:"space-between"},d&&u&&i.createElement(b.t,{grow:0,shrink:1},i.createElement(M.F,{url:d,description:u,size:j.M[7]})),t&&a&&i.createElement(b.t,{alignSelf:"center",grow:1,shrink:1},i.createElement(g.v,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},i.createElement(s.l,{padding:{inline:"four"}},i.createElement(H.n,{id:"SwitchLabelTrailing",switchPosition:"trailing",checked:_,onChange:C,label:_?t:a,labelClassName:"uitk-type-400 uitk-type-medium"})))))))))))};Jn.displayName="sharedui-OneKeyBanner";var et,nt,tt=i.memo(bn),it=function(e){var n,t,l,a,o,r,c,d,u,s,m,v,E,f=e.data,p=e.switchHandler,g=e.useRewards,b=e.inputs,h=f.type,y=f.notificationLocation,k=f.title,_=f.logo,A=f.dismiss,C=f.revealActions,T=f.links,N=f.containerLink,x=f.body,S=f.subBody,L=f.icon,I=f.customQrCode,w=f.theme,R=f.switch,O=!!R,P=!0===(null===(n=R)||void 0===n?void 0:n.checked)&&!0===g,D="NotificationCardTheme"===(null===(t=w)||void 0===t?void 0:t.__typename)?null===(l=w)||void 0===l?void 0:l.themeValue:null,M="NotificationCardTheme"===(null===(a=w)||void 0===a?void 0:a.__typename)&&(null===(o=w)||void 0===o?void 0:o.cardBorder),z=i.useMemo((function(){var e;return{type:h,notificationLocation:y,title:k,revealActions:C,logo:_,links:T,containerLink:N,dismiss:A,referer:null===(e=b.optionalContext)||void 0===e?void 0:e.referer,body:x,subBody:S,icon:L,qrCode:I,backgroundTheme:D,border:M}}),[]);return i.createElement(i.Fragment,null,O?i.createElement(Jn,{checked:P,checkedLabel:null===(r=R)||void 0===r?void 0:r.checkedLabel,toggleEnabledAnnounceMsg:null===(c=R)||void 0===c?void 0:c.checkedAccessibilityLabel,uncheckedLabel:null===(d=R)||void 0===d?void 0:d.uncheckedLabel,toggleDisabledAnnounceMsg:null===(u=R)||void 0===u?void 0:u.uncheckedAccessibilityLabel,logoUrl:null===(s=_)||void 0===s?void 0:s.url,logoDescription:null===(m=_)||void 0===m?void 0:m.description,revealActions:C,checkedAnalytics:null===(v=R)||void 0===v?void 0:v.checkedAnalytics,uncheckedAnalytics:null===(E=R)||void 0===E?void 0:E.uncheckedAnalytics,switchHandler:p||function(e){return e},backgroundTheme:D}):i.createElement(tt,ae({},z)))},lt="cust-notif-onetrust-script",at=function(e,n){var t;if(e)return null===(t=e.find((function(e){return e.name&&e.name===n})))||void 0===t?void 0:t.value},ot=(0,o.Ps)(fe()),rt=function(e,n,t){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OT_OIP_REQUEST_FAILED");"true"===n&&window.location.reload()})).catch((function(e){t(e)}))},ct=function(e,n){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OT_OIP_REQUEST_FAILED")})).catch((function(e){n(e)}))},dt=(et=function(e,n,t,i){var l,a,o,r,c,d,u,s,m,v,E,f,p,g;return me(this,(function(b){switch(b.label){case 0:return b.trys.push([0,12,,13]),o=at(n,"optInPrivacyValue"),r=at(n,"canSellCookieValue"),c=at(n,"optInUrl")||"",d=at(n,"optOutUrl")||"",u=null===(l=at(n,"consentCatagories"))||void 0===l?void 0:l.split("|"),s=window.OnetrustActiveGroups?window.OnetrustActiveGroups.split(",").filter((function(e){return e.length>0})):[],m=at(n,"shouldReloadOnAccept"),v=at(n,"Experiment"),E=(null===(a=u)||void 0===a?void 0:a.every((function(e){return s.includes(e)})))||!1,(f=v&&"true"===v)&&(p={context:e,request:{canSell:E}}),"gdpr|-1"===o||"null"===o&&"null"===r?f?[4,t({variables:p})]:[3,2]:[3,4];case 1:return b.sent().data,[3,3];case 2:E?rt(c,m,i):ct(d,i),b.label=3;case 3:return[3,11];case 4:return"gdpr|0"!==o&&"ccpa|0"!==r||!E?[3,8]:f?[4,t({variables:p})]:[3,6];case 5:return b.sent().data,[3,7];case 6:rt(c,m,i),b.label=7;case 7:return[3,11];case 8:return"gdpr|1"!==o&&"ccpa|1"!==r||E?[3,11]:f?[4,t({variables:p})]:[3,10];case 9:return b.sent().data,[3,11];case 10:ct(d,i),b.label=11;case 11:return[3,13];case 12:return g=b.sent(),i("OT_OIP_REQUEST_FAILED",g),[3,13];case 13:return[2]}}))},nt=function(){var e=this,n=arguments;return new Promise((function(t,i){var l=et.apply(e,n);function a(e){te(l,t,i,a,o,"next",e)}function o(e){te(l,t,i,a,o,"throw",e)}a(void 0)}))},function(e,n,t,i){return nt.apply(this,arguments)}),ut=function(e){var n,t,l,o=e.onetrustAttributes,r=(0,W.wL)().error,c=ce(i.useState(!1),2),d=c[0],u=c[1];o&&(n=at(o,st),t=at(o,"onetrustScriptId"),l=at(o,"blockingScriptUrl"));var s=at(o,"OneTrustUserId"),m=at(o,"OneTrustUserIdEncoded"),v=at(o,"ShouldAutoOpenPrefs"),E=s&&m&&"-1"!==s&&"null"!==m,f=ce((0,Y.D)(ot),1)[0],p=(0,a.v)().context;return i.useEffect((function(){d||(u(!0),!document.getElementById(lt)&&n&&t&&!window.OneTrust?(E&&(window.OneTrust={dataSubjectParams:{id:s,isAnonymous:!1,token:m}}),window.OptanonWrapper=function(){var e,n,t,i;(null===(n=window)||void 0===n||null===(e=n.OneTrust)||void 0===e?void 0:e.OnConsentChanged)?window.OneTrust.OnConsentChanged((function(){dt(p,o,f,r)})):r("ERROR_LOAD_OT_NOT_DEFINED_ON_INIT"),"true"===v&&(null===(i=window)||void 0===i||null===(t=i.OneTrust)||void 0===t?void 0:t.ToggleInfoDisplay)&&window.OneTrust.ToggleInfoDisplay()},l&&document.head.appendChild(function(e){var n=document.createElement("script");return n.src=e,n.id=lt,n.type="text/javascript",n.setAttribute("data-document-language","true"),n}(l)),document.head.appendChild(function(e,n){var t=window.location.hostname.includes("karmalab")||window.location.hostname.includes("localhost")?"-test":"",i=document.createElement("script");return i.src=e,i.id=lt,i.setAttribute("data-domain-script","".concat(n).concat(t)),i.type="text/javascript",i.setAttribute("data-document-language","true"),i.setAttribute("charset","UTF-8"),i}(n,t))):r("ERROR_LOADING_OT_MISSING_PARAMS"))}),[d,r,n,t,o,l,E,s,m,v,dt,p,f]),null},st="onetrustScriptURL",mt="cust-notif-osano-script";function vt(){var e;if(null===(e=window)||void 0===e?void 0:e.Osano)return window.Osano}var Et=function(e,n){var t;if(e)return null===(t=e.find((function(e){return e.name&&e.name===n})))||void 0===t?void 0:t.value},ft=function(e,n,t){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OIP_REQUEST_FAILED");"true"===n&&window.location.reload()})).catch((function(e){t("OSANO_OPT_IN_REQUEST_FAILED",e)}))},pt=function(e,n){fetch(e,{method:"POST"}).then((function(e){if(!e.ok&&!e.redirected)throw new Error("OIP_REQUEST_FAILED")})).catch((function(e){n("OSANO_OPT_OUT_REQUEST_FAILED",e)}))},gt=function(e){var n,t,l,a,o,r,c=e.osanoAttributes,d=(0,W.wL)().error,u=ce(i.useState(),2),s=u[0],m=u[1],v=ce(i.useState(!1),2),E=v[0],f=v[1],p=ce((0,K.gw)(),2)[1],g=null===(t=c)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value,b=null===(a=c)||void 0===a||null===(l=a[1])||void 0===l?void 0:l.value,h=(null===(r=c)||void 0===r||null===(o=r[2])||void 0===o?void 0:o.name)||"",y=Et(c,"templateOverride"),k=function(){p({type:"osanoInitialized"})},_=function(){var e,n,t=vt();t?(t.cm.locale=b,e=h,(n=document.querySelector(".osano-cm-link"))&&(n.innerHTML=e),function(e,n,t){var i=function(e){if(e)try{var i,l,a,o,r=null===(i=n)||void 0===i?void 0:i[3].value,c=null===(l=n)||void 0===l?void 0:l[4].value,d=null===(a=n)||void 0===a?void 0:a[5].value,u=null===(o=n)||void 0===o?void 0:o[6].value.split("|"),s=Et(n,"shouldReloadOnAccept"),m=u.every((function(n){return"ACCEPT"===e[n]}));"gdpr|-1"===r?m?ft(c,s,t):pt(d,t):"gdpr|0"===r&&m?ft(c,s,t):"gdpr|1"!==r||m||pt(d,t)}catch(v){t("OSANO_CM_SAVED_EVENT_FAILED",v)}};e.addEventListener("osano-cm-initialized",(function(e){return i(e)})),e.addEventListener("osano-cm-consent-saved",(function(e){return i(e)}))}(t.cm,c,d)):d("NO_VALID_OSANO_SCRIPT_FOUND")};return i.useEffect((function(){if(!s&&!document.getElementById(mt))if(!E&&g&&b&&!vt())document.head.appendChild(function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"three",l=document.createElement("script");return l.src="".concat(e,"?language=").concat(n,"&variant=").concat(i),l.id=mt,l.onload=t,l}(g,b,_,y)),document.head.appendChild(((n=document.createElement("style")).innerHTML=".osano-cm-widget{display: none;}",n)),f(!0);else{var e=vt();e&&(m(e),k())}var n}),[E,d,c,k,s,g,b,h,y,_]),null},bt=function(e){var n,t,l,a,o,r,c,d=e.type,u=e.notificationLocation,p=e.title,k=e.revealActions,_=e.logo,A=e.bannerLink,C=e.dismiss,N=e.referer,x=e.legalText,S=ce(i.useState(!0),2),I=S[0],w=S[1],R=ye(),O=(0,y.x)().cache;i.useEffect((function(){R(k)}),[]);if(!I)return null;var P=Ae(null===(t=A)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.value,N);return i.createElement(Q.R,null,i.createElement(s.l,{padding:"six"},i.createElement(L.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},i.createElement(g.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(b.t,{alignSelf:"end"},i.createElement(m.n,{onClick:function(){w(!1),R(C.actions),Te(O,d,u)},"aria-label":"close"},i.createElement(f.fR,{name:"close"}))),i.createElement(b.t,{alignSelf:"center"},i.createElement("img",{alt:_.description,src:_.url,width:"64",height:"64"})),i.createElement(b.t,null,i.createElement(s.l,{margin:{blockstart:"six"}},null===(a=p)||void 0===a||null===(l=a.items)||void 0===l?void 0:l.map((function(e,n){var t=e.text;return i.createElement(h.b,{key:"text-element-".concat(n),theme:"inverse",align:"center",size:700,weight:"medium"},t)})))),(null===(o=A)||void 0===o?void 0:o.uri)&&i.createElement(b.t,{alignSelf:"center"},i.createElement(s.l,{margin:{blockstart:"six",blockend:"three"}},i.createElement(v.Y,{inverse:!0,href:P,size:E.xY.LARGE,onClick:function(){var e;R(null===(e=A)||void 0===e?void 0:e.actions)}},A.text))),null===(c=x)||void 0===c||null===(r=c.items)||void 0===r?void 0:r.map((function(e,n){var t,l;return"NotificationPhraseLinkNode"===(null===(t=e)||void 0===t?void 0:t.__typename)&&(null===(l=e)||void 0===l?void 0:l.uri)&&e.uri.value&&i.createElement(T.M,{align:"center",inline:!0,key:"uitkLink-element-".concat(n)},i.createElement("a",{href:e.uri.value,key:"text-element-".concat(n),target:"_blank",rel:"noopener noreferrer"},i.createElement(h.b,{key:"text-element-".concat(n),theme:"inverse"},e.text)))}))))))};bt.displayName="TakeoverBanner";var ht=function(e){var n,t=e.heading,l=e.message,a=e.icon,o=e.links,r=e.revealActions,c=e.queryInputs,d=e.actionCallback,u=ye(),m=ce(i.useState(!0),2),v=m[0],E=m[1],p=ce((0,R.useDialog)("multi-advisory-dialog"),3),y=p[0],k=p[1],_=p[2],A={query:{type:"TRAVEL_ADVISORY_HIDE"},onSignal:function(){return E(!1)}};if((0,$._9)([A]),i.useEffect((function(){u(r)}),[]),!v)return null;var C=function(e){return function(n){var t,i;u(e.actions),null===(t=d)||void 0===t||t({id:e.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:c.notificationLocation,notificationLinkType:e.type}),(null===(i=e.uri)||void 0===i?void 0:i.value)||"open_multi_advisory_popup"===e.id?"open_multi_advisory_popup"===e.id&&k.openDialog():(n.preventDefault(),n.stopPropagation(),E(!1))}},x=null===(n=o)||void 0===n?void 0:n.map((function(e,n){return i.createElement(B.m,{key:n},i.createElement(T.M,{onClick:C(e),inline:!0},e.uri?i.createElement("a",{href:e.uri.value,target:"_blank",rel:"noopener noreferrer"},e.text):i.createElement("button",{type:"button"},e.text)))}));return i.createElement(i.Fragment,null,y&&i.createElement(N.U,{isVisible:y},i.createElement(_,null,i.createElement(Dt,{inputs:oe(ae({},c),{notificationLocation:"POPUP"}),actionCallback:function(e){var n;"close_multi_advisory_popup"!==e.id&&"notification-not-found-error"!==e.id&&"notification-validation-error"!==e.id&&"notification-network-error"!==e.id||k.closeDialog(),null===(n=d)||void 0===n||n(e)}}))),i.createElement(Z.j,null,i.createElement(s.l,{padding:{block:"one"}},i.createElement(g.v,{alignItems:"center",space:"two"},a&&i.createElement(b.t,null,i.createElement(s.l,{margin:{inlinestart:"four",inlineend:"six"}},i.createElement(f.fR,{name:a.iconName,description:a.iconDescription,title:a.iconTitle}))),i.createElement(b.t,null,i.createElement("div",null,i.createElement(P.y,{tag:"h4"},t.heading),i.createElement(h.b,null,l),i.createElement(F.Y,{bullet:"no-bullet",orientation:"inline"},x)))))))};ht.displayName="sharedui-TravelAdvisory";var yt=function(e){var n,t,l,a,o,r,c,d,u,s=e.data,m=e.inputs,v=e.actionCallback,E=s.title,f=s.body,p=s.links,g=s.revealActions,b=s.icon,h=null===(t=E)||void 0===t||null===(n=t.items)||void 0===n?void 0:n[0].text,y=null===(l=E)||void 0===l?void 0:l.accessibilityLabel,k=null===(o=f)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.items[0].text,_=null===(r=p)||void 0===r?void 0:r.slice(0,2),A=null===(c=b)||void 0===c?void 0:c.id,C=(null===(d=b)||void 0===d?void 0:d.description)||"",T=(null===(u=b)||void 0===u?void 0:u.title)||"";return k?(A||(A="warning"),i.createElement(ht,{heading:{heading:h,accessibilityHeading:y},message:k,icon:{iconName:A,iconDescription:C,iconTitle:T},links:_,revealActions:g,queryInputs:m,actionCallback:v})):null},kt=function(e){var n,t=e.index,l=e.separator,a=e.heading,o=e.message,r=e.possibleLink,c=e.actionCallback,d=ye();return i.createElement(i.Fragment,{key:t},""!==a&&i.createElement(P.y,{tag:"h3",size:6},i.createElement("span",{"data-stid":"customer-notification__travel-advisory-dialog-messages-heading-".concat(t)},a)),i.createElement("p",{"data-stid":"customer-notification__travel-advisory-dialog-messages-message-".concat(t)},o),r&&"NotificationPhraseLinkNode"===r.__typename&&r.uri&&r.uri.value&&i.createElement(T.M,{onClick:(n=r,function(){var e;d(n.actions),null===(e=c)||void 0===e||e({id:n.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:n.type})})},i.createElement("a",{href:r.uri.value,target:"_blank",rel:"noopener noreferrer","data-stid":"customer-notification__travel-advisory-dialog-messages-link-".concat(t)},r.text,r.icon&&i.createElement("span",{className:"is-visually-hidden"},r.icon.description))),l&&i.createElement("hr",null))};kt.displayName="TravelAdvisoryDialogItem";var _t=function(e){var n=e.heading,t=e.body,l=e.dismiss,a=e.revealActions,o=e.actionCallback,r=i.useRef(null),c=ye();i.useEffect((function(){c(a)}),[]);return i.createElement(x.K,{type:"full",isVisible:!0,triggerRef:r,returnFocusOnClose:!0},i.createElement(X.b,{navigationContent:{onClick:function(){var e;c(l.actions),null===(e=o)||void 0===e||e({id:"close_multi_advisory_popup",notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:"BUTTON"})},navIconLabel:l.icon.description,navType:"close"}}),i.createElement(S.z,null,n&&i.createElement(P.y,{tag:"h2",size:3},n),i.createElement(s.l,{margin:{blockstart:"twelve"}},i.createElement("div",{"data-stid":"customer-notification__travel-advisory-dialog-messages"},t.map((function(e,n){return i.createElement(kt,{key:n,index:n,separator:n<t.length-1,heading:e.items[0].text,message:e.items[1].text,possibleLink:e.items[2],actionCallback:o})}))))))};_t.displayName="sharedui-TravelAdvisoryDialog";var At=function(e){var n,t,l,a,o,d,u,m=e.graphicElement,v=e.markSize,E=e.title,p=e.body,y=e.links,k=e.layout,_=E.egdsItems[0],A="text"in _&&_.text,N="theme"in _&&_.theme||void 0,x="weight"in _&&_.weight||void 0,S=null===(t=p)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.egdsItems[0],L=S&&"text"in S&&S.text,I=S&&"theme"in S&&S.theme||void 0,w=S&&"weight"in S&&S.weight||void 0,R=(0,r.useClickTracker)(),O=i.createElement(i.Fragment,null,A&&i.createElement(h.b,{align:"left",size:400,spacing:"WITH_BORDER"!==k?"two":void 0,theme:N&&nn[N],weight:x&&en[x]},A),L&&i.createElement(h.b,{align:"left",size:300,spacing:"WITH_BORDER"!==k?"two":"one",theme:I&&nn[I],weight:w&&en[w]},L)),P=null===(l=y)||void 0===l?void 0:l.map((function(e,n){var t,l=e.actions,a=null===(t=l)||void 0===t?void 0:t[0],o=a&&"referrerId"in a&&a.referrerId||"",r=a&&"description"in a&&a.description||"";return i.createElement(b.t,{key:n,alignSelf:"start"},e.uri&&i.createElement(T.M,{onClick:function(){l&&R(o,r)}},i.createElement("a",{href:e.uri.value,target:"_blank",rel:"noreferrer"},e.text)))})),D=i.createElement(i.Fragment,null,"Mark"===(null===(a=m)||void 0===a?void 0:a.__typename)&&i.createElement(M.F,{name:m.id,url:null===(o=m.url)||void 0===o?void 0:o.value,description:m.description,size:null!=v?v:12}),"Icon"===(null===(d=m)||void 0===d?void 0:d.__typename)&&i.createElement(f.fR,{id:Math.random().toString(),description:m.description,name:m.id,size:m.size?f.eZ[m.size]:f.eZ.MEDIUM,theme:null!==(u=m.theme)&&void 0!==u?u:void 0,spotlight:m.withBackground?"positive":void 0}));return i.createElement("li",null,i.createElement(C.P,null,function(e){switch(e){case"ICON_ON_SIDE":return i.createElement(c.t,{padded:!0},i.createElement(g.v,{alignItems:"center",space:"two"},i.createElement(b.t,null,D),i.createElement(b.t,{alignSelf:"center"},i.createElement("div",null,O,y&&i.createElement(s.l,{padding:{blockstart:"two"}},i.createElement(g.v,{alignItems:"center"},P))))));case"ICON_ON_TOP":return i.createElement(c.t,{padded:!0},i.createElement(g.v,{alignItems:"center",space:"two"},i.createElement(b.t,null,D)),O,P);case"WITH_BORDER":return i.createElement(c.t,{border:!0},i.createElement(s.l,{padding:"six"},i.createElement(g.v,{alignItems:"start",blockSize:"full_size"},i.createElement(b.t,null,D),i.createElement(b.t,null,i.createElement(s.l,{margin:{inlinestart:"two"}},i.createElement("div",null,O,y&&i.createElement(s.l,{margin:{blockstart:"one"}},i.createElement(g.v,{alignItems:"center"},P))))))));default:return null}}(k)))};At.displayName="sharedui-TrustMessage";var Ct,Tt=function(e){var n,t,l,a,o=e.data||{},r=o.title,d=o.subBody;if(!d&&!r)return null;var u,m=null===(n=r)||void 0===n?void 0:n.egdsItems[0],v=m&&"weight"in m&&m.weight,E=m&&"theme"in m&&m.theme,f=null!==(u=null===(t=d)||void 0===t?void 0:t.length)&&void 0!==u?u:0,p="WITH_BORDER"===(d&&"layout"in d[0]?d[0].layout:null),g=null===(l=d)||void 0===l?void 0:l.map((function(e,n){var t="graphicElement"in e?e.graphicElement:null,l=t&&"markSize"in t&&t.markSize||j.j.LARGE;return i.createElement(At,{key:n,title:e.title,graphicElement:t,markSize:l,body:"body"in e?e.body:null,links:"links"in e?e.links:null,layout:"layout"in e?e.layout:null})})),b=(null===(a=r)||void 0===a?void 0:a.completeText)&&i.createElement(h.b,{weight:v?en[v]:void 0,size:700,theme:E?nn[E]:void 0},m&&"text"in m&&m.text);return i.createElement(i.Fragment,null,!p&&i.createElement(k.Viewport,null,i.createElement(k.ViewSmall,null,i.createElement(P.y,{size:3},b)),i.createElement(k.ViewMedium,null,i.createElement(P.y,{size:4},b))),d&&i.createElement(k.Viewport,null,i.createElement(k.ViewSmall,null,p?i.createElement(J.LG,{layout:"fullwidth",canvasTheme:"primary",paddedViewRow:!1},i.createElement(s.l,{padding:"four"},i.createElement("div",null,m&&"text"in m&&i.createElement(P.y,{size:4},i.createElement(h.b,{weight:v?en[v]:void 0,size:600,theme:E?nn[E]:void 0},m.text)),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(A.a,{columns:1,space:"four",tag:"ul"},i.createElement(C.P,{alignSelf:"center"}),g))))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(A.a,{columns:1,space:"four",tag:"ul"},g))),i.createElement(k.ViewMedium,null,p?i.createElement(c.t,null,i.createElement(s.l,{padding:"four"},i.createElement("div",null,m&&"text"in m&&i.createElement(P.y,{size:4},i.createElement(h.b,{weight:v?en[v]:void 0,size:600,theme:E?nn[E]:void 0},m.text)),i.createElement(s.l,{padding:{blockstart:"six"}},i.createElement(A.a,{columns:3,space:"four",tag:"ul"},g))))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(A.a,{columns:2,space:"four",tag:"ul"},g))),i.createElement(k.ViewLarge,null,p?i.createElement(c.t,null,i.createElement(s.l,{padding:"four"},i.createElement(A.a,{columns:f+1,space:"four",tag:"ul"},i.createElement(C.P,{alignSelf:"center"},i.createElement(s.l,{padding:{block:"three",inlinestart:"six",inlineend:"four"}},m&&"text"in m&&i.createElement(P.y,{size:4},i.createElement(h.b,{weight:v?en[v]:void 0,size:600,theme:E?nn[E]:void 0,align:"left"},m.text)))),g))):i.createElement(s.l,{margin:{blockstart:"four"}},i.createElement(A.a,{columns:f,space:"four",tag:"ul"},g)))))};Tt.displayName="TrustMessageWrapper";var Nt,xt=(ie(Ct={},"AFTER_HEADER|TRAVEL_ADVISORY",yt),ie(Ct,"AFTER_WIZARD|CLEANLINESS",(function(e){var n,t,l,a,o=e.data||{},r=o.title,c=o.body;if(!c||!r)return null;var d=null===(t=r.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text,u=null===(a=r.items)||void 0===a||null===(l=a[1])||void 0===l?void 0:l.text,s=function(e){var n=[];return e.forEach((function(e){var t,i,l,a,o,r,c,d,u,s,m={title:null===(l=e)||void 0===l||null===(i=l.items)||void 0===i||null===(t=i[0])||void 0===t?void 0:t.text,iconName:null===(c=e)||void 0===c||null===(r=c.items)||void 0===r||null===(o=r[0])||void 0===o||null===(a=o.icon)||void 0===a?void 0:a.id,subtitle:null===(s=e)||void 0===s||null===(u=s.items)||void 0===u||null===(d=u[1])||void 0===d?void 0:d.text};n.push(m)})),n}(c);return i.createElement(Qe,{title:d,subtitle:u,messages:s})})),ie(Ct,"AFTER_WIZARD|GENERIC",Cn),ie(Ct,"AFTER_WIZARD|ONE_KEY",it),ie(Ct,"AFTER_WIZARD|TRAVEL_ADVISORY",yt),ie(Ct,"FOOTER|MAD_MARQUEE",Xn),ie(Ct,"IN_PAGE_AD|CITI_COBRAND",We),ie(Ct,"IN_PAGE_AD|CITI_COBRAND_VERTICAL",We),ie(Ct,"IN_PAGE_AD|ONE_KEY",it),ie(Ct,"IN_PAGE|CONFIGURABLE",yn),ie(Ct,"IN_PAGE|GENERIC",Cn),ie(Ct,"IN_PAGE|MAD_MARQUEE",Xn),ie(Ct,"IN_PAGE|ONE_KEY",it),ie(Ct,"IN_PAGE|TRUST_MSG_BANNER",Tt),ie(Ct,"IN_MODULE|GENERIC",Cn),ie(Ct,"IN_MODULE|CONFIGURABLE",yn),ie(Ct,"IN_MODULE|BOTTOM_SHEET",Ie),ie(Ct,"IN_MODULE|CENTERED_SHEET",Oe),ie(Ct,"LEGAL|OSANO",(function(e){var n,t,l,a=(e.data||{}).attributes;return(null===(t=a)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value)?i.createElement(gt,{osanoAttributes:null===(l=a)||void 0===l?void 0:l.map((function(e){return{name:e.name,value:e.value}}))}):null})),ie(Ct,"LEGAL|ONETRUST",(function(e){var n,t=(e.data||{}).attributes;return at(t,st)?i.createElement(ut,{onetrustAttributes:null===(n=t)||void 0===n?void 0:n.map((function(e){return{name:e.name,value:e.value}}))}):null})),ie(Ct,"POPUP|BOTTOM_SHEET",Ie),ie(Ct,"POPUP|CENTERED_SHEET",Oe),ie(Ct,"POPUP|FULL_SHEET",(function(e){var n,t,l,a,o,r,c,d,u,s,m,v,E,f=e.data,p=f.type,g=f.bannerContainer,b=f.notificationLocation,h=f.title,y=f.body,k=f.logo,_=f.links,A=f.revealActions,C=f.dismiss,T=f.backgroundImage,N=f.legalText,x=e.inputs.optionalContext,S=null===(n=_)||void 0===n?void 0:n[0],L=null===(t=_)||void 0===t?void 0:t[1];if(!((null===(a=S)||void 0===a||null===(l=a.uri)||void 0===l?void 0:l.value)&&(h||y)&&h&&k&&A&&((null===(o=C)||void 0===o?void 0:o.icon.id)||(null===(r=L)||void 0===r?void 0:r.type))))return null;var I,w,R=null===(d=N)||void 0===d||null===(c=d.egdsTextItems)||void 0===c?void 0:c.find((function(e){return"EGDSStandardLink"===e.__typename})),O=null;"EGDSStylizedText"===h.egdsTextItems[0].__typename&&(I=ce(h.egdsTextItems,1)[0]);"EGDSStylizedText"===(null===(u=y)||void 0===u?void 0:u[0].egdsTextItems[0].__typename)&&(w=ce(y[0].egdsTextItems,1)[0]);return"NotificationBannerTheme"===(null===(m=g)||void 0===m||null===(s=m.theme)||void 0===s?void 0:s.__typename)&&(O=g.theme.bannerTheme),i.createElement(kn,{type:p,bannerTheme:O,backgroundImage:T,notificationLocation:b,sheetTitle:I,sheetBody:w,logo:k,switchToTheAppLink:S,dismissCta:L,dismiss:C,termsAndConditions:R,referer:null===(v=x)||void 0===v?void 0:v.referer,layout:null===(E=g)||void 0===E?void 0:E.layout,revealActions:A})})),ie(Ct,"POPUP|TRAVEL_ADVISORY",(function(e){var n,t,l=e.data,a=e.actionCallback,o=l||{},r=o.title,c=o.body,d=o.dismiss,u=o.revealActions;return c&&d?i.createElement(_t,{heading:null===(n=r)||void 0===n?void 0:n.items[0].text,body:c,dismiss:d,revealActions:u,actionCallback:a}):(null===(t=a)||void 0===t||t({id:"notification-validation-error",notificationLocation:"POPUP",notificationType:"TRAVEL_ADVISORY"}),null)})),ie(Ct,"PRE_HEADER|APP_HERO",(function(e){var n,t,l,a=e||{},o=a.data,r=o.title,c=o.logo,d=o.links,u=o.dismiss,s=o.revealActions,m=a.inputs.optionalContext;return r&&c&&u?(null===(n=d)||void 0===n||n.forEach((function(e){"APP_DOWNLOAD_LINK"===e.type?l=e:e})),i.createElement(Ce,{title:r,logo:c,tuneLink:l,revealActions:s,dismiss:u,referer:null===(t=m)||void 0===t?void 0:t.referer})):null})),ie(Ct,"PRE_HEADER|CONFIGURABLE",yn),ie(Ct,"PRE_HEADER|HEADER",(function(e){var n,t=e.data,l=e.inputs,a=t||{},o=a.type,r=a.notificationLocation,c=a.title,d=a.logo,u=a.dismiss,s=a.revealActions,m=a.containerLink,v=a.body,E=l.optionalContext;return d&&u?i.createElement(Tn,{type:o,notificationLocation:r,title:c,logo:d,containerLink:m,revealActions:s,dismiss:u,referrer:null===(n=E)||void 0===n?void 0:n.referer,body:v}):null})),ie(Ct,"PRE_HEADER|TAKEOVER",(function(e){var n,t,l,a=e||{},o=a.data,r=o.type,c=o.notificationLocation,d=o.title,u=o.logo,s=o.links,m=o.dismiss,v=o.revealActions,E=o.legalText,f=a.inputs.optionalContext;return d&&u&&m?(null===(n=s)||void 0===n||n.forEach((function(e){"APP_DOWNLOAD_LINK"===e.type&&(l=e)})),i.createElement(bt,{type:r,notificationLocation:c,title:d,logo:u,bannerLink:l,revealActions:v,dismiss:m,referer:null===(t=f)||void 0===t?void 0:t.referer,legalText:E})):null})),Ct),St=function(e){var n=e.notificationLocation,t=e.notificationType,l=e.children,a=ce((0,K.gw)(),2)[1];return i.useEffect((function(){a({type:"customerNotificationInitialized",payload:{location:n,type:t}})}),[a,n,t]),i.createElement(i.Fragment,null,l)},Lt=function(e){var n,t,l=e.notificationLocation,a=e.notificationType,o=e.data,r=e.inputs,c=e.actionCallback,d=e.switchHandler,u=e.useRewards,m=e.dismissCallback,v=e.spacingProps,E=(n=a,xt["".concat(l,"|").concat(n)]||null);if(!E)return null===(t=c)||void 0===t||t({id:"notification-not-found-error",notificationLocation:l,notificationType:a}),null;var f,p,g=i.createElement(St,{notificationLocation:l,notificationType:a},i.createElement(E,{data:o,inputs:r,actionCallback:c,switchHandler:d,useRewards:u,dismissCallback:m}));return v?i.createElement(s.l,{margin:null===(f=v)||void 0===f?void 0:f.margin,padding:null===(p=v)||void 0===p?void 0:p.padding},i.createElement("div",null,g)):i.createElement(i.Fragment,null,g)},It=function(e){if("string"==typeof e){var n=e.split("-").map((function(e){return e.trim()}));return{day:+n[2],month:+n[1],year:+n[0]}}return e},wt=function(e){return oe(ae({},e),{journeyCriterias:(n=e.journeyCriterias,n?n.map((function(e){var n,t,i,l;return(null===(t=e)||void 0===t||null===(n=t.dateRange)||void 0===n?void 0:n.start)&&(null===(l=e)||void 0===l||null===(i=l.dateRange)||void 0===i?void 0:i.end)?oe(ae({},e),{dateRange:{start:It(e.dateRange.start),end:It(e.dateRange.end)}}):ae({},e.origin&&{origin:e.origin},e.destination&&{destination:e.destination},e.tripType&&{tripType:e.tripType},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.cabinClass&&{cabinClass:e.cabinClass},e.travelerDetail&&{travelerDetail:e.travelerDetail},e.filter&&{filter:e.filter})})):n)});var n},Rt=function(e,n,t){return e?"IN_PAGE"===t&&"CHECKOUT"===n?wt(e):function(e){e.referer;var n=re(e,["referer"]);return wt(ae({},n))}(e):e};var Ot=(ie(Nt={},"CPM_CC_ON_FILE_MESSAGE","message_module_agency_card_on_file"),ie(Nt,"CPM_CC_ON_FILE_ONLY_INSURANCE_PAYMENT_MESSAGE","message_module_agency_card_on_file_plus_insurance"),ie(Nt,"CPM_NO_PAYMENT_DUE_MESSAGE","message_module_agency_no_cc"),ie(Nt,"CPM_ONLY_INSURANCE_PAYMENT_DUE_MESSAGE","message_module_agency_no_cc_plus_insurance"),Nt),Pt=(0,o.Ps)(pe()),Dt=function(e){var n,t,o,r,c,d=e.inputs,u=d.xPageId,s=d.notificationLocation,m=d.optionalContext,v=e.actionCallback,E=e.skipSsr,f=void 0!==E&&E,p=e.isLoadingUI,g=void 0!==p&&p,b=e.switchHandler,h=e.useRewards,y=e.dismissCallback,k=e.spacingProps,_=(0,a.v)().context,A=function(e){var n=e.split(",").map((function(e){return e.trim()}));return{pageId:n[0],lineOfBusiness:Xe[n[1]]||"UNCLASSIFIED",pageLocation:Je[n[2]]||"ENTRY"}}(u),C={context:_,notificationLocation:s,lineOfBusiness:A.lineOfBusiness,pageLocation:A.pageLocation,optionalPageId:A.pageId.length>0?A.pageId:null,optionalContext:Rt(m,A.pageLocation,s)},T=(0,l.a)(Pt,{context:{useApq:!0},variables:C,ssr:!f}),N=T.error,x=T.data,S=T.loading,L=null===(t=x)||void 0===t||null===(n=t.notification)||void 0===n?void 0:n.inlineNotification,I=null===(o=L)||void 0===o?void 0:o.type,w=null===(r=L)||void 0===r?void 0:r.revealActions,R=ye();if(f&&g&&S)return i.createElement(_e,null);if(N||!x||!L||!I){var O;if(N)null===(O=v)||void 0===O||O({id:"notification-network-error",notificationLocation:s,notificationType:"NONE"});if(!S){var P,D,M,z,F=function(e,n){return"IN_PAGE"===e?"message_module_reroute":n&&"IN_MODULE"===e?Ot[n]:void 0}(s,null===(D=m)||void 0===D||null===(P=D.inModuleMessage)||void 0===P?void 0:P.name),B=function(e){var n,t,i=e.errorName,l=e.errorDescription,a=e.clickStreamActionLocation;return{__typename:"NotificationAnalyticsEgClickstream",description:"message module failed",event:{__typename:"EGClickstreamEvent",eventName:"message_module.failed",eventType:"Outcome",eventVersion:"1.1.0",actionLocation:null!=a?a:null,eventCategory:"Search"},schema:[(n="error_list",t={"[0].error_name":i?"misconfiguration":"network_error","[0].error_description":l||"message module failed"},{__typename:"NotificationSchema",name:n,messageContent:Object.entries(t).map((function(e){var n=ce(e,2);return{__typename:"NotificationAnalyticsSchemaAttribute",name:n[0],value:n[1]}}))})]}}({errorName:null===(M=N)||void 0===M?void 0:M.name,errorDescription:null===(z=N)||void 0===z?void 0:z.message,clickStreamActionLocation:F});R([B])}return null}return"NONE"===I?(R(w),null===(c=v)||void 0===c||c({id:"notification-none-value",notificationLocation:s,notificationType:"NONE"}),null):i.createElement(Lt,{data:L,inputs:{xPageId:u,notificationLocation:s,optionalContext:m},actionCallback:v,switchHandler:b,useRewards:h,dismissCallback:y,notificationLocation:s,notificationType:I,spacingProps:k})};Dt.displayName="sharedui-CustomerNotification";var Mt=function(e){var n=e.spacing,t=e.children;return i.createElement(s.l,ae({},n),i.createElement("div",null,t))};Mt.displayName="CustomerNotificationStylingWrapper"}}]);
//# sourceMappingURL=shared-ui-customer-notifications.218eb78a9efc15713f4b.js.map