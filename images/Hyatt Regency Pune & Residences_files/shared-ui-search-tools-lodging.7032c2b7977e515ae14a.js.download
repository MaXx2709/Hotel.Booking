/*@license For license information please refer to shared-ui-search-tools-lodging.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5031],{29339:function(e,n,t){t.d(n,{F2:function(){return Ol},Kp:function(){return Vl},UI:function(){return ei},V2:function(){return ti},fr:function(){return Yl},jd:function(){return Jl},qJ:function(){return ai}});var a=t(67294),r=t(69430),l=t(71641),i=t(95878),o=t(85395),c=t(55202),u=t(78987),d=t(93351),s=t(23780),m=t(64418),v=t(19633),p=t(98250),f=t(29892),E=t(39711),g=t(70094),y=t(13413),S=t(46605),_=t(75823),h=t(77844),D=t(36115),T=t(20402),C=t(5868),b=t(37093),I=t(35397),k=t(55316),A=t(60756),G=t(23984),F=t(91233),R=t(5419),x=t(87862),L=t(15389),P=t(73803),N=t(66547),O=t(58850),B=t(73030),w=t(19346),M=t(12108),U=t(80463),W=t(24499),z=t(8315),H=t(30300),V=t(18397),Y=t(38325),j=t(66020),$=t(45638),K=t(10333),Q=t(54552),q=t(34778),X=t(95032),Z=t(19719),J=t(41913),ee=t(34353),ne=t(49349),te=t(79221),ae=t(30082),re=t(511),le=t(85213),ie=t(49790),oe=t(29097),ce=t(78060);function ue(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function de(e,n,t,a,r,l,i){try{var o=e[l](i),c=o.value}catch(u){return void t(u)}o.done?n(c):Promise.resolve(c).then(a,r)}function se(e){return function(){var n=this,t=arguments;return new Promise((function(a,r){var l=e.apply(n,t);function i(e){de(l,a,r,i,o,"next",e)}function o(e){de(l,a,r,i,o,"throw",e)}i(void 0)}))}}function me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ve(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){me(e,n,t[n])}))}return e}function pe(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function fe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(l.push(a.value),!n||l.length!==n);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return l}}(e,n)||ye(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ge(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,n){if(e){if("string"==typeof e)return ue(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ue(e,n):void 0}}function Se(e,n){var t,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=n.call(e,i)}catch(o){l=[6,o],a=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}function _e(){var e=Ee(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function he(){var e=Ee(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"]);return he=function(){return e},e}function De(){var e=Ee(["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"]);return De=function(){return e},e}function Te(){var e=Ee(["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"]);return Te=function(){return e},e}function Ce(){var e=Ee(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    accessibility\n    disabled\n    name\n    primary\n    selected\n    selectedText\n    value\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Ce=function(){return e},e}function be(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {\n    __typename\n    flexibleDateOptions {\n      ...EGDSBasicPillFragment\n    }\n    formElementId\n    title {\n      text\n      accessibility\n    }\n  }\n  ","\n"]);return be=function(){return e},e}function Ie(){var e=Ee(["\n  fragment EGDSBasicTabsFragment on EGDSBasicTabs {\n    __typename\n    egdsElementId\n    selectedTabId\n    tabs {\n      ... on EGDSBasicTab {\n        __typename\n        accessibility\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n        label\n        tabId\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}function ke(){var e=Ee(["\n  fragment EGDSToggleButtonFragment on EGDSToggleButton {\n    __typename\n    egdsElementId\n    primary\n    subText\n    name\n    selectedAnalytics {\n      linkName\n      referrerId\n    }\n    unselectedAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ... on Icon {\n        id\n        size\n      }\n    }\n    selected\n    disabled\n  }\n"]);return ke=function(){return e},e}function Ae(){var e=Ee(["\n  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {\n    __typename\n    options {\n      ...EGDSToggleButtonFragment\n    }\n  }\n\n  ","\n"]);return Ae=function(){return e},e}function Ge(){var e=Ee(["\n  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {\n    heading\n    subHeading\n    options {\n      ...EGDSToggleButtonGroupFragment\n    }\n  }\n  ","\n"]);return Ge=function(){return e},e}function Fe(){var e=Ee(["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return Fe=function(){return e},e}function Re(){var e=Ee(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n\n    ...EGDSBasicCheckBoxFragment\n  }\n\n  ","\n"]);return Re=function(){return e},e}function xe(){var e=Ee(["\n  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {\n    primary\n    name\n    accessibility\n    id\n    removeAnalytics {\n      referrerId\n      linkName\n    }\n  }\n"]);return xe=function(){return e},e}function Le(){var e=Ee(["\n  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {\n    id\n    disabled\n    primary\n    selected\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n    accessibility\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Le=function(){return e},e}function Pe(){var e=Ee(["\n  fragment EGDSPillFragment on EGDSPill {\n    __typename\n\n    ...EGDSBasicPillFragment\n    ...EGDSBasicTriggerPillFragment\n    ...EGDSBasicRemovablePillFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Pe=function(){return e},e}function Ne(){var e=Ee(["\n  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {\n    heading\n    includeWeekend {\n      ...EGDSCheckBoxFragment\n    }\n    options {\n      ...EGDSPillFragment\n    }\n  }\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Oe(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {\n    __typename\n    nightsSelection {\n      ...EGDSDatePickerFlexibleNightsFragment\n    }\n    monthsSelection {\n      ...EGDSDatePickerFlexibleMonthsFragment\n    }\n  }\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Be(){var e=Ee(["\n  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {\n    __typename\n    calendarContent {\n      ...EGDSDatePickerFlexibilityCalendarContentFragment\n    }\n    contentSelector {\n      ...EGDSBasicTabsFragment\n    }\n    flexibleDatesContent {\n      ...EGDSDatePickerFlexibilityDatesContentFragment\n    }\n    flexibilityLabel {\n      templates {\n        template\n        category\n      }\n      models {\n        key\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Be=function(){return e},e}function we(){var e=Ee(["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    buttonTextTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n          __typename\n        }\n        templates {\n          category\n          template\n          __typename\n        }\n        __typename\n      }\n    }\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    nextButtonAnalytics {\n      linkName\n      referrerId\n    }\n    previousButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    clearDatesButtonAnalytics {\n      linkName\n      referrerId\n    }\n    showClearDatesButton\n\n    flexibleDateContent {\n      ...EGDSDatePickerFlexibilityContentFragment\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  ","\n"]);return we=function(){return e},e}function Me(){var e=Ee(["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return Me=function(){return e},e}function Ue(){var e=Ee(["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ue=function(){return e},e}function We(){var e=Ee(["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    regionId\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n    debounceRate\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n    showCurrentLocation\n    subLob\n    expUserId\n  }\n"]);return We=function(){return e},e}function ze(){var e=Ee(["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return ze=function(){return e},e}function He(){var e=Ee(["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return He=function(){return e},e}function Ve(){var e=Ee(["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n"]);return Ve=function(){return e},e}function Ye(){var e=Ee(["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"]);return Ye=function(){return e},e}function je(){var e=Ee(["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"]);return je=function(){return e},e}function $e(){var e=Ee(["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return $e=function(){return e},e}function Ke(){var e=Ee(["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Qe(){var e=Ee(["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return Qe=function(){return e},e}function qe(){var e=Ee(["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return qe=function(){return e},e}function Xe(){var e=Ee(["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"]);return Xe=function(){return e},e}function Ze(){var e=Ee(["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSBasicTraveler {\n      type\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Ze=function(){return e},e}function Je(){var e=Ee(["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n    travelerNote {\n      __typename\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        text\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Je=function(){return e},e}function en(){var e=Ee(["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return en=function(){return e},e}function nn(){var e=Ee(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    text\n    egdsElementId\n    action {\n      accessibility\n      target\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    icon {\n      id\n    }\n    iconPosition\n  }\n"]);return nn=function(){return e},e}function tn(){var e=Ee(["\n  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {\n    airlineAgeRule {\n      ...EGDSStandardLinkFragment\n    }\n    groupName\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    options {\n      label\n      value\n    }\n    selected\n  }\n  ","\n"]);return tn=function(){return e},e}function an(){var e=Ee(["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infants {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    travelerNote {\n      __typename\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        text\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return an=function(){return e},e}function rn(){var e=Ee(["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    infantSeatSelection {\n      ...EGDSTravelerInfantSeatSelectFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return rn=function(){return e},e}function ln(){var e=Ee(["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"]);return ln=function(){return e},e}function on(){var e=Ee(["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    primaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n        accessibility\n      }\n      ... on EGDSBasicLocalizedText {\n        text\n        template\n        accessibilityTemplate\n        models {\n          key\n          source\n        }\n        egdsElementId\n      }\n      ... on EGDSCardinalLocalizedText {\n        text\n        accessibilityText\n        egdsElementId\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    hideButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"]);return on=function(){return e},e}function cn(){var e=Ee(["\n  fragment SoftPackagesFragment on SoftPackages {\n    actionURL\n    addCar {\n      ...EGDSCheckBoxFragment\n    }\n    addFlight {\n      ...EGDSCheckBoxFragment\n    }\n    addHotel {\n      ...EGDSCheckBoxFragment\n    }\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    maxBookableTravelers\n    maxTravelersErrorMessage\n    validDaysUpperBoundInclusive {\n      day\n      month\n      year\n    }\n  }\n\n  ","\n  ","\n"]);return cn=function(){return e},e}function un(){var e=Ee(["\n  fragment EGUisMicroMessageFragment on EGUisMicroMessage {\n    schemaName\n    messageContent\n  }\n"]);return un=function(){return e},e}function dn(){var e=Ee(["\n  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {\n    __typename\n    datePrefill {\n      ...EGUisMicroMessageFragment\n    }\n  }\n\n  ","\n"]);return dn=function(){return e},e}function sn(){var e=Ee(["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n\n    adaptExSuccessEvent {\n      ...AdaptexTrackingSuccessFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return sn=function(){return e},e}function mn(){var e=Ee(["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n    $features: [String!]\n  ) {\n    searchForm(context: $context) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return mn=function(){return e},e}var vn=function(e){var n=e.rows;return a.createElement(a.Fragment,null,n.map((function(e,n){var t=e.type;return a.createElement(d.l,{key:n,padding:0===n?void 0:{blockstart:"three"}},a.createElement("div",null,a.createElement(u.H,{animation:!0,type:t})))})))},pn=function(e){var n=e.children;return a.createElement(m.Experiment,{name:"Colored_Icons_on_Search_Forms"},a.createElement(m.ExperimentControl,null,n),a.createElement(m.ExperimentVariant,{bucket:1},a.createElement("div",{"data-stid":"search-form-with-colored-icons"},a.createElement(s.zP,{theme:s._n.EMPHASIS},n))))},fn=function(e){return e.LOWER="LOWER",e.UPPER="UPPER",e}(fn||{}),En=function(e){return e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e}(En||{}),gn={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},yn={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1"},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null},Sn=new Date,_n=new Date(Sn.getFullYear(),Sn.getMonth(),Sn.getDate()+14),hn=new Date(_n.getFullYear(),_n.getMonth(),_n.getDate()+1),Dn=_n.getMonth()+1,Tn=hn.getMonth()+1,Cn={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",labelTemplate:{text:"${startDate} (tonight) - ${endDate}",__typename:"EGDSBasicLocalizedText"},placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:_n.getDate(),month:Dn,year:_n.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:hn.getDate(),month:Tn,year:hn.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Sn.getDate(),month:Sn.getMonth(),year:Sn.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Sn.getDate(),month:Sn.getMonth()+4,year:Sn.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},bn={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{travelerNote:null,label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},In={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}};function kn(e,n,t){return e.replace("${".concat(n,"}"),t)}var An=(0,r.Ps)(_e()),Gn=function(e){var n,t,r,l,i,o=e.errorCount,c=void 0===o?0:o,u=e.inputErrorRef,d=e.linkClickFocusId,s=e.data,m=a.createRef(),v=(0,p.useClickTracker)(),f=s.body,g=s.goToErrorLinkText,y=s.goToFirstErrorLinkText,S=s.heading,_=s.analytics,h=s.impressionAnalytics,D=s.headingTemplate,T=1===c;if(0===c)return null;var C,b,I,k=T?g:y;return a.createElement(p.IntersectionTracker,{referrerId:null!==(C=null===(n=h)||void 0===n?void 0:n.referrerId)&&void 0!==C?C:"",linkName:null!==(b=null===(t=h)||void 0===t?void 0:t.linkName)&&void 0!==b?b:""},a.createElement(E.a,{heading:S.trim()?S:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=D)||void 0===n?void 0:n.__typename)){var t=D.templates.slice(1,3),a=T?"":D.models[0].key;return kn(T?t[0].template:t[1].template,a,e.toString())}return""}(c),description:null===(r=f)||void 0===r?void 0:r.text,link:null!=k?k:"",linkClickFocus:u,linkClickFocusId:null!=d?d:null===(i=u)||void 0===i||null===(l=i.current)||void 0===l?void 0:l.id,handleUpdate:function(){var e,n;return null===(n=m)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.focus()},domRef:m,analytics:_?{id:"".concat(_.referrerId,T?".One.Error":".Many.Errors"),description:null!==(I=_.linkName)&&void 0!==I?I:"",callback:function(e,n){return v(e,n)}}:void 0}))};Gn.displayName="EGDSErrorSummaryFragment",Gn.fragment=An;var Fn=(0,r.Ps)(he()),Rn=(0,r.Ps)(De(),Fn),xn=function(e){var n=e.children,t=e.submitButtonProps,r=e.primary,l=e.isFullWidth,i=void 0!==l&&l;return a.createElement(g.Y,pe(ve({},t),{size:y.xY.LARGE,"aria-label":null!=r?r:"",isFullWidth:i}),n)},Ln=function(e){var n,t,r,l,i,o=e.data,c=(0,p.useClickTracker)(),u=o.egdsElementId,d=o.primary,s=o.disabled,m=o.onClick,f=o.icon,E={id:null!=u?u:"search_form_submit_button",disabled:s,onClick:a.useCallback((function(){if(m&&"EGDSSubmitSearchFormAction"===m.__typename){var e=m.analytics,n=e.referrerId,t=e.linkName;c(n,t)}}),[m,c]),type:"submit"};return a.createElement(v.Viewport,null,a.createElement(v.ViewSmall,null,a.createElement(xn,{isFullWidth:!0,submitButtonProps:E,primary:d},d)),a.createElement(v.ViewMedium,null,f?a.createElement(xn,{submitButtonProps:E,primary:d},a.createElement(S.fR,{name:null!==(l=null===(n=f)||void 0===n?void 0:n.token)&&void 0!==l?l:"search",title:null!==(i=null===(t=f)||void 0===t?void 0:t.title)&&void 0!==i?i:"",id:null===(r=f)||void 0===r?void 0:r.id})):a.createElement(xn,{submitButtonProps:E,primary:d},d)))};Ln.displayName="EGDSSearchFormButton",Ln.fragment=Rn;var Pn,Nn=function(e,n,t){var a=new CustomEvent("change"),r=document.createElement("input");t&&(r.type=t),r.value=e;var l=function(e){n(e)};r.addEventListener("change",l),r.dispatchEvent(a),r.removeEventListener("change",l)},On=function(e){return 0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER"},Bn=function(e){var n=864e5*e;return new Date((new Date).getTime()+n)},wn=function(e){return Math.ceil(e/1e3/60/60/24)},Mn=function(e){var n=e.year,t=e.month,a=e.day;return new Date(n,t-1,a)},Un=function(e){return function(n){return a.createElement(e,null,n)}},Wn=function(e){return a.createElement(a.Fragment,null,e)},zn=(me(Pn={},"SUN",T.Co.SUN),me(Pn,"MON",T.Co.MON),me(Pn,"TUE",T.Co.TUE),me(Pn,"WED",T.Co.WED),me(Pn,"THU",T.Co.THU),me(Pn,"FRI",T.Co.FRI),me(Pn,"SAT",T.Co.SAT),Pn),Hn=function(e,n){var t=e.templates.find((function(e){return e.category===On(n)}));return t?kn(t.template,e.models[0].key,n.toString()):""},Vn=function(e){var n,t;return!!(null===(t=e)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.startsWith("0"))},Yn=function(e,n,t){var a=new Date(e.year,e.month,e.day);return!e.isPast&&(n&&t?a>=n&&a<=t:n&&!t?a>=n:!(!n&&t)||a<=t)},jn=function(e){var n=new Date;return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()},$n=function(e){return new Date("".concat(e,"T00:00:00"))},Kn=function(e){var n=e.day,t=e.dayData,r=void 0===t?{}:t,l=r.validStartDate,i=r.validEndDate,o=!Yn(n,l,i),c=a.useMemo((function(){return n.isPast?"muted":n.isToday?"today":"default"}),[n.isPast,n.isToday]);return a.createElement(D.y,{theme:c,disabled:o},n.day)},Qn=function(e,n){return Yn(n,e.validStartDate,e.validEndDate)};Kn.canClick=Qn,Kn.canSpan=Qn,Kn.getAriaLabel=function(e,n,t){var a=n.localeDateString;return Yn(n,e.validStartDate,e.validEndDate)?a:t.formatText("calendar.unavailable.a11yLabel",a)};var qn,Xn=(0,r.Ps)(Te()),Zn=(me(qn={},"EXTRA_SMALL",S.eZ.EXTRA_SMALL),me(qn,"SMALL",S.eZ.SMALL),me(qn,"MEDIUM",S.eZ.MEDIUM),me(qn,"MEDIUM_LARGE",S.eZ.MEDIUM),me(qn,"LARGE",S.eZ.LARGE),me(qn,"XLARGE",S.eZ.XLARGE),qn),Jn=function(e){var n=e.data,t=n.id,r=n.title,l=n.description,i=n.size,o=Zn[null!=i?i:"LARGE"];return a.createElement(S.fR,{id:t,name:t,title:null!=r?r:l,description:l,size:o})};Jn.displayName="Icon",Jn.fragment=Xn;var et=(0,r.Ps)(Ce(),Jn.fragment),nt=function(e){var n,t=e.data,r=e.onChange,l=e.triggerPill,i=e.onClick,o=e.active,c=t.accessibility,u=t.name,d=t.primary,s=t.selected,m=t.value,v=t.disabled,f=t.icon,E=t.selectAnalytics,g=t.deselectAnalytics,y=t.selectedText,S=(0,p.useClickTracker)(),_=null!=u?u:"egds-basic-pill",D=fe(a.useState(s),2),T=D[0],I=D[1],k=(0,a.useRef)(!1),A=y||d,G=(0,h.i)(_,(function(e){var n=e.currentTarget.checked;if(I(n),k.current||(k.current=!0),r&&r(e),E&&n){var t=E.linkName,a=E.referrerId;return S(a,t),e}if(g&&!n){var l=g.linkName,i=g.referrerId;S(i,l)}return e}));return a.useEffect((function(){k.current&&(0,b.liveAnnounce)(null!=c?c:void 0,b.Level.POLITE)}),[c]),a.useEffect((function(){I(s)}),[s]),a.createElement(C.i,{checked:T,active:o,disabled:v,icon:"Icon"===(null===(n=f)||void 0===n?void 0:n.__typename)?f.token:"",id:_,name:"".concat("EGDSBasicPill","-").concat(u),onChange:G,value:null!=m?m:"",altText:null!=c?c:"",triggerPill:l,onClick:function(){i&&i()}},T?A:d)};nt.displayName="EGDSBasicPill",(nt.fragment=et).__typename="EGDSBasicPill";var tt=(0,r.Ps)(be(),nt.fragment),at="EGDSDatePickerFlexibilityCalendarContent",rt="".concat(at,"-SelectedOption"),lt=function(e){var n,t,r,l,i,o,c=e.data,u=e.onSelect,m=e.currentlySelectedPillValue,v=e.className,p=null!==(o=null===(n=c)||void 0===n?void 0:n.flexibleDateOptions.map((function(e){return{selected:e.value===m,checked:e.value===m,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(r=e.value)&&void 0!==r?r:"",id:null!==(l=e.value)&&void 0!==l?l:"",altText:null!==(i=e.accessibility)&&void 0!==i?i:void 0}})))&&void 0!==o?o:[];return a.createElement(d.l,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement("div",{className:v},a.createElement(s.hI,{data:p,handleSelectedPill:function(e){u(e)}})))};lt.displayName=at,lt.fragment=tt;var it=(0,r.Ps)(Ie()),ot=function(e){var n=e.data,t=e.onTabSelected,r=e.backgroundColor,l=e.tabsType,i=n.tabs,o=n.selectedTabId,c=(0,p.useClickTracker)(),u=o?i.findIndex((function(e){return"EGDSBasicTab"===e.__typename?e.tabId===o:0})):0,d=fe((0,a.useState)(u),2),s=d[0],m=d[1],f=(0,v.useMediaQueries)({viewSizes:v.defaultViewSizes})<=v.defaultViewSizes.SMALL,E=f?I.zv.EQUAL_WIDTH:I.zv.NATURAL,g={selectedTab:-1!==s?s:0,onTabSelect:function(e){m(e);var n=i[e];if("EGDSBasicTab"===n.__typename){var a=n.clickAnalytics,r=n.tabId;!function(e){var n;if(e&&"ClientSideAnalytics"===(null===(n=e)||void 0===n?void 0:n.__typename)){var t=e.linkName,a=e.referrerId;c(a,t)}}(a),t&&t(r)}},tabsType:null!=l?l:E,backgroundColor:null!=r?r:I.ax.PRIMARY};return a.createElement(I.HH,ve({},g),i.map((function(e){var n="EGDSBasicTab"===e.__typename?e.tabId:"",t="EGDSBasicTab"===e.__typename?e.label:"";return a.createElement(k.D,{id:n,key:n,name:t,targetURI:"#EGDSBasicTabSearchForm_".concat(n)})})))};ot.fragment=it,ot.displayName="EGDSBasicTabs";var ct=(0,r.Ps)(ke()),ut=function(e){var n,t=e.data,r=e.onChange,l=t.primary,i=t.subText,o=t.icon,c=t.disabled,u=t.selected,d=t.name,s=t.selectedAnalytics,m=t.unselectedAnalytics,v=(0,p.useClickTracker)();return a.createElement(L.A,{id:null!=d?d:"",icon:"Icon"===(null===(n=o)||void 0===n?void 0:n.__typename)?o.id:"",labelText:null!=l?l:"",altText:"".concat(l," ").concat(i),subLabelText:null!=i?i:"",name:null!=d?d:"",onChange:function(e){r&&r(e),function(e){var n,t=e?s:m;if("ClientSideAnalytics"===(null===(n=t)||void 0===n?void 0:n.__typename)){var a=t.linkName,r=t.referrerId;v(r,a)}}(!u)},disabled:c,checked:u,iconSize:S.eZ.SMALL,stacked:!0})};ut.displayName="EGDSToggleButton",ut.fragment=ct;var dt=(0,r.Ps)(Ae(),ut.fragment),st=function(e){var n=e.data.options,t=fe(a.useState(n),2),r=t[0],l=t[1],i=function(e){l((function(n){return n.map((function(n){return n.name===e.target.name?pe(ve({},n),{selected:!n.selected}):n}))}))};return a.createElement(P.E,{wrapButtons:!0},r.map((function(e,n){return a.createElement(ut,{key:n,data:e,onChange:i})})))};st.displayName="EGDSToggleButtonGroup",st.fragment=dt;var mt=(0,r.Ps)(Ge(),st.fragment),vt="EGDSDatePickerFlexibleMonths",pt="".concat(vt,"-Options"),ft=function(e){var n=e.data,t=e.monthsSelectionToggleButtons,r=e.onMonthSelectionToggle,l=n.heading,i=n.subHeading,o=(0,v.useMediaQueries)({viewSizes:v.defaultViewSizes}),c=o<=v.defaultViewSizes.MEDIUM,u=o<=v.defaultViewSizes.SMALL,s={grow:1,maxWidth:u||c?void 0:"twenty_four",minWidth:u||c?"quarter_width":void 0};return a.createElement("div",null,a.createElement(G.v,{alignItems:"center",direction:"column",space:"three"},a.createElement(F.t,null,a.createElement("div",null,a.createElement(R.y,{size:6,align:"center"},l),a.createElement(x.w,null,i)))),t&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement(G.v,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},t.options.map((function(e,n){return a.createElement(F.t,pe(ve({},s),{key:n}),a.createElement("div",null,a.createElement(ut,{data:e,onChange:r})))})))))};ft.displayName=vt,ft.fragment=mt;var Et=(0,r.Ps)(Fe()),gt=function(e){var n,t=e.data,r=e.checked,l=e.onChange,i=t.egdsElementId,o=t.description,c=t.enabled,u=t.name,d=t.required,s=t.label,m=t.checkedAnalytics,v=t.uncheckedAnalytics,f=t.state,E=fe(a.useState(null!=r?r:"CHECKED"===f),2),g=E[0],y=E[1];a.useEffect((function(){y(null!=r?r:"CHECKED"===f)}),[r,f]);var S=(0,p.useClickTracker)(),_=a.useCallback((function(e){var n;if(y(e.currentTarget.checked),m&&!g){var t=m.referrerId,a=m.linkName;S(t,a)}if(v&&g){var r=v.referrerId,i=v.linkName;S(r,i)}null===(n=l)||void 0===n||n(e)}),[m,g,l,S,v]);return a.createElement(N.R,{id:null!=i?i:"",checked:g,description:null!=o?o:void 0,disabled:!c,name:null!=u?u:void 0,onChange:_,required:d},null===(n=s)||void 0===n?void 0:n.text)};gt.displayName="EGDSBasicCheckBoxFragment",(gt.fragment=Et).__typename="EGDSBasicCheckBox";var yt=(0,r.Ps)(Re(),gt.fragment),St=function(e){var n=e.data,t=e.onChange;return"EGDSBasicCheckBox"===n.__typename?a.createElement(gt,{onChange:t,data:n}):null};St.displayName="EGDSCheckBox",St.fragment=yt;var _t=(0,r.Ps)(xe()),ht=function(e){var n,t=e.data,r=e.onClick,l=t.id,i=t.primary,o=t.accessibility,c=t.removeAnalytics,u=t.name,d=null!==(n=null!=l?l:u)&&void 0!==n?n:"egds-basic-removable-pill",s=(0,p.useClickTracker)();return a.createElement(O.p,{id:d,onClick:function(){if(r&&r(),c){var e=c.referrerId,n=c.linkName;s(e,n)}},a11yRemoveText:o||""},i)};ht.displayName="EGDSBasicRemovablePill",ht.fragment=_t;var Dt=(0,r.Ps)(Le(),Jn.fragment),Tt=function(e){var n,t=e.data,r=e.onChange,l=e.triggerPill,i=e.onClick,o=e.domRef,c=e.active,u=t.id,d=t.primary,s=t.selected,m=t.disabled,v=t.icon,f=t.selectAnalytics,E=t.deselectAnalytics,g=t.accessibility,y=(0,p.useClickTracker)(),S=null!=u?u:"egds-basic-pill",_=fe(a.useState(c||s),2),D=_[0],T=_[1];a.useEffect((function(){T(null!=c&&c)}),[c]);var b=(0,h.i)(S,(function(e){if(T(!D),r&&r(e),i&&i(),f&&D){var n=f.linkName,t=f.referrerId;return y(t,n),e}if(E&&!D){var a=E.linkName,l=E.referrerId;y(l,a)}return e}));return a.createElement(C.i,{checked:D,active:D,selected:s,disabled:m,icon:"Icon"===(null===(n=v)||void 0===n?void 0:n.__typename)?v.token:"",id:S,name:"".concat("EGDSBasicTriggerPill","-").concat(S),triggerPill:l,onClick:b,altText:null!=g?g:"",domRef:o},d)};Tt.displayName="EGDSBasicTriggerPillFragment",Tt.fragment=Dt;var Ct=(0,r.Ps)(Pe(),nt.fragment,Tt.fragment,ht.fragment),bt=function(e){var n=e.data;switch(n.__typename){case"EGDSBasicPill":return a.createElement(nt,pe(ve({},e),{data:n}));case"EGDSBasicTriggerPill":return a.createElement(Tt,pe(ve({},e),{data:n}));case"EGDSBasicRemovablePill":return a.createElement(ht,pe(ve({},e),{data:n}));default:return null}};bt.displayName="EGDSPill",bt.fragment=Ct;var It=(0,r.Ps)(Ne(),bt.fragment,St.fragment),kt="EGDSDatePickerFlexibleNights",At="".concat(kt,"-Options"),Gt="".concat(kt,"-Weekend"),Ft=function(e){var n=e.data,t=e.onNightSelectionPillChange,r=e.nightsSelectionPills,l=e.onIncludeWeekendCheck,i=e.includeWeekendCheckbox,o=n.heading;return a.createElement("div",null,a.createElement(G.v,{alignItems:"center",direction:"column",space:"three"},a.createElement(F.t,null,a.createElement(R.y,{size:6},o)),a.createElement(F.t,null,a.createElement(s.hI,{data:r,handleSelectedPill:t}),";"),i&&a.createElement(F.t,null,a.createElement(St,{data:i,onChange:l}))))};Ft.displayName=kt,Ft.fragment=It;var Rt=(0,r.Ps)(Oe(),ft.fragment,Ft.fragment),xt=function(e){var n=e.data,t=e.className,r=e.onNightSelectionPillChange,l=e.nightsSelectionPills,i=e.onIncludeWeekendCheck,o=e.includeWeekendCheckbox,c=e.monthsSelectionToggleButtons,u=e.onMonthSelectionToggle,s=n.nightsSelection,m=n.monthsSelection;return a.createElement(d.l,{padding:"four"},a.createElement("div",{className:t},s&&a.createElement(Ft,{data:s,onNightSelectionPillChange:r,nightsSelectionPills:l,onIncludeWeekendCheck:i,includeWeekendCheckbox:o}),a.createElement(A.B,{blockMargin:"six"}),m&&a.createElement(ft,{data:m,monthsSelectionToggleButtons:c,onMonthSelectionToggle:u})))};xt.displayName="EGDSDatePickerFlexibilityDatesContent",xt.fragment=Rt;var Lt=(0,r.Ps)(Be(),ot.fragment,lt.fragment,xt.fragment),Pt=function(e){var n,t,r=e.data,l=e.children,i=e.className,o=e.onContentSelectorSelection,c=e.onNightSelectionPillChange,u=e.nightsSelectionPills,d=e.onIncludeWeekendCheck,s=e.includeWeekendCheckbox,m=e.monthsSelectionToggleButtons,v=e.onMonthSelectionToggle,p=e.contentSelector,f=r.flexibleDatesContent,E="EGDSBasicTabs"===(null===(n=p)||void 0===n?void 0:n.__typename)?p.selectedTabId:"",g={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},y=function(){var e;if("EGDSBasicTabs"===(null===(e=p)||void 0===e?void 0:e.__typename)){var n=p.tabs;return"EGDSBasicTab"===n[0].__typename&&"EGDSBasicTab"===n[1].__typename?{calendarTabId:n[0].tabId,flexibleTabId:n[1].tabId}:g}return g}(),S=y.calendarTabId,_=y.flexibleTabId;return a.createElement("div",{className:i},"EGDSBasicTabs"===(null===(t=p)||void 0===t?void 0:t.__typename)&&a.createElement(ot,{data:p,onTabSelected:o,backgroundColor:I.ax.SECONDARY,tabsType:I.zv.EQUAL_WIDTH}),E===S&&l,E===_&&f&&a.createElement(xt,{data:f,onNightSelectionPillChange:c,nightsSelectionPills:u,onIncludeWeekendCheck:d,includeWeekendCheckbox:s,monthsSelectionToggleButtons:m,onMonthSelectionToggle:v}))};Pt.displayName="EGDSDatePickerFlexibilityContent",Pt.fragment=Lt;var Nt="on_submit",Ot="on_close",Bt=function(e){var n,t,r,l,o,c,u,d,s,m,E,g,y,S,D,T,C,b,I,k,A,G,F,R,x,L,P,N,O,B,w,M,U,W,z,H,V,Y,j,$,K,Q,q,X=e.autoOpen,Z=e.startDate,J=e.endDate,ee=e.enableSameDayDateRange,ne=e.buttonText,te=e.clearButtonText,ae=e.inputLabel1,re=e.inputLabel2,le=e.allowClearDates,ie=e.validDaysLowerBoundInclusive,oe=e.validDaysUpperBoundInclusive,ce=e.skipQuery,ue=e.typename,de=e.errorMessage,se=e.labelTemplate,me=e.buttonTextTemplate,Ee=e.onClearDates,ye=e.onSelectEndDate,Se=e.onSelectStartDate,_e=e.onChangeEndDate,he=e.onChangeStartDate,De=e.onClose,Te=e.onOpen,Ce=e.setFieldRefByTypename,be=e.onNextCalendarClick,Ie=e.onPreviousCalendarClick,ke=e.flexibleDateContent,Ae=e.flexibleContentConfig,Ge=e.dialogId,Fe=e.startDateString,Re=e.endDateString,xe=e.showCalendar,Le=e.toggleCalendar,Pe=e.showStartDateEndDateHiddenInputs,Ne=e.tonightSameDayDateExperiment,Oe=(0,i.v)().context,Be=Oe.locale?function(e){return e.replace("_","-")}(Oe.locale):"en-US",we=(0,p.useClickTracker)(),Me=(0,f.useLocalization)().formatDateString,Ue=a.useRef(null),We=function(e,n){var t=null!=e?e:n?Mn(n):"";return t?Me(t,{raw:"yyyy-MM-dd"}):null},ze=We(Fe,Z),He=We(Re,J),Ve=fe(a.useState(ze),2),Ye=Ve[0],je=Ve[1],$e=fe(a.useState(He),2),Ke=$e[0],Qe=$e[1],qe=fe(a.useState(ze),2),Xe=qe[0],Ze=qe[1],Je=fe(a.useState(He),2),en=Je[0],nn=Je[1],tn=fe(a.useState(500),2),an=tn[0],rn=tn[1],ln=fe(a.useState(!1),2),on=ln[0],cn=ln[1],un="boolean"==typeof xe&&Le,dn=fe(a.useState(un?xe:null!=X&&X),2),sn=dn[0],mn=dn[1],vn=fe(a.useState(!1),2),pn=vn[0],fn=vn[1],En=fe(a.useState("EGDSCardinalLocalizedText"===(null===(n=me)||void 0===n?void 0:n.__typename)?me.text:ne),2),gn=En[0],yn=En[1],Sn=null===(r=ke)||void 0===r||null===(t=r.calendarContent)||void 0===t?void 0:t.flexibleDateOptions,_n=a.useRef(null!==(Q=null===(o=Sn)||void 0===o||null===(l=o.find((function(e){return Xe&&en?e.selected:Vn(e)})))||void 0===l?void 0:l.value)&&void 0!==Q?Q:""),hn=fe(a.useState(_n.current||""),2),Dn=hn[0],Tn=hn[1],Cn=(0,v.useMediaQueries)({viewSizes:v.defaultViewSizes})>=v.defaultViewSizes.LARGE,bn=fe(a.useState(null===(c=ke)||void 0===c?void 0:c.contentSelector),2),In=bn[0],An=bn[1],Gn="EGDSBasicTabs"===(null===(u=In)||void 0===u?void 0:u.__typename)?In.tabs:null,Fn=Gn&&"EGDSBasicTab"===Gn[0].__typename?Gn[0].tabId:"calendar-tab",Rn="EGDSBasicTabs"!==(null===(d=In)||void 0===d?void 0:d.__typename)||In.selectedTabId===Fn,xn=null!==(q=(null===(s=Ae)||void 0===s?void 0:s.includeFlexibleDatesContent)&&!Rn)&&void 0!==q&&q,Ln=fe(a.useState(),2),Pn=Ln[0],On=Ln[1],Un=fe(a.useState(),2),Wn=Un[0],zn=Un[1],Yn=fe(a.useState(),2),Qn=Yn[0],qn=Yn[1],Xn=function(e,n){var t,a=null===(t=se)||void 0===t?void 0:t.text,r="${startDate}",l="${endDate}";if(e&&n&&""!==e&&""!==n&&a&&a.includes(r)&&a.includes(l)){var i=$n(e),o=$n(n);if(jn(i)&&Ne&&1===Ne.exposure.bucket){var c=Me(i,{skeleton:"MMMd"}),u=Me(o,{skeleton:"MMMd"});return a.replace(r,c).replace(l,u)}}},Zn=fe(a.useState(Xn(Xe,en)),2),Jn=Zn[0],et=Zn[1],nt=(0,h.i)(xn?"".concat(ue,"-Flexible"):Jn?"".concat(ue,"-TemplateValue"):ue,(function(e){return e})),tt=fe(a.useState(),2),at=tt[0],it=tt[1];a.useEffect((function(){var e,n;!(null===(e=at)||void 0===e?void 0:e.includes(Ot))||(null===(n=at)||void 0===n?void 0:n.includes(Nt))||Cn?it(null):(aa&&(kt(),It()),ct())}),[at]),a.useEffect((function(){var e,n,t,a,r,l,i;On({months:null===(t=ke)||void 0===t||null===(n=t.flexibleDatesContent)||void 0===n||null===(e=n.monthsSelection)||void 0===e?void 0:e.options,nights:Vt,weekend:null===(l=ke)||void 0===l||null===(r=l.flexibleDatesContent)||void 0===r||null===(a=r.nightsSelection)||void 0===a?void 0:a.includeWeekend}),zn("EGDSBasicTabs"===(null===(i=In)||void 0===i?void 0:i.__typename)?In.selectedTabId:Fn)}),[]),a.useEffect((function(){if(on){cn(!1);var e="";if(Xe&&en&&(e=null!=Jn?Jn:"".concat(Xe," - ").concat(en),jn($n(Xe))&&Ne))try{Ne.logExperiment(Ne.exposure)}catch(n){}Nn(Rn?e:null!=Qn?Qn:"",nt)}}),[on]),a.useEffect((function(){if(ce||(ze&&(Ze(ze),je(ze)),He&&(nn(He),Qe(He)),ze||He||(Ze(""),nn(""))),oe){var e=Mn(oe).getTime()-(new Date).getTime();rn(wn(e))}}),[He,ze,ce,ie,oe]),a.useEffect((function(){Ce("EGDSSearchFormDatePickerField",Ue)}),[]);var ot=a.useCallback((function(){var e,n,t;sn&&(null!==(t=null===(n=Ue)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(mn(!1),document.body.click())}),[sn]);a.useEffect((function(){if(sn)return window.addEventListener("scroll",ot),function(){return window.removeEventListener("scroll",ot)}}),[sn,ot]),a.useEffect((function(){var e;un&&(xe?null===(e=Ue.current)||void 0===e||e.click():document.body.click())}),[xe,Le]);var ct=function(){et(Xn(Ye,Ke)),Ze(Ye),nn(Ke)},ut=function(e){if(e){var n,t,a,r=null!==(a=null===(t=Sn)||void 0===t||null===(n=t.find((function(e){return Vn(e)})))||void 0===n?void 0:n.value)&&void 0!==a?a:"";_n.current=r,Tn(r)}else _n.current=Dn},dt=function(){var e,n,t,a,r=null===(n=ke)||void 0===n||null===(e=n.flexibilityLabel)||void 0===e?void 0:e.templates,l=null===(t=Zt)||void 0===t?void 0:t.text,i=null===(a=Jt)||void 0===a?void 0:a.map((function(e){return e.shortMonthName})),o=i&&i.length>0,c=o&&r?r[i.length-1].template:"",u=o?[l].concat(ge(i)):[],d=c;return u.forEach((function(e,n){var t,a,r=null===(a=ke)||void 0===a||null===(t=a.flexibilityLabel)||void 0===t?void 0:t.models[n].key;d=kn(d,null!=r?r:"",null!=e?e:"")})),d};a.useEffect((function(){xn&&qn(dt)}),[]);var st,mt,vt,ft,Et,gt,yt,St,_t,ht,Dt,Tt,Ct,bt,It=function(){if(Pn){var e=Pn.months,n=Pn.nights,t=Pn.weekend;e&&qt(e),n&&$t(n),t&&Ut(t)}},kt=function(){An((function(e){var n;return e?pe(ve({},e),{selectedTabId:null!=Wn?Wn:"EGDSBasicTabs"===(null===(n=In)||void 0===n?void 0:n.__typename)?In.selectedTabId:""}):null}))},Ft=function(){if(xn){var e,n,t,a,r,l=dt(),i=l!==Qn||(null===(n=Pn)||void 0===n||null===(e=n.weekend)||void 0===e?void 0:e.state)!==(null===(t=Mt)||void 0===t?void 0:t.state);qn(l);var o=null!==(r=null===(a=Qt)||void 0===a?void 0:a.options.some((function(e){return e.selected})))&&void 0!==r&&r,c=function(){if(Qt){var e=Qt.options.map((function(e,n){return 0===n||1===n?pe(ve({},e),{selected:!e.selected}):e}));return pe(ve({},Qt),{options:e})}return null}();!o&&c&&qt(c),On({months:o?Qt:null!=c?c:Qt,nights:jt,weekend:Mt}),cn(i)}if(aa){var u,d="EGDSBasicTabs"===(null===(u=In)||void 0===u?void 0:u.__typename)?In.selectedTabId:"";zn(d),Wn!==d&&cn(!0)}},Rt=a.useMemo((function(){var e,n,t=null===(e=Sn)||void 0===e?void 0:e.find((function(e){return e.value===_n.current}));if((null===(n=t)||void 0===n?void 0:n.primary)&&!Vn(t))return"(".concat(t.primary,")")}),[Sn,_n.current]),xt=a.useMemo((function(){return oe?Mn(oe):Bn(an)}),[an,oe]),Lt=a.useMemo((function(){return ie?Mn(ie):void 0}),[ie]),Bt=a.useMemo((function(){return{defaults:{validStartDate:Lt,validEndDate:xt}}}),[Lt,xt]),wt=fe(a.useState(null!==(st=null===(g=ke)||void 0===g||null===(E=g.flexibleDatesContent)||void 0===E||null===(m=E.nightsSelection)||void 0===m?void 0:m.includeWeekend)&&void 0!==st?st:null),2),Mt=wt[0],Ut=wt[1],Wt=fe(a.useState(null!==(mt=null===(D=ke)||void 0===D||null===(S=D.flexibleDatesContent)||void 0===S||null===(y=S.nightsSelection)||void 0===y?void 0:y.includeWeekend.state)&&void 0!==mt?mt:"UNCHECKED"),2),zt=Wt[0],Ht=Wt[1],Vt=null!==(vt=null===(b=ke)||void 0===b||null===(C=b.flexibleDatesContent)||void 0===C||null===(T=C.nightsSelection)||void 0===T?void 0:T.options.map((function(e){var n,t,a;return{selected:e.selected,checked:!1,text:null!==(n=e.primary)&&void 0!==n?n:"",disabled:e.disabled,value:null!==(t=e.value)&&void 0!==t?t:"",id:null!==(a=e.name)&&void 0!==a?a:"",altText:""}})))&&void 0!==vt?vt:[],Yt=fe(a.useState(Vt),2),jt=Yt[0],$t=Yt[1],Kt=fe(a.useState(null!==(ft=null===(A=ke)||void 0===A||null===(k=A.flexibleDatesContent)||void 0===k||null===(I=k.monthsSelection)||void 0===I?void 0:I.options)&&void 0!==ft?ft:null),2),Qt=Kt[0],qt=Kt[1],Xt=xn?(Dt=jt.find((function(e){return!0===e.selected})),Tt=Qt?[null===(Et=Qt)||void 0===Et?void 0:Et.options[0],null===(gt=Qt)||void 0===gt?void 0:gt.options[1]]:[],Ct=null===(yt=Qt)||void 0===yt?void 0:yt.options.filter((function(e){return e.selected})),{selectedFlexibleDatesNights:Dt,selectedFlexibleDatesMonths:(_t=Ct&&(null===(St=Ct)||void 0===St?void 0:St.length)>0?Ct:Tt,null===(ht=_t)||void 0===ht?void 0:ht.map((function(e){var n,t,a,r=null===(n=e.name)||void 0===n?void 0:n.split("_"),l=null!==(a=null===(t=r)||void 0===t?void 0:t.splice(r.length-2,r.length).join("_"))&&void 0!==a?a:"";return{shortMonthName:r?r[r.length-1]:"",monthsDate:l}})).filter((function(e){return!!e.monthsDate&&!!e.shortMonthName})))}):{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},Zt=Xt.selectedFlexibleDatesNights,Jt=Xt.selectedFlexibleDatesMonths,ea={data:ke,onNightSelectionPillChange:function(e){$t((function(n){return n.map((function(n){return n.value===e?pe(ve({},n),{selected:!0}):pe(ve({},n),{selected:!1})}))})),function(e){var n,t,a,r,l,i,o=jt.findIndex((function(n){return n.value===e})),c=null===(r=ke)||void 0===r||null===(a=r.flexibleDatesContent)||void 0===a||null===(t=a.nightsSelection)||void 0===t||null===(n=t.options[o])||void 0===n?void 0:n.selectAnalytics;(null===(l=c)||void 0===l?void 0:l.linkName)&&(null===(i=c)||void 0===i?void 0:i.referrerId)&&we(c.referrerId,c.linkName)}(e),Ut((function(n){var t,a,r,l,i,o;if(null===n)return null;if(e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER"))return pe(ve({},n),{state:"CHECKED",enabled:!1});var c=(null===(r=jt)||void 0===r||null===(a=r.find((function(e){return e.selected})))||void 0===a||null===(t=a.value)||void 0===t?void 0:t.includes("WEEK"))||(null===(o=jt)||void 0===o||null===(i=o.find((function(e){return e.selected})))||void 0===i||null===(l=i.value)||void 0===l?void 0:l.includes("6_DAY_LOWER,7_DAY_UPPER"));return e.includes("DAY")&&c?pe(ve({},n),{state:zt,enabled:!0}):pe(ve({},n),{enabled:!0})}))},nightsSelectionPills:jt,includeWeekendCheckbox:Mt,onIncludeWeekendCheck:function(e){var n=e.target.checked?"CHECKED":"UNCHECKED";Ut((function(e){var t,a,r;return null!=e?((null===(r=jt)||void 0===r||null===(a=r.find((function(e){return e.selected})))||void 0===a||null===(t=a.value)||void 0===t?void 0:t.includes("DAY"))&&Ht(n),pe(ve({},e),{state:n})):null}))},onMonthSelectionToggle:function(e){qt((function(n){if(n){var t=n.options.map((function(n){return n.name===e.target.name?pe(ve({},n),{selected:!n.selected}):n}));return pe(ve({},n),{options:t})}return null}))},monthsSelectionToggleButtons:Qt,onContentSelectorSelection:function(e){var n;Pe("EGDSBasicTabs"===(null===(n=In)||void 0===n?void 0:n.__typename)&&e===Fn),An((function(n){return n?pe(ve({},n),{selectedTabId:e}):null}))},contentSelector:In},na=(null===(G=ke)||void 0===G?void 0:G.contentSelector)&&(null===(F=Ae)||void 0===F?void 0:F.includeFlexibleDatesContent)?{component:Pt,props:ea}:void 0,ta=(null===(R=Ae)||void 0===R?void 0:R.includeFlexibleCalendarContent)&&(null===(x=ke)||void 0===x?void 0:x.calendarContent)?lt:void 0,aa=!!na,ra=null===(L=Ae)||void 0===L?void 0:L.includeFlexibleCalendarContent,la="EGDSBasicTabs"===(null===(P=In)||void 0===P?void 0:P.__typename)&&Rn?"":"is-visually-hidden is-hidden",ia={inputName1:"EGDSDateRange-date-selector-trigger",autoCloseOnSelection:!1,allowClearDates:null!==(bt=le&&Rn)&&void 0!==bt&&bt,clearButtonLabel:te,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:Kn,dayData:Bt,endDate:en,enableSameDayDateRange:ee,inputLabel1:ae,inputLabel2:re,locale:Be,maxDate:xt,minDate:Lt,onDateRangeChange:function(e,n){var t,a,r;cn(!1),fn(!0),null===e&&null!==Xe||Ze(e),e&&(he(e),Se()),e||(Ze(""),he(""),Se());var l,i=e&&new Date(e);i&&(null===(l=i)||void 0===l||l.setDate(i.getDate()+1));var o=null===(a=i)||void 0===a||null===(t=a.toISOString())||void 0===t?void 0:t.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi);if(n||(null===(r=o)||void 0===r?void 0:r[0])){var c,u=n||(null===(c=o)||void 0===c?void 0:c[0])||null;nn(u),ye(),_e(u),function(e,n){var t;if("EGDSCardinalLocalizedText"===(null===(t=me)||void 0===t?void 0:t.__typename)&&e&&n){var a=Number(new Date(e)),r=Number(new Date(null!=n?n:"")),l=wn(r-a);yn(Hn(me,l))}}(e,u),et(Xn(e,u))}else e?Ze(e):e||(nn(""),_e(""),et(void 0),ye())},onDateRangeClear:function(){Ze(null),nn(null),ut(!0),Ee()},onClose:function(){un&&Le(!1),Tn(_n.current),Cn?Ft():it((function(e){return e?ge(e).concat([Ot]):[Ot]})),pn&&(cn(!0),fn(!1)),De()},onSubmit:function(e,n){if(!Cn&&aa&&(it([Nt]),Ft()),!Z&&!J&&e&&n)return je(e),Qe(n),cn(!0),void(_n.current!==Dn&&ut());(null!=ze?ze:"")===e&&(null!=He?He:"")===n||(je(e),Qe(n),cn(!0)),e&&n&&_n.current!==Dn&&(cn(!0),ut())},onOpen:function(){un&&Le(!0),Te()},invalidInput1:de,startDate:Xe,submitButtonLabel:gn,useSingleTrigger:!0,initialOpenState:sn,startDateRef:Ue,onNextClicked:be,onPrevClicked:Ie,handleShape:"circle",alertTemplateComponent:ta,alertTemplateData:{data:null===(N=ke)||void 0===N?void 0:N.calendarContent,onSelect:function(e){var n;if(null===(n=Sn)||void 0===n?void 0:n.length){var t,a,r,l=null===(t=Sn.find((function(e){return e.value===Dn})))||void 0===t?void 0:t.deselectAnalytics;l&&we(l.referrerId,l.linkName),null===(a=Tn)||void 0===a||a(e);var i=null===(r=Sn.find((function(n){return n.value===e})))||void 0===r?void 0:r.selectAnalytics;i&&we(i.referrerId,i.linkName)}},currentlySelectedPillValue:Dn,className:aa?la:""},calendarWrapper:na,trailingText1:ra&&!xn?Rt:void 0,dialogId:Ge,inputValue1:xn?Qn:null!=Jn?Jn:void 0};return a.createElement(a.Fragment,null,a.createElement(_.s,ve({},ia)),(null===(w=ke)||void 0===w||null===(B=w.flexibleDatesContent)||void 0===B||null===(O=B.nightsSelection)||void 0===O?void 0:O.includeWeekend)&&"CHECKED"===(null===(M=Mt)||void 0===M?void 0:M.state)&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":Gt,name:"".concat(Gt,"-").concat(null===(U=ke.flexibleDatesContent.nightsSelection)||void 0===U?void 0:U.includeWeekend.name),value:"INCLUDE_WEEKEND"}),(null===(H=ke)||void 0===H||null===(z=H.flexibleDatesContent)||void 0===z||null===(W=z.nightsSelection)||void 0===W?void 0:W.options)&&Zt&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":At,name:"".concat(At,"-").concat(Zt.id),value:Zt.value}),(null===(j=ke)||void 0===j||null===(Y=j.flexibleDatesContent)||void 0===Y||null===(V=Y.monthsSelection)||void 0===V?void 0:V.options)&&aa&&!Rn&&a.createElement("input",{type:"hidden","data-stid":pt,name:pt,value:Jt.map((function(e){return e.monthsDate})).join("/")}),(null===($=ke)||void 0===$?void 0:$.calendarContent)&&ra&&Rn&&a.createElement("input",{type:"hidden","data-stid":rt,name:"".concat(rt,"-").concat(null===(K=ke.calendarContent)||void 0===K?void 0:K.formElementId),value:_n.current}))},wt="EGDSDateRangePicker",Mt=("".concat(wt,"-StartDate"),"".concat(wt,"-EndDate"),"yyyy-MM-dd"),Ut=function(e){var n,t,r,l,i,o=e.__typename,c=e.buttonText,u=e.buttonTextTemplate,d=e.clearButtonText,s=e.firstDayOfWeek,m=e.selectedEndDate,v=e.endDatePlaceholderText,p=e.selectedStartDate,E=e.startDatePlaceholderText,g=e.validDaysLowerBoundInclusive,y=e.validDaysUpperBoundInclusive,S=e.sameDaySelectionAllowed,_=e.showClearDatesButton,D=e.nextButtonAnalytics,T=e.previousButtonAnalytics,C=e.egdsElementId,b=e.label,I=e.setFieldRefByTypename,k=e.errorMessage,A=e.autoOpen,G=e.skipQuery,F=e.showCalendar,R=e.toggleCalendar,x=e.onClearDates,L=e.onSelectEndDate,P=e.onSelectStartDate,N=e.onChangeStartDate,O=e.onChangeEndDate,M=e.onSubmit,U=e.onOpen,W=e.onNextCalendarClick,z=e.onPreviousCalendarClick,H=e.startDateString,V=e.endDateString,Y=(0,f.useLocalization)().formatDateString,j=a.useRef(null),$=fe((0,B.useDialog)("search_form_date_picker_dialog"),3),K=$[0],Q=$[1],q=$[2],X=Q.closeDialog,Z=Q.openDialog,J=void 0!==F&&!!R,ee=fe(a.useState(J?F:null!=A&&A),2),ne=ee[0],te=ee[1],ae=a.useRef(!1),re=fe(a.useState(A),2),le=re[0],ie=re[1],oe=a.useCallback((function(e){J?R(e):te(e)}),[R,te,J]);a.useEffect((function(){J&&F!==ne&&te(F)}),[F]);var ce=a.useCallback((function(){var e,n,t;le&&(null!==(t=null===(n=j)||void 0===n||null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(ie(!1),oe(!1))}),[le,oe,ie]);a.useEffect((function(){if(le)return window.addEventListener("scroll",ce),function(){return window.removeEventListener("scroll",ce)}}),[le,ce]),a.useEffect((function(){ae.current?J&&!K&&F!==K&&R(K):ae.current=!0}),[K]);var ue=fe(a.useState({startDate:Y(p?Mn(p):"",{raw:Mt}),endDate:Y(m?Mn(m):"",{raw:Mt}),shouldFireChangeEvent:!1}),2),de=ue[0],se=ue[1],me=fe(a.useState(Y(new Date,{raw:Mt})),2),Ee=me[0],ge=me[1],ye=fe(a.useState(500),2),Se=ye[0],_e=ye[1],he=(0,h.i)(o,(function(e){return e})),De=de.startDate,Te=de.endDate,Ce=de.shouldFireChangeEvent,be=fe(a.useState("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)?u.text:c),2),Ie=be[0],ke=be[1],Ae=fe(a.useState(!0),2),Ge=Ae[0],Fe=Ae[1];a.useEffect((function(){var e={raw:Mt};if(H?se((function(e){return pe(ve({},e),{startDate:H})})):H||!p||G||se((function(n){return pe(ve({},n),{startDate:Y(p?Mn(p):"",e)})})),V?se((function(e){return pe(ve({},e),{endDate:V})})):m&&!G&&se((function(n){return pe(ve({},n),{endDate:Y(m?Mn(m):"",e)})})),p||m||H||V||G||se((function(e){return pe(ve({},e),{endDate:"",startDate:""})})),g&&ge(Y(Mn(g),e)),y){var n=Mn(y).getTime()-(new Date).getTime();_e(wn(n))}}),[Y,m,p,g,y,G,H,V]),a.useEffect((function(){Ce&&(se((function(e){return pe(ve({},e),{shouldFireChangeEvent:!1})})),Nn("".concat(De," - ").concat(Te),he))}),[de]);var Re={analytics:{nextPageAnalytics:{callback:function(){return W()},description:null===(t=D)||void 0===t?void 0:t.linkName,id:null===(r=D)||void 0===r?void 0:r.referrerId},previousPageAnalytics:{callback:function(){return z()},description:null===(l=T)||void 0===l?void 0:l.linkName,id:null===(i=T)||void 0===i?void 0:i.referrerId}},buttonText:Ie,dateFieldProps:{startName:C,startLabel:b,endLabel:b,startId:C,startPlaceholder:E,endPlaceholder:v,routerLinkWrapper:Wn,showDatePicker:ne,startInvalid:k,mediumDateFormatProp:"MMMd",onChange:function(){}},daysBookableInAdvance:Se,dialogWrapper:Un(q),doubleMonths:!0,firstDayOfWeek:zn[s],onDismissCB:function(e,n){e&&X(),n||oe(!1)},onOpenCB:function(e,n){U(),oe(!0),n&&Z()},onSubmitCB:function(e,n,t){if(M(),t&&X(),oe(!1),e||n){var a=n||new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),r=Y(e,{raw:Mt}),l=Y(a,{raw:Mt});r===De&&l===Te||(N(r),O(l),se({startDate:r,endDate:l,shouldFireChangeEvent:!0}))}else De&&Te&&(N(""),O(""),se({startDate:"",endDate:"",shouldFireChangeEvent:!0}))},onSelectStartModeCB:P,onSelectEndModeCB:L,onChangeStartDateCB:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)){var t=Y(e,{raw:Mt});se({startDate:t,endDate:"",shouldFireChangeEvent:!1}),Ge?(ke(u.text),Fe(!1)):ke(Hn(u,1))}},onChangeEndDateCB:function(e){var n;if("EGDSCardinalLocalizedText"===(null===(n=u)||void 0===n?void 0:n.__typename)){var t=Number(new Date(de.startDate)),a=Y(e,{raw:Mt}),r=Number(new Date(a)),l=wn(r-t);ke(Hn(u,l))}},onClearDatesCB:x,startDate:De,endDate:Te,validStartDate:Ee,useSingleTrigger:!0,onMountCB:function(e){return I("EGDSSearchFormDatePickerField",e)},singleDateSelect:S,useClearDates:null!=_&&_,clearButtonText:null!=d?d:void 0,startDateRef:j};return a.createElement(w.Pe,ve({},Re))},Wt=(0,r.Ps)(we(),Pt.fragment),zt="EGDSDateRangePicker",Ht="".concat(zt,"-StartDate"),Vt="".concat(zt,"-EndDate"),Yt="yyyy-MM-dd",jt=function(e){var n,t,r,l,i,o,u,d,s,m=(0,p.useClickTracker)(),E=e.data,g=e.useDateSelector,y=e.analytics,S=e.egdsElementId,_=e.label,h=e.validDaysUpperBoundInclusive,D=e.skipReflection,T=e.onOpenDatesField,C=e.updatePlaybackDates,b=E.__typename,I=E.selectedStartDate,k=E.selectedEndDate,A=E.validDaysUpperBoundInclusive,G=E.sameDaySelectionAllowed,F=E.clearButtonText,R=E.showClearDatesButton,x=E.startDatePlaceholderText,L=E.endDatePlaceholderText,P=E.clearDatesButtonAnalytics,N=E.endDateButtonAnalytics,O=E.startDateButtonAnalytics,B=E.submitButtonAnalytics,w=E.nextButtonAnalytics,M=E.previousButtonAnalytics,U=E.flexibleDateContent,W=(0,c.m)(),z=W.state,H=W.dispatch,V=null!==(u=z.dates)&&void 0!==u?u:{},Y=V.start,j=V.end,$=(0,f.useLocalization)().formatDateString,K=I?$(Mn(I),{raw:Yt}):"",Q=k?$(Mn(k),{raw:Yt}):"",q=fe(a.useState({startDate:K,endDate:Q}),2),X=q[0],Z=q[1],J="EGDSBasicTabs"===(null===(t=U)||void 0===t||null===(n=t.contentSelector)||void 0===n?void 0:n.__typename)?null===(r=U)||void 0===r?void 0:r.contentSelector.tabs:null,ee=J&&"EGDSBasicTab"===J[0].__typename?J[0].tabId:"calendar-tab",ne=fe(a.useState("EGDSBasicTabs"!==(null===(i=U)||void 0===i||null===(l=i.contentSelector)||void 0===l?void 0:l.__typename)||(null===(o=U)||void 0===o?void 0:o.contentSelector.selectedTabId)===ee),2),te=ne[0],ae=ne[1],re=function(e){var n,t,a,r,l=null!==(a=null===(n=e)||void 0===n?void 0:n.referrerId)&&void 0!==a?a:"",i=null!==(r=null===(t=e)||void 0===t?void 0:t.linkName)&&void 0!==r?r:"";l&&i&&m(l,i)},le=ve({onClearDates:function(){return re(P)},onSelectEndDate:function(){return re(N)},onSelectStartDate:function(){return re(O)},onSubmit:function(){return re(B)},onClose:function(){return re(B)},onOpen:function(){var e;null===(e=T)||void 0===e||e(),re(y)},onChangeStartDate:function(e){Z((function(n){return pe(ve({},n),{startDate:null!=e?e:n.startDate})})),C&&C(e,!0)},onChangeEndDate:function(e){Z((function(n){return D||H({type:"UPDATE_DATES",end:e,start:n.startDate}),C&&C(e,!1),pe(ve({},n),{endDate:null!=e?e:n.endDate})}))},onNextCalendarClick:function(){return re(w)},onPreviousCalendarClick:function(){return re(M)}},D?{}:{startDateString:Y,endDateString:j}),ie=pe(ve({},e,E,le),{validDaysUpperBoundInclusive:null!=h?h:A}),oe=pe(ve({},e,E,le),{typename:b,startDate:I,endDate:k,validDaysUpperBoundInclusive:null!=h?h:A,enableSameDayDateRange:G,clearButtonText:null!=F?F:"",inputLabel1:null!=_?_:x,inputLabel2:null!=_?_:L,allowClearDates:null!=R&&R,showStartDateEndDateHiddenInputs:function(e){return ae(e)}});return a.useEffect((function(){D||Z((function(e){return ve({},e,Y?{startDate:Y}:{},j?{endDate:j}:{})}))}),[Z,Y,j,D]),a.createElement(a.Fragment,null,g?a.createElement(v.Viewport,null,a.createElement(v.ViewSmall,null,a.createElement(Bt,pe(ve({},oe),{autoOpen:!1}))),a.createElement(v.ViewMedium,null,a.createElement(Bt,ve({},oe)))):a.createElement(Ut,ve({},ie)),te&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":Ht,name:"".concat(Ht,"-").concat(S),value:null!==(d=X.startDate)&&void 0!==d?d:""}),a.createElement("input",{type:"hidden","data-stid":Vt,name:"".concat(Vt,"-").concat(S),value:null!==(s=X.endDate)&&void 0!==s?s:""})))};jt.displayName=zt,jt.fragment=Wt;var $t="EGDSSingleDatePicker",Kt="".concat($t,"-Date"),Qt="yyyy-MM-dd",qt=(0,r.Ps)(Me()),Xt=function(e){var n,t=e.analytics,r=e.data,l=e.egdsElementId,o=e.label,u=e.placeholder,d=e.setFieldRefByTypename,s=e.errorMessage,m=e.index,v=e.showCalendar,E=e.toggleCalendar,g=e.autoOpen,y=e.dialogId,S=e.useDateSelector,D=e.skipReflection,T=e.updatePlaybackDates,C=e.totalLegs,b=(0,p.useClickTracker)(),I=r.__typename,k=r.buttonText,A=r.selectedStartDate,G=r.validDaysLowerBoundInclusive,F=r.validDaysUpperBoundInclusive,R=r.firstDayOfWeek,x=r.startDateButtonAnalytics,L=r.submitButtonAnalytics,P=(0,c.m)(),N=P.state,O=P.dispatch,M=null!==(n=N.dates)&&void 0!==n?n:{},U=M.start,W=M.end,z=(0,f.useLocalization)().formatDateString,H=fe((0,B.useDialog)("search_form_date_picker_dialog"),3),V=H[0],Y=H[1],j=H[2],$=Y.closeDialog,K=Y.openDialog,Q=fe(a.useState(null!=g&&g),1)[0],q=new Date;(new Date).setDate(q.getDate()+1);var X=void 0!==v&&!!E,Z=fe(a.useState(!!X&&v),2),J=Z[0],ee=Z[1],ne=a.useRef(!1),te=a.useCallback((function(e){X?E(e):ee(e)}),[E,ee,X]);a.useEffect((function(){X&&v!==J&&ee(v)}),[v]),a.useEffect((function(){ne.current?X&&!V&&v!==V&&E(V):ne.current=!0}),[V]);var ae=fe(a.useState(z(q,{raw:Qt})),2),re=ae[0],le=ae[1],ie=fe(a.useState(z(q,{raw:Qt})),2),oe=ie[0],ce=ie[1],ue=fe(a.useState(330),2),de=ue[0],se=ue[1],me=(0,h.i)("".concat(I,"-StartDate"),(function(e){return e}));a.useEffect((function(){var e={raw:Qt};if(!D&&U?le(U):A&&le(z(Mn(A),e)),G&&ce(z(Mn(G),e)),F){var n=Mn(F).getTime()-(new Date).getTime();se(wn(n))}}),[z,A,G,F,U]);var pe={buttonText:k,dateFieldProps:{startName:l,startLabel:o,startId:l,startPlaceholder:u,routerLinkWrapper:Wn,showDatePicker:J,startInvalid:s,mediumDateFormatProp:"MMMd"},daysBookableInAdvance:de,dialogWrapper:Un(j),doubleMonths:!0,firstDayOfWeek:zn[R],onDismissCB:function(e,n){e&&$(),n||te(!1)},onOpenCB:function(e,n){var a=t.referrerId,r=t.linkName;a&&r&&b(a,r),te(!0),n&&K()},onSubmitCB:function(e,n,t){var a,r,l,i,o=null!==(l=null===(a=L)||void 0===a?void 0:a.referrerId)&&void 0!==l?l:"",c=null!==(i=null===(r=L)||void 0===r?void 0:r.linkName)&&void 0!==i?i:"";o&&c&&b(o,c),t&&$();var u=z(e,{raw:Qt});le(u),T&&C&&(0===m||m===C-1)&&T(e,0===m),D||O({type:"UPDATE_DATES",start:u,end:null!=W?W:""}),te(!1)},onSelectStartModeCB:function(){var e,n,t,a,r=null!==(t=null===(e=x)||void 0===e?void 0:e.referrerId)&&void 0!==t?t:"",l=null!==(a=null===(n=x)||void 0===n?void 0:n.linkName)&&void 0!==a?a:"";r&&l&&b(r,l)},startDate:re,validStartDate:oe,onMountCB:function(e){return d("EGDSSearchFormDatePickerField",e)},onStartDateResultSelection:me,singleMode:!0},Ee="".concat(l).concat(Number.isInteger(m)?"-".concat(m):""),ge=(0,i.v)().context,ye=ge.locale?ge.locale.replace("_","-"):"en-US",Se=a.useRef(null),_e=m?m.toString():y,he=function(e){var n,t,a,r,l=null!==(a=null===(n=e)||void 0===n?void 0:n.referrerId)&&void 0!==a?a:"",i=null!==(r=null===(t=e)||void 0===t?void 0:t.linkName)&&void 0!==r?r:"";l&&i&&b(l,i)};a.useEffect((function(){d("EGDSSearchFormDatePickerField",Se)}),[]);var De={isSingleDateSelection:!0,startDate:re,submitButtonLabel:k,inputLabel1:null!=o?o:void 0,maxDate:Bn(de),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:Q,locale:ye,handleShape:"circle",invalidInput1:s,dialogId:_e,startDateRef:Se,onDateRangeChange:function(e){le(e),he(x)},onOpen:function(){return he(t)},onClose:function(){return he(L)},endDate:null};return a.createElement(a.Fragment,null,S?a.createElement(_.s,ve({},De)):a.createElement(w.Pe,ve({},pe)),a.createElement("input",{type:"hidden","data-stid":Kt,name:"".concat(Kt,"-").concat(Ee),value:re}))};Xt.displayName=$t,Xt.fragment=qt;var Zt=(0,r.Ps)(Ue(),jt.fragment,Xt.fragment),Jt=function(e){var n,t=e.setFieldRefByTypename,r=e.fieldError,l=e.data,i=e.dialogId,o=e.validDaysUpperBoundInclusive,c=l.action,u=l.errorMessage,d=l.validations;if("EGDSOpenDatePickerAction"!==(null===(n=c)||void 0===n?void 0:n.__typename))return null;var s,m,v,p,f=r?(p=r.validations,(null===(s=p)||void 0===s?void 0:s.sameDate)||p.endDateBeforeStartDate?null!=u?u:"":(null===(m=p)||void 0===m?void 0:m.maxDate)&&d&&"EGDSMaxLengthInputValidation"===d[0].__typename&&null!==(v=d[0].errorMessage)&&void 0!==v?v:""):"",E=pe(ve({},e),{analytics:c.analytics,setFieldRefByTypename:t,errorMessage:f,dialogId:i});switch(c.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(jt,pe(ve({},l,E),{data:c.datePicker,validDaysUpperBoundInclusive:o}));case"EGDSSingleDatePicker":return a.createElement(Xt,pe(ve({},l,E),{data:c.datePicker}));default:return null}};Jt.displayName="EGDSSearchFormDatePickerField",Jt.fragment=Zt;var ea="SEARCH_FORM_LOCATION_FIELD_UPDATE",na="EGDSSearchFormLocationField",ta="".concat(na,"-Location"),aa="".concat(na,"-RegionId"),ra="".concat(na,"-AirportCode"),la="".concat(na,"-Lat"),ia="".concat(na,"-Long"),oa="".concat(na,"-Selected"),ca="".concat(na,"-AmenitiesFacilitiesGroup"),ua="".concat(na,"-LocGroup"),da="".concat(na,"-PropertiesGoodForGroup"),sa="".concat(na,"-PropertyTypeGroup"),ma="".concat(na,"-DestinationId"),va="".concat(na,"-PropertyId"),pa="".concat(na,"-PropertyFilter"),fa=function(e){var n,t,r,l,i,o,u,d,m,v,E,g,y,S=e.egdsElementId,_=e.essAdapter,h=e.label,D=e.placeholder,T=e.icon,C=e.value,b=e.accessibility,I=e.errorText,k=e.required,A=e.emptyResultsPlaceholder,G=e.setFieldRefByTypename,F=e.__typename,R=e.analyticsLinkName,x=e.analyticsReferrerId,L=e.closeAnalyticsLinkName,P=e.changeAnalyticsLinkName,N=e.changeAnalyticsReferrerId,O=e.closeAnalyticsReferrerId,B=e.categorize,w=e.allowExactMatch,U=e.listTitle,W=e.handleResultSelection,z=e.onSelection,H=e.selection,V=e.index,Y=e.regionId,j=e.skipQuery,$=e.valueFromQueryParam,K=e.pinnedPropertyId,Q=e.alternativeLocationLabel,q=e.propertyRefinements,X=e.isDestination,Z=e.skipReflection,J=e.onOpenLocationField,ee=e.onSelectLocation,ne=e.sameDayPrefill,te=e.debounceRate,ae=void 0===te?200:te,re=e.allowToRemoveRecentSearches,le=e.withoutCustomStyling,ie=(0,c.m)(),oe=ie.state,ce=ie.dispatch,ue=oe.destination,de=oe.origin,se=(0,f.useLocalization)().formatDateString,me=a.useMemo((function(){var e,n,t;if(!Z&&X&&ue)return ue;if(!Z&&!X&&de)return de;var a=fe((null===(t=_)||void 0===t||null===(n=t.config)||void 0===n||null===(e=n.lastSearchLatLong)||void 0===e?void 0:e.split(","))||["",""],2),r=a[0],l=a[1];return{term:C,data:{type:void 0,regionId:Y,hierarchyInfo:{airport:{airportCode:"",airportId:""}},location:{lat:r,long:l},selected:null!=K?K:void 0,regionNames:{fullName:C},cityId:""}}}),[C,Y,K,X]),Ee=fe(a.useState(me),2),ge=Ee[0],ye=Ee[1],Se=fe(a.useState(ge.term&&Q?Q:h),2),_e=Se[0],he=Se[1];a.useEffect((function(){null==me.term||j||ye(me)}),[me,j]),a.useEffect((function(){Z||X||!de||ye(de),!Z&&X&&ue&&ye(ue)}),[Z,de,ue]);var De=(0,p.useClickTracker)();a.useEffect((function(){var e;(null===(e=H)||void 0===e?void 0:e.term)&&H.term!==ge.term&&ye(H),$&&$!==ge.term&&(ye((function(e){return pe(ve({},e),{term:$})})),z&&z({data:ge.data,term:$}))}),[H,$]);var Te,Ce=ge.data||me.data,be=Ce.regionId,Ie=Ce.location,ke=Ce.hierarchyInfo,Ae=Ce.selected,Ge=void 0===Ae?"":Ae,Fe=Ce.type,Re=Ce.cityId,xe=null!=Ie?Ie:{},Le=xe.lat,Pe=void 0===Le?"":Le,Ne=xe.long,Oe=void 0===Ne?"":Ne,Be=(null!=ke?ke:{}).airport||{},we=Be.airportCode,Me=void 0===we?"":we,Ue=Be.airportId,We=void 0===Ue?"":Ue,ze=a.useCallback((function(e){ye((function(n){var t,a;return(null===(a=n.data)||void 0===a||null===(t=a.regionNames)||void 0===t?void 0:t.fullName)===e.term?n:e}))}),[]);(0,M._9)((Te=ze,{query:{type:ea},onSignal:function(e){var n=e.payload,t=(void 0===n?{}:n).locationValue;"string"==typeof t&&Te({term:t,data:{}})}}));var He,Ve,Ye="".concat(S).concat(Number.isInteger(V)?"-".concat(V):""),je=(null===(t=ge.data)||void 0===t||null===(n=t.regionNames)||void 0===n?void 0:n.fullName)&&!$&&Fe!==s.r.CURRENT_LOCATION?ge.data.regionNames.fullName:ge.term,$e=ge.data?be||Re||We:"",Ke=_.config.showCurrentLocation&&Fe===s.r.CURRENT_LOCATION?"":je,Qe=ge.data?Re||be:"",qe=null!==(He=null===(l=ge.data)||void 0===l||null===(r=l.listing)||void 0===r?void 0:r.expediaId)&&void 0!==He?He:null,Xe=null!==(Ve=null===(i=ge.data)||void 0===i?void 0:i.popularFilter)&&void 0!==Ve?Ve:[];return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(s.CG,{id:S,name:S,adapter:_,label:_e,typeaheadPlaceholder:D,icon:T,value:je,onUpdate:function(e){var n,t,a,r;(N&&P&&De("".concat(N,".").concat(e.term),P),ye(e),he(e.term&&Q?Q:h),z&&z(e),Z)||(ce({type:X?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:e.data?e:pe(ve({},e),{data:{}})}),_.config.historyDetail&&(null===(a=e)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.searchDetail)&&ce({type:"UPDATE_DATES_AND_TRAVELERS",travelers:null!==(r=e.data.searchDetail)&&void 0!==r?r:null}));if((null===(n=e.data)||void 0===n?void 0:n.type)===s.r.CURRENT_LOCATION&&ee&&ne){ee();var l=new Date,i=se(new Date(l.getFullYear(),l.getMonth(),l.getDate()),{raw:"yyyy-MM-dd"}),o=se(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{raw:"yyyy-MM-dd"});ce({type:"UPDATE_DATES",start:i,end:o})}},handleClear:function(){ye({term:"",data:{regionId:"",hierarchyInfo:{airport:{airportCode:"",airportId:""}},location:{lat:"",long:""},selected:void 0,regionNames:{},cityId:""}}),he(h)},stid:S,accessibilityLabel:b,onClick:function(){J&&J(),""===x&&""===R||De(x,R)},onMountCB:function(e){return G(F,e)},invalid:I,required:k,typeaheadEmptyResultPlaceholder:A,onResultSelection:W,categorize:B,allowExactMatch:w,listTitle:U,onDismiss:function(){var e=null!=O?O:"",n=null!=L?L:"";e&&n&&De(e,n)},debounceRate:ae,allowToRemoveRecentSearches:re,withoutCustomStyling:le})),a.createElement("input",{type:"hidden","data-stid":ta,name:"".concat(ta,"-").concat(Ye),value:Ke}),$e&&a.createElement("input",{type:"hidden","data-stid":aa,name:"".concat(aa,"-").concat(Ye),value:$e}),a.createElement("input",{type:"hidden","data-stid":ra,name:"".concat(ra,"-").concat(Ye),value:Me}),a.createElement("input",{type:"hidden","data-stid":la,name:"".concat(la,"-").concat(Ye),value:Pe}),a.createElement("input",{type:"hidden","data-stid":ia,name:"".concat(ia,"-").concat(Ye),value:Oe}),qe&&a.createElement("input",{type:"hidden","data-stid":va,name:"".concat(va,"-").concat(Ye),value:qe}),a.createElement("input",{type:"hidden","data-stid":oa,name:"".concat(oa,"-").concat(Ye),value:null!=qe?qe:Ge}),_.config.popularFilter&&Xe.map((function(e){return a.createElement("input",{key:"search-location-popular-filter-".concat(e.legacyId),type:"hidden","data-stid":pa,name:"".concat(pa,"-").concat(e.legacyId),value:e.legacyValue})})),(null===(o=q)||void 0===o?void 0:o.amenitiesFacilitiesGroup)&&a.createElement("input",{type:"hidden","data-stid":ca,name:"".concat(ca,"-").concat(Ye),value:null===(u=q)||void 0===u?void 0:u.amenitiesFacilitiesGroup}),(null===(d=q)||void 0===d?void 0:d.locationGroup)&&a.createElement("input",{type:"hidden","data-stid":ua,name:"".concat(ua,"-").concat(Ye),value:null===(m=q)||void 0===m?void 0:m.locationGroup}),(null===(v=q)||void 0===v?void 0:v.propertiesGoodForGroup)&&a.createElement("input",{type:"hidden","data-stid":da,name:"".concat(da,"-").concat(Ye),value:null===(E=q)||void 0===E?void 0:E.propertiesGoodForGroup}),(null===(g=q)||void 0===g?void 0:g.propertyTypeGroup)&&a.createElement("input",{type:"hidden","data-stid":sa,name:"".concat(sa,"-").concat(Ye),value:null===(y=q)||void 0===y?void 0:y.propertyTypeGroup}),Qe&&a.createElement("input",{type:"hidden","data-stid":ma,name:"".concat(ma,"-").concat(Ye),value:Qe}))},Ea="EGDSSearchFormLocationField",ga="".concat(Ea,"-Location"),ya="".concat(Ea,"-RegionId"),Sa="".concat(Ea,"-AirportCode"),_a="".concat(Ea,"-Lat"),ha="".concat(Ea,"-Long"),Da="".concat(Ea,"-Values"),Ta=function(e){var n=e.egdsElementId,t=e.essAdapter,r=e.label,l=e.placeholder,i=e.icon,o=e.multiLocations,c=e.errorText,u=e.required,d=e.emptyResultsPlaceholder,m=e.setFieldRefByTypename,v=e.__typename,f=e.analyticsLinkName,E=e.analyticsReferrerId,g=e.categorize,y=e.allowExactMatch,S=e.listTitle,_=e.selectedItemHeading,h=e.clearAllText,D=e.dismissButtonText,T=e.handleResultSelection,C=e.onMultiSelectItemRemove,b=e.onMultiSelectClearAll,I=e.onMultiSelectClose,k=e.withoutCustomStyling,A=o.map((function(e){return{term:e.text,data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:e.value}}})),G=fe(a.useState(A),2),F=G[0],R=G[1],x=fe(a.useState(!1),2),L=x[0],P=x[1];a.useEffect((function(){L&&(P(!1),Nn(F.map((function(e){return e.term})).join(", "),T))}),[L,F,T]);var N=(0,p.useClickTracker)(),O=function(e){var n={data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:""}},t=e.map((function(e){return e.data||n.data}));return{term:e.map((function(e){return e.term})).join(","),regionId:t.map((function(e){return e.regionId})).join(","),lat:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.lat})).join(","),long:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.long})).join(","),airportCode:t.map((function(e){var n,t;return null===(t=e.hierarchyInfo)||void 0===t||null===(n=t.airport)||void 0===n?void 0:n.airportCode})).join(","),locationValues:t.map((function(e){return e.value})).join(",")}}(F),B=O.term,w=O.regionId,M=O.lat,U=O.long,W=O.airportCode,z=O.locationValues,H=r.concat(",").concat(B);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(s.CG,{id:n,name:n,adapter:t,label:r,typeaheadPlaceholder:l,icon:i,value:F.map((function(e){return e.term})),onUpdate:function(e){!F.some((function(n){return n===e}))&&e.data&&R((function(n){return ge(n).concat([e])}))},stid:n,accessibilityLabel:H,onClick:function(){return N(E,f)},onMountCB:function(e){return m(v,e)},invalid:c,required:u,typeaheadEmptyResultPlaceholder:d,handleClear:function(){var e;R([]),null===(e=b)||void 0===e||e(n)},onItemRemove:function(e){var t;F.length>0&&(R((function(n){return n.filter((function(n,t){return t!==e}))})),null===(t=C)||void 0===t||t(F[e],n))},onDismiss:function(e){var t;null===(t=I)||void 0===t||t(e,n),P(!0)},categorize:g,allowExactMatch:y,listTitle:S,selectedItemHeading:_,clearAllText:h,dismissButtonText:D,isMulti:!0,withoutCustomStyling:k})),a.createElement("input",{type:"hidden","data-stid":ga,name:"".concat(ga,"-").concat(n),value:B}),a.createElement("input",{type:"hidden","data-stid":ya,name:"".concat(ya,"-").concat(n),value:w}),a.createElement("input",{type:"hidden","data-stid":Sa,name:"".concat(Sa,"-").concat(n),value:W}),a.createElement("input",{type:"hidden","data-stid":_a,name:"".concat(_a,"-").concat(n),value:M}),a.createElement("input",{type:"hidden","data-stid":ha,name:"".concat(ha,"-").concat(n),value:U}),a.createElement("input",{type:"hidden","data-stid":Da,name:"".concat(Da,"-").concat(n),value:z}))},Ca=(0,r.Ps)(We()),ba="EGDSSearchFormLocationField",Ia=function(e){var n,t,r,l,o,c,u,d,v,p=e.fieldError,f=e.data,E=e.adapter,g=e.onMultiSelectClose,y=e.onMultiSelectItemRemove,S=e.onMultiSelectClearAll,_=e.essLogger,D=e.locationsErrorText,T=e.additionalAdapterFields,C=e.pinnedPropertyId,b=e.alternativeLocationLabel,I=e.propertyRefinements,k=e.skipReflection,A=e.onLocationsSelection,G=e.showCurrentLocation,F=e.allowToRemoveRecentSearches,R=(0,i.v)().context,x=R.identity,L=R.locale,P=R.siteId,N=f.__typename,O=f.label,B=f.action,w=f.placeholder,M=f.leftIcon,U=f.egdsElementId,W=f.value,z=f.errorMessage,H=f.required,V=f.multiLocations,Y=f.closeAnalytics,j=f.changeAnalytics,$=f.regionId,K=f.debounceRate,Q=null!==(v=null!=D?D:z)&&void 0!==v?v:"",q=(0,h.i)(U,(function(e){return e})),X=(0,m.useExperiment)("TypeaheadCustom_without_specific_CSS"),Z=X.exposure,J=X.logExperiment;if(a.useEffect((function(){try{J(Z)}catch(e){}})),"OpenTypeaheadAction"!==(null===(n=B)||void 0===n?void 0:n.__typename))return null;var ee,ne=pe(ve({},T),{alternate:!!(null===(t=T)||void 0===t?void 0:t.lastSearchLatLong)&&(null===(r=T)||void 0===r?void 0:r.alternate)}),te=B.analytics,ae=B.accessibility,re=B.emptyResultsPlaceholder,le=B.categorize,ie=B.allowExactMatch,oe=B.listTitle,ce=B.selectedItemHeading,ue=B.clearAllText,de=B.dismissButtonText,se=B.info,me=se.client,fe=se.drivable,Ee=se.isDestination,ge=se.lineOfBusiness,ye=se.maxNumberOfResults,Se=se.packageType,_e=se.personalize,he=se.regionType,De=se.typeaheadFeatures,Te=se.isMultiLocation,Ce=se.domain,be=se.regionId,Ie=se.subLob,ke=se.expUserId,Ae=(x||{}).duaid,Ge=Number(ke)||-1,Fe=null!=E?E:new s.n7(pe(ve({client:null!=me?me:"",drivable:fe,dest:Ee,domain:null!=Ce?Ce:"https://www.expedia.com/",expuserid:Ge,features:null!=De?De:"",guid:Ae,lob:null!=ge?ge:"",locale:L,maxResults:null!=ye?ye:10,personalize:_e,regionType:null!=he?he:2047,siteId:P,packageType:null!=Se?Se:"",essLogger:_,showCurrentLocation:null!=G&&G,regionId:null!=be?be:void 0},ne),{subLob:null!=Ie?Ie:""})),Re=pe(ve({},e),{egdsElementId:U,essAdapter:Fe,categorize:le,allowExactMatch:ie,listTitle:oe,handleResultSelection:q,label:null!=O?O:"",placeholder:null!=w?w:"",icon:null!==(ee=null===(l=M)||void 0===l?void 0:l.title)&&void 0!==ee?ee:"place",accessibility:null!=ae?ae:"",errorText:p?Q:"",required:null!=H&&H,emptyResultsPlaceholder:null!=re?re:"",analyticsLinkName:te.linkName,analyticsReferrerId:te.referrerId,closeAnalyticsLinkName:null===(o=Y)||void 0===o?void 0:o.linkName,closeAnalyticsReferrerId:null===(c=Y)||void 0===c?void 0:c.referrerId,changeAnalyticsLinkName:null===(u=j)||void 0===u?void 0:u.linkName,changeAnalyticsReferrerId:null===(d=j)||void 0===d?void 0:d.referrerId,selectedItemHeading:null!=ce?ce:"",dismissButtonText:null!=de?de:"",__typename:N,regionId:$,isDestination:Ee,debounceRate:null!=K?K:void 0,showCurrentLocation:null!=G&&G,withoutCustomStyling:1===Z.bucket});return Te?a.createElement(Ta,pe(ve({},Re),{multiLocations:null!=V?V:[],clearAllText:null!=ue?ue:"",onMultiSelectClose:g,onMultiSelectItemRemove:y,onMultiSelectClearAll:S,onLocationsSelection:A})):a.createElement(fa,pe(ve({},Re),{value:null!=W?W:"",pinnedPropertyId:null!=C?C:"",alternativeLocationLabel:b,propertyRefinements:I,skipReflection:k,allowToRemoveRecentSearches:F}))};Ia.displayName=ba,(Ia.fragment=Ca).__typename=ba;var ka=(0,r.Ps)(ze(),Fn),Aa=function(e){var n=e.data,t=e.onClick,r=e.size,l=e.isFullWidth,i=void 0===l||l,o=e.floating,c=void 0!==o&&o,u=n.egdsElementId,d=n.primary,s=n.analytics,m=null!=u?u:"search_form_primary_button",v=(0,p.useClickTracker)(),f={onClick:a.useCallback((function(){if(s){var e=s.referrerId,n=s.linkName;v(e,n)}t()}),[s,t,v]),id:m,isFullWidth:i,size:r||y.xY.LARGE};return c?a.createElement(W.o,{type:"fade-button"},a.createElement(U.t,ve({},f),d)):a.createElement(g.Y,ve({},f),d)};Aa.displayName="EGDSPrimaryButton",Aa.fragment=ka;var Ga=(0,r.Ps)(He(),Fn),Fa=function(e){var n=e.onClick,t=e.isFullWidth,r=e.size,l=e.data,i=e.isDisabled,o=l.egdsElementId,c=l.primary,u=l.disabled,d=l.accessibility,s=l.analytics,m=l.icon,v=null!=o?o:"search_form_tertiary_button",f=(0,p.useClickTracker)(),E=i||u,g=a.useCallback((function(){if(s){var e=s.referrerId,t=s.linkName;f(e,t)}n()}),[s,n,f]);return a.createElement(z.m,{"aria-label":null!=d?d:"",id:v,"data-test-id":v,onClick:g,disabled:E,isFullWidth:t,size:r},m&&a.createElement(S.fR,{name:m.id}),c)};Fa.displayName="EGDSTertiaryButton",Fa.fragment=Ga;var Ra=(0,r.Ps)(Ve()),xa=function(e){var n=e.data,t=n.label,r=n.value,l=n.egdsElementId,i="".concat(l,"-").concat(r);return a.createElement("option",{key:i,value:r},t)};xa.displayName="EGDSBasicOptionFragment",xa.fragment=Ra;var La=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Pa=function(e,n,t){if("EGDSTravelerChildren"===t.children.__typename){var a=t.children,r=pe(ve({},a),{count:pe(ve({},a.count),{value:e}),ages:n.length?n.map((function(e){return pe(ve({},a.ageTemplate),{value:e})})):[]});return ve({},r)}return ve({},t.children)},Na=function(e,n,t,a){var r,l;if(!t)return null;var i,o,c,u,d=n.reduce((function(e,n){var t;return e+n.adults.value+n.children.count.value+(null!==(l=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==l?l:0)}),0),s="lap"===a?n.reduce((function(e,n){var t;return e+(null!==(i=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==i?i:0)}),0):0,m="seat"===a?n.reduce((function(e,n){var t;return e+(null!==(o=null===(t=n.infants)||void 0===t?void 0:t.count.value)&&void 0!==o?o:0)}),0):0,v=n.reduce((function(e,n){return e+(null!==(c=n.adults.value)&&void 0!==c?c:0)}),0),p=n.reduce((function(e,n){var t;return e+(null!==(t=("EGDSTravelerChildren"===n.children.__typename?n.children.ages:[]).filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==t?t:0)}),0),f=function(e){return e.reduce((function(e,n){var t,a,r="EGDSTravelerChildren"===n.children.__typename?n.children.ages:[],l="EGDSTravelerInfant"===(null===(t=n.infants)||void 0===t?void 0:t.__typename)?n.infants.ages:[];return e+r.filter(La).length+(null!==(a=l.filter(La).length)&&void 0!==a?a:0)}),0)}(n),E=p+v<s,g=t.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var n,t,a=e.type,r=e.errorMessage,l=e.maxCount,i=e.errorSummary,o=e.infantsInSeatPerAdult;return null!==(t=(me(n={},"MAX_TRAVELERS",l&&d>l?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:pe(ve({},i),{heading:r})}:null),me(n,"CHILD_AGE_REQUIRED",f>0?{message:r,type:a,displayConfirmation:!1,errorCount:f,errorSummary:i}:null),me(n,"MANY_INFANT_ON_LAP",E?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:i}:null),me(n,"MANY_INFANT_IN_SEAT",o&&p+v<m/o?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:i}:null),n)[a])&&void 0!==t?t:null}return null})).filter((function(e){return null!==e}));return g.find((function(n){return e&&e.type===n.type}))&&(null===(r=e)||void 0===r?void 0:r.displayConfirmation)?pe(ve({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?f:1}):null!==(u=g[0])&&void 0!==u?u:null},Oa=function(e,n){switch(n.type){case"ADD_ROOM":var t=e.rooms[0],a=t.adults,r=t.label,l=t.removeRoomButton,i=t.children,o=t.infants;if("EGDSTravelerStepInput"===a.__typename&&"EGDSTravelerChildren"===i.__typename&&i.ages){var c,u,d,s=pe(ve({},i.count),{value:0}),m={__typename:"EGDSTravelerSelectorRoom",children:pe(ve({},i),{count:s,ages:[]}),adults:pe(ve({},a),{value:1}),label:r,removeRoomButton:l,travelerNote:null,infants:"EGDSTravelerInfant"===(null===(c=o)||void 0===c?void 0:c.__typename)?pe(ve({},o),{count:pe(ve({},o.count),{value:0}),ages:[]}):null},v=e.rooms.concat(m),p=Na(e.error?e.error:null,v,null!==(d=e.validations)&&void 0!==d?d:[],null===(u=e.infantSeatSelection)||void 0===u?void 0:u.value);return pe(ve({},e),{rooms:v,error:p})}return pe(ve({},e),{rooms:[]});case"REMOVE_ROOM":var f,E,g=n.roomIndex,y=e.rooms.filter((function(e,n){return n!==g})),S=Na(e.error?e.error:null,y,null!==(E=e.validations)&&void 0!==E?E:[],null===(f=e.infantSeatSelection)||void 0===f?void 0:f.value);return pe(ve({},e),{rooms:y,error:S});case"RESET_STATE":return n.state;case"RESET_ROOMS":return pe(ve({},e),{rooms:n.state.rooms});case"UPDATE_INFANT_SEAT_SELECTION":var _,h=n.value,D=Na(e.error?e.error:null,e.rooms,null!==(_=e.validations)&&void 0!==_?_:[],h);return pe(ve({},e),{infantSeatSelection:{value:n.value},error:D});case"UPDATE_TRAVELERS_COUNT":var T,C,b=n.roomIndex,I=n.count,k=n.travelersType,A=n.useDefaultAgeForChildren,G=e.rooms.map((function(e,n){if(n===b)switch(k){case"adults":return pe(ve({},e),{adults:pe(ve({},e.adults),{value:I})});case"children":if("EGDSTravelerChildren"===e.children.__typename){var t,a,r=e.children,l=I>r.count.value,i="EGDSTravelerChildAgeSelect"!==r.ageTemplate.__typename||A?null:pe(ve({},r.ageTemplate),{value:null}),o=l?null===(t=r.ages)||void 0===t?void 0:t.concat(null!=i?i:r.ageTemplate):null===(a=r.ages)||void 0===a?void 0:a.slice(0,-1),c=pe(ve({},r),{count:pe(ve({},r.count),{value:I}),ages:o});return pe(ve({},e),{children:c})}return e;case"infants":var u;if("EGDSTravelerInfant"===(null===(u=e.infants)||void 0===u?void 0:u.__typename)){var d=e.infants,s=I>d.count.value?d.ages.concat(d.ageTemplate):d.ages.slice(0,-1),m=pe(ve({},d),{count:pe(ve({},d.count),{value:I}),ages:s});return pe(ve({},e),{infants:m})}return e;default:return e}return e})),F=Na(e.error?e.error:null,G,null!==(C=e.validations)&&void 0!==C?C:[],null===(T=e.infantSeatSelection)||void 0===T?void 0:T.value);return pe(ve({},e),{rooms:G,error:F});case"UPDATE_CHILD_AGE":var R,x,L=n.roomIndex,P=n.childIndex,N=n.childAge,O=n.isInfant,B=e.rooms.map((function(e,n){var t;return n!==L||"EGDSTravelerChildren"!==e.children.__typename||O?n===L&&"EGDSTravelerInfant"===(null===(t=e.infants)||void 0===t?void 0:t.__typename)&&O?pe(ve({},e),{infants:pe(ve({},e.infants),{ages:e.infants.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&P===n?pe(ve({},e),{value:N}):ve({},e)}))})}):e:pe(ve({},e),{children:pe(ve({},e.children),{ages:e.children.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&P===n?pe(ve({},e),{value:N}):ve({},e)}))})})})),w=Na(e.error?e.error:null,B,null!==(x=e.validations)&&void 0!==x?x:[],null===(R=e.infantSeatSelection)||void 0===R?void 0:R.value);return pe(ve({},e),{rooms:B,error:w});case"SHOW_ERROR":if(e.error){var M=e.error,U={message:M.message,type:M.type,displayConfirmation:!0,errorCount:M.errorCount,errorSummary:M.errorSummary};return pe(ve({},e),{error:U})}return ve({},e);case"SET_VALIDATIONS":return pe(ve({},e),{validations:n.validations});case"UPDATE_TRAVELERS_BULK":var W,z=n.adultTravelerCounts,H=n.childTravelerCounts,V=n.childrenAges;if(null===(W=z)||void 0===W?void 0:W.length){var Y=z.map((function(n,t){var a,r;return pe(ve({},e.rooms[t]),{adults:pe(ve({},e.rooms[t].adults),{value:n}),children:(null===(a=V)||void 0===a?void 0:a.length)?Pa((null===(r=H)||void 0===r?void 0:r.length)?H[t]:0,V[t],e.rooms[t]):pe(ve({},e.rooms[t].children),{count:pe(ve({},e.rooms[t].children.count),{value:0}),ages:[]})})}));return pe(ve({},e),{rooms:Y})}return ve({},e);default:return e}},Ba=a.createContext({state:{}}),wa=function(e){var n=e.children,t=e.rooms,r=e.validations,l=e.skipQuery,i=e.infantSeatSelection,o=fe(a.useReducer(Oa,{rooms:t,validations:r,infantSeatSelection:i?{value:i.selected}:null}),2),c=o[0],u=o[1],d=fe(a.useState(c),2),s=d[0],m=d[1];a.useEffect((function(){l||u({type:"RESET_STATE",state:{rooms:t,validations:r,infantSeatSelection:i?{value:i.selected}:null}})}),[l,i,t]),a.useEffect((function(){c!==s&&m(c)}),[c,s]),a.useEffect((function(){u({type:"SET_VALIDATIONS",validations:r})}),[r]);var v={state:s,dispatch:u};return a.createElement(Ba.Provider,{value:v},n)},Ma=function(){return a.useContext(Ba)},Ua=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Wa=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},za=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Ha=function(e,n,t){var a,r,l,i,o,c,u;if(!t)return null;var d,s,m,v,p,f,E,g,y=null!==(u=null===(a=n.children)||void 0===a?void 0:a.count.value)&&void 0!==u?u:0,S=null!==(d=null===(r=n.infantsInSeat)||void 0===r?void 0:r.count.value)&&void 0!==d?d:0,_=null!==(s=null===(l=n.infantsOnLap)||void 0===l?void 0:l.count.value)&&void 0!==s?s:0,h=null!==(m=n.adults.value)&&void 0!==m?m:0,D=h+y+S+_,T=(v=n.children,"EGDSTravelerChildren"===(null===(p=v)||void 0===p?void 0:p.__typename)?v.ages.filter(Ua).length:0),C=function(e){var n,t;return"EGDSTravelerInfant"===(null===(n=e)||void 0===n?void 0:n.__typename)?null===(t=e)||void 0===t?void 0:t.ages.filter(Wa).length:0}(n.infantsInSeat),b=T+C+(f=n.infantsOnLap,"EGDSTravelerInfant"===(null===(E=f)||void 0===E?void 0:E.__typename)?null===(g=f)||void 0===g?void 0:g.ages.filter(za).length:0),I="EGDSTravelerChildren"===(null===(i=n.children)||void 0===i?void 0:i.__typename)?null===(o=n.children)||void 0===o?void 0:o.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length:0,k=I+h<_,A=t.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var n,t=e.type,a=e.errorMessage,r=e.maxCount,l=e.errorSummary,i=e.infantsInSeatPerAdult;return(me(n={},"MAX_TRAVELERS",r?D>r&&{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),me(n,"CHILD_AGE_REQUIRED",b>0?{message:a,type:t,displayConfirmation:!1,errorCount:b,errorSummary:l}:null),me(n,"MANY_INFANT_ON_LAP",k?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),me(n,"MANY_INFANT_IN_SEAT",i&&I+h<S/i?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),n)[t]}return null})).filter((function(e){return!!e}));return A.find((function(n){var t;return e&&e.type===(null===(t=n)||void 0===t?void 0:t.type)}))&&(null===(c=e)||void 0===c?void 0:c.displayConfirmation)?pe(ve({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?b:1}):A?A[0]:null},Va=function(e,n){switch(n.type){case"RESET_STATE":return n.state;case"UPDATE_TRAVELERS_COUNT":var t,a=function(e,n){switch(n.travelersType){case"adults":return pe(ve({},e),{adults:pe(ve({},e.adults),{value:n.count})});case"children":var t,a;if("EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)){var r,l,i=e.children,o=n.count>i.count.value,c="EGDSTravelerChildAgeSelect"!==i.ageTemplate.__typename||n.useDefaultAgeForChildren?null:pe(ve({},i.ageTemplate),{value:null}),u=o?null===(r=i.ages)||void 0===r?void 0:r.concat(null!=c?c:i.ageTemplate):null===(l=i.ages)||void 0===l?void 0:l.slice(0,-1),d=pe(ve({},i),{count:pe(ve({},i.count),{value:n.count}),ages:u});return pe(ve({},e),{children:d})}if("EGDSBasicTraveler"===(null===(a=e.children)||void 0===a?void 0:a.__typename)){var s=e.children;return pe(ve({},e),{children:pe(ve({},s),{count:pe(ve({},s.count),{value:n.count})})})}return e;case"infants_in_seat":var m,v,p;if("EGDSTravelerInfant"===(null===(m=e.infantsInSeat)||void 0===m?void 0:m.__typename)&&"EGDSTravelerInfant"===(null===(v=e.infantsOnLap)||void 0===v?void 0:v.__typename)){var f,E,g,y=e.infantsInSeat,S=e.infantsOnLap,_=n.count>y.count.value?null===(f=y.ages)||void 0===f?void 0:f.concat(y.ageTemplate):null===(E=y.ages)||void 0===E?void 0:E.slice(0,-1),h=pe(ve({},y),{count:pe(ve({},y.count),{value:n.count}),ages:_}),D=h.count.value>0?0:h.count.max,T=pe(ve({},S),{count:pe(ve({},null===(g=S)||void 0===g?void 0:g.count),{max:D})});return pe(ve({},e),{infantsInSeat:h,infantsOnLap:T})}if("EGDSBasicTraveler"===(null===(p=e.infantsInSeat)||void 0===p?void 0:p.__typename)){var C=e.infantsInSeat;return pe(ve({},e),{infantsInSeat:pe(ve({},C),{count:pe(ve({},C.count),{value:n.count})})})}return e;case"infants_on_lap":var b,I,k;if("EGDSTravelerInfant"===(null===(b=e.infantsOnLap)||void 0===b?void 0:b.__typename)&&"EGDSTravelerInfant"===(null===(I=e.infantsInSeat)||void 0===I?void 0:I.__typename)){var A,G,F,R=e.infantsOnLap,x=e.infantsInSeat,L=n.count>R.count.value?null===(A=R.ages)||void 0===A?void 0:A.concat(R.ageTemplate):null===(G=R.ages)||void 0===G?void 0:G.slice(0,-1),P=pe(ve({},R),{count:pe(ve({},R.count),{value:n.count}),ages:L}),N=P.count.value>0?0:P.count.max,O=pe(ve({},x),{count:pe(ve({},null===(F=x)||void 0===F?void 0:F.count),{max:N})});return pe(ve({},e),{infantsOnLap:P,infantsInSeat:O})}if("EGDSBasicTraveler"===(null===(k=e.infantsOnLap)||void 0===k?void 0:k.__typename)){var B=e.infantsOnLap;return pe(ve({},e),{infantsOnLap:pe(ve({},B),{count:pe(ve({},B.count),{value:n.count})})})}return e;default:return e}}(e.travelers,n),r=Ha(e.error?e.error:null,a,null!==(t=e.validations)&&void 0!==t?t:[]);return pe(ve({},e),{travelers:a,error:r});case"UPDATE_CHILD_AGE":var l,i=function(e,n){var t,a,r;return"EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)&&""===n.infantType?pe(ve({},e),{children:pe(ve({},e.children),{ages:e.children.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&"infants_in_seat"===n.infantType?pe(ve({},e),{infantsInSeat:pe(ve({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):"EGDSTravelerInfant"===(null===(r=e.infantsOnLap)||void 0===r?void 0:r.__typename)&&"infants_on_lap"===n.infantType?pe(ve({},e),{infantsOnLap:pe(ve({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?pe(ve({},e),{value:n.childAge}):ve({},e)}))})}):e}(e.travelers,n),o=Ha(e.error?e.error:null,i,null!==(l=e.validations)&&void 0!==l?l:[]);return pe(ve({},e),{travelers:i,error:o});case"UPDATE_PETS_FILTER":var c,u=function(e,n){var t;if("EGDSBasicCheckBox"===(null===(t=e.pets)||void 0===t?void 0:t.__typename)){var a=n.checked?"CHECKED":"UNCHECKED";return pe(ve({},e),{pets:pe(ve({},e.pets),{state:a})})}return e}(e.travelers,n),d=Ha(e.error?e.error:null,u,null!==(c=e.validations)&&void 0!==c?c:[]);return pe(ve({},e),{travelers:u,error:d});case"SHOW_ERROR":if(e.error){var s=e.error,m={message:s.message,type:s.type,displayConfirmation:!0,errorCount:s.errorCount,errorSummary:s.errorSummary};return pe(ve({},e),{error:m})}return ve({},e);case"UPDATE_TRAVELERS_BULK":var v,p=n.adultTravelerCounts,f=n.childTravelerCounts,E=n.childrenAges,g=n.petCounts,y=function(e,n,t,a){var r;if("EGDSTravelerChildren"===(null===(r=a.children)||void 0===r?void 0:r.__typename)){var l=a.children;return pe(ve({},a),{adults:pe(ve({},a.adults),{value:e}),children:pe(ve({},a.children),{count:pe(ve({},a.children.count),{value:n}),ages:t.length?t.map((function(e){var n;return pe(ve({},null===(n=l)||void 0===n?void 0:n.ageTemplate),{value:e})})):[]})})}return a}(p,f,E,e.travelers),S=function(e,n){var t;if("EGDSBasicCheckBox"===(null===(t=e.pets)||void 0===t?void 0:t.__typename)){var a=n>0?"CHECKED":"UNCHECKED";return pe(ve({},e),{pets:pe(ve({},e.pets),{state:a})})}return e}(y,g),_=Ha(e.error?e.error:null,y,null!==(v=e.validations)&&void 0!==v?v:[]);return pe(ve({},e),{travelers:S,error:_});default:return e}},Ya=a.createContext({state:{}}),ja=function(e){var n=e.children,t=e.travelers,r=e.validations,l=e.skipQuery,i=fe(a.useReducer(Va,{travelers:t,validations:r}),2),o=i[0],c=i[1];a.useEffect((function(){l||c({type:"RESET_STATE",state:{travelers:t,validations:r}})}),[l]);var u=a.useMemo((function(){return{state:o,dispatch:c}}),[o,c]);return a.createElement(Ya.Provider,{value:u},n)},$a=function(){return a.useContext(Ya)},Ka=(0,r.Ps)(Ye(),xa.fragment),Qa=function(e){var n,t=e.childIndex,r=e.roomIndex,l=e.isInfant,i=e.infantType,o=e.childAgeRef,c=e.data,u=Ma(),d=$a(),s=void 0!==r,m=c.labelTemplate,v=c.options,f=c.egdsElementId,E=c.value,g=(0,p.useClickTracker)(),y="child-".concat(f).concat(s?"-".concat(r):"","-").concat(t),S="age-".concat(f).concat(s?"-".concat(r):"","-").concat(t),_=t+1,h=null!=E?E:"",D=Number.isInteger(h),T=(s?u.state:d.state).error,C="CHILD_AGE_REQUIRED"===(null===(n=T)||void 0===n?void 0:n.type)&&T.displayConfirmation,b=T&&"CHILD_AGE_REQUIRED"===T.type&&!D&&C?T.message:"",I="EGDSBasicLocalizedText"===m.__typename&&1===m.models.length?kn(m.template,m.models[0].key,_.toString()):"";return a.createElement(V.e,{domRef:o,invalid:b,label:I,id:S,name:y,onChange:function(e){var n,a,o=parseInt(e.target.value,10),c=v.find((function(n){return"EGDSBasicOption"===n.__typename&&n.value===e.target.value}));if(c&&"EGDSBasicOption"===(null===(n=c)||void 0===n?void 0:n.__typename)&&(null===(a=c)||void 0===a?void 0:a.changeAnalytics)){var m=c.changeAnalytics,p=m.referrerId,f=m.linkName;g(p,f)}Number.isNaN(o)||(s?u.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:r,childIndex:t,childAge:o,isInfant:l,infantType:i}):d.dispatch({type:"UPDATE_CHILD_AGE",childIndex:t,childAge:o,infantType:i}))},value:h,emptyState:"string"==typeof h,required:!0},v.map((function(e){return"EGDSBasicOption"===e.__typename&&a.createElement(xa,{key:"".concat(y,"-").concat(e.value),data:e})})))};Qa.displayName="EGDSTravelerChildAgeSelectFragment",(Qa.fragment=Ka).__typename="EGDSTravelerChildAgeSelect";var qa=(0,r.Ps)(je()),Xa=(0,r.Ps)($e(),qa),Za=(0,r.Ps)(Ke(),qa),Ja=(0,r.Ps)(Qe(),qa),er=((0,r.Ps)(qe(),Xa,Za,Ja),(0,r.Ps)(Xe(),Xa)),nr=function(e,n){var t;if("EGDSBasicLocalizedText"===(null===(t=e)||void 0===t?void 0:t.__typename)){var a=(n+1).toString();return kn(e.template,e.models[0].key,a)}return""},tr=function(e){var n=e.roomIndex,t=e.travelersType,r=e.data,l=e.useDefaultAgeForChildren,i=r.label,o=r.max,c=r.min,u=r.subLabel,d=r.value,s=Ma(),m=$a(),v=(0,p.useClickTracker)(),f=void 0!==n,E=a.createRef(),g="EGDSTravelerStepInput"===r.__typename&&(f?{incrementText:nr(r.increaseTextTemplate,n),decrementText:nr(r.decreaseTextTemplate,n)}:{incrementText:r.increaseText||"",decrementText:r.decreaseText||""});a.useEffect((function(){var e;"adults"!==t||s.state.error||(null===(e=E.current)||void 0===e||e.focus())}),[E]);var y="EGDSTravelerStepInput"===r.__typename?"".concat(r.egdsElementId).concat(f?"-".concat(n):""):"";return a.createElement(Y.Q,pe(ve({},g),{label:i,incrementId:"".concat(y,"-increase"),decrementId:"".concat(y,"-decrease"),min:null!=c?c:0,max:null!=o?o:0,onChange:function(e){var a=parseInt(e.target.value,10);if("EGDSTravelerStepInput"===r.__typename){var i=r.increaseAnalytics,o=r.decreaseAnalytics;a>d&&i.referrerId&&i.linkName?v(i.referrerId,r.increaseAnalytics.linkName):o.referrerId&&o.linkName&&v(o.referrerId,r.decreaseAnalytics.linkName)}Number.isNaN(a)||(f?s.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,roomIndex:n,count:a,useDefaultAgeForChildren:l}):m.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,count:a,useDefaultAgeForChildren:l}))},value:d,description:null!=u?u:"",id:y,incrementRef:E}))};tr.displayName="EGDSTravelerStepInputFragment",(tr.fragment=er).__typename="EGDSTravelerStepInput";var ar=(0,r.Ps)(Ze(),tr.fragment,Qa.fragment),rr=function(e){var n,t=e.data,r=e.childAgeRef,l=e.roomIndex,i=e.travelersType,o=e.childrenAgeMessage,c=e.includeDefaultChildAgeMessage,u=t.count,s=t.__typename,m="infants"===i||"infants_on_lap"===i||"infants_in_seat"===i,v=("EGDSTravelerInfant"!==t.__typename&&"EGDSTravelerChildren"!==t.__typename||!t.ages?[]:t.ages).findIndex((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}));return a.createElement(a.Fragment,null,u&&"EGDSTravelerStepInput"===u.__typename&&a.createElement(tr,{travelersType:i,roomIndex:l,data:u,useDefaultAgeForChildren:c}),o&&c&&a.createElement(d.l,{padding:{blockstart:"four",blockend:"one"}},a.createElement(H.b,null,o)),("EGDSTravelerChildren"===s||"EGDSTravelerInfant"===s)&&a.createElement(G.v,{wrap:"wrap"},null===(n=t.ages)||void 0===n?void 0:n.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:n},a.createElement(d.l,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(F.t,{minWidth:"half_width"},a.createElement("div",null,a.createElement(Qa,{key:n,childIndex:n,roomIndex:l,isInfant:m,infantType:m?i:"",data:e,childAgeRef:v===n?r:void 0})))))}))))};rr.displayName="EGDSTravelersChildren",(rr.fragment=ar).__typename="EGDSTravelerChildren";var lr=function(e){var n,t=e.data,r=$a(),l=r.state,i=r.dispatch,o=l.travelers.pets;if("EGDSBasicCheckBox"!==(null===(n=o)||void 0===n?void 0:n.__typename))return null;var c="CHECKED"===o.state;return a.createElement(gt,{data:t,checked:c,onChange:function(e){i({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},ir=(0,r.Ps)(Je(),gt.fragment,rr.fragment,tr.fragment),or=function(e){var n,t,r,l,i,o,c,u,s,m,v,p,f,E,g,y=e.childAgeRef,S=e.infantsOnLapRef,_=e.infantsInSeatRef,h=e.data,D=e.includeDefaultChildAgeMessage,T=h.adults,C=h.children,b=h.pets,I=h.infantsInSeat,k=h.infantsOnLap,A=h.travelerNote,G=null!==(f=null===(n=C)||void 0===n?void 0:n.count.value)&&void 0!==f?f:0,F=null!==(E=null===(t=I)||void 0===t?void 0:t.count.value)&&void 0!==E?E:0,R=null!==(g=null===(r=k)||void 0===r?void 0:r.count.value)&&void 0!==g?g:0,x=fe(a.useState(""),2),L=x[0],P=x[1],N=fe(a.useState(""),2),O=N[0],B=N[1],w=fe(a.useState(""),2),M=w[0],U=w[1],W="EGDSCardinalLocalizedText"===(null===(l=A)||void 0===l?void 0:l.__typename)&&"ONE"===A.templates[0].category,z="EGDSCardinalLocalizedText"===(null===(i=A)||void 0===i?void 0:i.__typename)&&"OTHER"===A.templates[1].category;a.useEffect((function(){P(!G||F||R?G&&(F||R)?H(G+(null!=F?F:0)+(null!=R?R:0)):"":H(G))}),[G,F,R]),a.useEffect((function(){U(G||!F||R?"":H(F))}),[G,F,k]),a.useEffect((function(){B(G||F||!R?"":H(R))}),[G,F,k]);var H=function(e){return 1===e&&W?A.templates[0].template:e>1&&z?A.templates[1].template:""};return a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===T.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(tr,{travelersType:"adults",data:T}))),("EGDSTravelerChildren"===(null===(o=C)||void 0===o?void 0:o.__typename)||"EGDSBasicTraveler"===(null===(c=C)||void 0===c?void 0:c.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{travelersType:"children",childAgeRef:y,data:C,childrenAgeMessage:L,includeDefaultChildAgeMessage:D}))),("EGDSTravelerInfant"===(null===(u=k)||void 0===u?void 0:u.__typename)||"EGDSBasicTraveler"===(null===(s=k)||void 0===s?void 0:s.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{travelersType:"infants_on_lap",childAgeRef:S,data:k,childrenAgeMessage:O,includeDefaultChildAgeMessage:D}))),("EGDSTravelerInfant"===(null===(m=I)||void 0===m?void 0:m.__typename)||"EGDSBasicTraveler"===(null===(v=I)||void 0===v?void 0:v.__typename))&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{travelersType:"infants_in_seat",childAgeRef:_,data:I,childrenAgeMessage:M,includeDefaultChildAgeMessage:D}))),"EGDSBasicCheckBox"===(null===(p=b)||void 0===p?void 0:p.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(lr,{data:b}))))};or.displayName="EGDSTravelersFragment",(or.fragment=ir).__typename="EGDSTravelers";var cr=(0,r.Ps)(en(),Gn.fragment,Aa.fragment,Fa.fragment,or.fragment),ur=function(e){var n,t=e.data,r=e.onSubmit,l=e.includeDefaultChildAgeMessage,i=t.doneButton,o=$a().state,c=a.useRef(null),u=a.useRef(null),s=a.useRef(null),m=o.travelers,p=o.error,f=c.current?c:u.current?u:s;return a.createElement(G.v,{direction:"column"},(null===(n=p)||void 0===n?void 0:n.displayConfirmation)&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Gn,{data:p.errorSummary,inputErrorRef:f,errorCount:p.errorCount}))),a.createElement("section",null,a.createElement(or,{data:m,childAgeRef:c,infantsOnLapRef:u,infantsInSeatRef:s,includeDefaultChildAgeMessage:l})),"UIPrimaryButton"===i.__typename&&a.createElement(v.Viewport,null,a.createElement(v.ViewMedium,null,a.createElement(d.l,{padding:{blockstart:"four",blockend:"three"}},a.createElement(G.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Aa,{isFullWidth:!1,onClick:function(){r&&r("menu")},data:i,size:y.xY.MEDIUM})))))))};ur.displayName="EGDSBasicTravelerSelectorFragment",(ur.fragment=cr).__typename="EGDSBasicTravelerSelector";var dr,sr=(0,r.Ps)(nn()),mr=(me(dr={},"EXTERNAL","_blank"),me(dr,"INTERNAL","_self"),dr),vr=function(e){var n=e.data,t=n.action,r=t.analytics,l=t.resource,i=t.target,o=t.accessibility,c=n.text,u=n.icon,d=n.iconPosition,s=(0,p.useClickTracker)(),m=a.useCallback((function(){s(r.referrerId,r.linkName)}),[s,r]);return a.createElement(K.M,{onClickCapture:m,inline:!0},a.createElement("a",{target:mr[i],href:l.value},u&&"TRAILING"!==d&&a.createElement(S.fR,{name:u.id}),c,u&&"TRAILING"===d&&a.createElement(S.fR,{name:u.id}),o&&a.createElement(H.b,{className:"is-visually-hidden"},o)))};vr.fragment=sr,vr.displayName="EGDSStandardLink";var pr=(0,r.Ps)(tn(),vr.fragment),fr=function(e){var n,t,r=e.data,l=Ma(),i=l.state,o=l.dispatch,c=i.rooms.reduce((function(e,n){var a,r;return e+(null!==(t=null===(r=n.infants)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==t?t:0)}),0),u=null===(n=i.infantSeatSelection)||void 0===n?void 0:n.value;if("EGDSCardinalLocalizedText"!==r.labelTemplate.__typename||0===c||!u)return null;var s=r.labelTemplate,m=r.options,v=r.airlineAgeRule,p=r.groupName,f=1===c?s.text:s.templates[1].template;return a.createElement(G.v,{direction:"column"},a.createElement(F.t,null,a.createElement(H.b,null,f)),a.createElement(F.t,null,a.createElement(j.s,{group:p,selected:u,onChange:function(e){o({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},m.map((function(e,n){return a.createElement(d.l,{key:"radioInfant".concat(n+1),margin:0===n?{blockstart:"three"}:void 0},a.createElement("div",null,a.createElement($.n,{id:e.value,value:e.value},e.label)))})))),a.createElement(F.t,null,a.createElement(d.l,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null,a.createElement(vr,{data:v})))))};fr.displayName="EGDSTravelerInfantSeatSelect",(fr.fragment=pr).__typename="EGDSTravelerInfantSeatSelection";var Er=(0,r.Ps)(an(),tr.fragment,rr.fragment,Fa.fragment),gr=function(e){var n,t,r,l,i=e.roomIndex,o=e.childAgeRef,c=e.data,u=e.includeDefaultChildAgeMessage,s=c.adults,m=c.children,v=c.infants,p=c.label,f=c.removeRoomButton,E=c.travelerNote,g=Ma(),y=g.state,S=g.dispatch,_="EGDSTravelerChildren"===m.__typename&&(null===(n=m.ages)||void 0===n?void 0:n.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))),h=i+1,D=E&&!!y.rooms[i].children.count,T=D?y.rooms.reduce((function(e,n){return e+(n.children.count.value?n.children.count.value:0)}),0):0,C=D?y.rooms.reduce((function(e,n){var t;return e+((null===(t=n.infants)||void 0===t?void 0:t.count.value)?n.infants.count.value:0)}),0):0,b=fe(a.useState(""),2),I=b[0],k=b[1],A=fe(a.useState(""),2),x=A[0],L=A[1],P="EGDSCardinalLocalizedText"===(null===(t=E)||void 0===t?void 0:t.__typename)&&"ONE"===E.templates[0].category,N="EGDSCardinalLocalizedText"===(null===(r=E)||void 0===r?void 0:r.__typename)&&"OTHER"===E.templates[1].category;a.useEffect((function(){k(!T||C?T&&C?O(T+C):"":O(T))}),[T,C]),a.useEffect((function(){L(T||!C?"":O(C))}),[T,C]);var O=function(e){return 1===e&&P?E.templates[0].template:e>1&&N?E.templates[1].template:""};return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===p.__typename&&1===p.models.length&&a.createElement(R.y,{size:7},kn(p.template,p.models[0].key,h.toString())),"EGDSTravelerStepInput"===s.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(tr,{travelersType:"adults",roomIndex:i,data:s}))),"EGDSTravelerChildren"===m.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{travelersType:"children",roomIndex:i,childAgeRef:o,data:m,childrenAgeMessage:I,includeDefaultChildAgeMessage:u}))),"EGDSTravelerInfant"===(null===(l=v)||void 0===l?void 0:l.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rr,{travelersType:"infants",roomIndex:i,childAgeRef:_?void 0:o,data:v,childrenAgeMessage:x,includeDefaultChildAgeMessage:u}))),y.rooms.length>1&&f&&"UITertiaryButton"===f.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement(G.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Fa,{onClick:function(){S({type:"REMOVE_ROOM",roomIndex:i})},data:f})))))};gr.displayName="EGDSTravelerSelectorRoomFragment",(gr.fragment=Er).__typename="EGDSTravelerSelectorRoom";var yr=(0,r.Ps)(rn(),Gn.fragment,Aa.fragment,Fa.fragment,gr.fragment,fr.fragment),Sr=function(e){var n,t=e.data,r=e.onSubmit,l=e.includeDefaultChildAgeMessage,i=t.addAnotherRoomButton,o=t.doneButton,c=t.maxRoomCount,u=t.infantSeatSelection,s=Ma(),m=s.state,p=s.dispatch,f=a.useRef(null),E=m.rooms,g=m.error,S=fe(a.useState(E),2)[1];if(a.useEffect((function(){S(E)}),[E]),E.length<1)return null;var _=pe(ve({},i),{disabled:!!c&&E.length>=c}),h=E.findIndex((function(e){var n,t,a,r,l;return"EGDSTravelerChildren"===e.children.__typename&&(null===(n=e.children)||void 0===n?void 0:n.ages)&&(null===(t=e.children)||void 0===t?void 0:t.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))||null!==(l="EGDSTravelerInfant"===(null===(a=e.infants)||void 0===a?void 0:a.__typename)&&(null===(r=e.infants)||void 0===r?void 0:r.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))))&&void 0!==l&&l})),D="UIPrimaryButton"===o.__typename&&a.createElement(d.l,{padding:{blockstart:"four",blockend:"three"}},a.createElement(G.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Aa,{isFullWidth:!1,onClick:function(){r&&r("menu")},data:o,size:y.xY.MEDIUM}))));return a.createElement(G.v,{direction:"column"},(null===(n=g)||void 0===n?void 0:n.displayConfirmation)&&a.createElement(Gn,{data:g.errorSummary,inputErrorRef:f,errorCount:g.errorCount}),a.createElement("section",null,E.map((function(e,n){var t;return a.createElement(d.l,{padding:{blockstart:(null===(t=g)||void 0===t?void 0:t.displayConfirmation)?"two":"unset"},key:n},a.createElement("div",null,a.createElement(gr,{roomIndex:n,data:e,childAgeRef:h===n?f:void 0,includeDefaultChildAgeMessage:l})))})),"UITertiaryButton"===_.__typename&&a.createElement(d.l,{padding:{small:{blockstart:"two",blockend:"sixteen"},medium:{blockend:"unset"}}},a.createElement(G.v,{justifyContent:"end"},a.createElement(F.t,null,a.createElement(Fa,{onClick:function(){p({type:"ADD_ROOM"})},data:_})))),u&&a.createElement(d.l,{padding:{blockstart:"twelve"}},a.createElement("div",null,a.createElement(fr,{data:u})))),a.createElement(v.Viewport,null,a.createElement(v.ViewMedium,null,a.createElement("div",null,D))))};Sr.displayName="EGDSTravelerSelectorFragment",(Sr.fragment=yr).__typename="EGDSRoomsTravelerSelector";var _r=function(e,n){var t=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=t(e);return a===t(n)&&("array"===a?function(){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t+=1)if(!_r(e[t],n[t]))return!1;return!0}():"object"===a?function(){var t=Object.keys(e);if(t.length!==Object.keys(n).length)return!1;for(var a=0;a<t.length;a+=1){var r=t[a];if(Object.prototype.hasOwnProperty.call(e,r)&&!_r(e[r],n[r]))return!1}return!0}():"function"===a?e.toString()===n.toString():e===n)},hr=function(e,n){var t=e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"secondaryTemplates":"templates"].find((function(e){return e.category===On(n)}));return t?kn(t.template,e.models[0].key,n.toString()):""},Dr="EGDSSearchFormTravelersField-",Tr="".concat(Dr,"Adult"),Cr="".concat(Dr,"ChildrenAge"),br="".concat(Dr,"InfantInSeatAge"),Ir="".concat(Dr,"InfantOnLapAge"),kr="".concat(Dr,"Pets"),Ar=function(e){var n=e.ages,t=e.prefix;return a.createElement(a.Fragment,null,n.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var r,l=n+1,i="".concat(t,"-").concat(l);return a.createElement("input",{key:n,type:"hidden","data-stid":i,name:i,value:null!==(r=e.value)&&void 0!==r?r:""})}return null})))},Gr=function(e){var n,t,r,l,i,o,u,s,m,f=e.label,E=e.leftIcon,g=e.action,y=e.labelTemplate,S=e.readOnly,_=e.isAnyPetAllowed,D=e.retainTravelerOnDialogDismiss,T=e.includeDefaultChildAgeMessage,C=e.onOpenTravelerField,b=e.onCloseTravelerField,I=g.analytics,k=g.travelerSelector,A=k.doneButton,G=(0,p.useClickTracker)(),F=$a(),R=F.dispatch,x=F.state,L=(0,c.m)().state,P=fe((0,B.useDialog)("travelerSelectorDialog"),3),N=P[0],O=P[1],w=P[2],M=a.useRef(null),U=fe(a.useState(!1),2),W=U[0],z=U[1],H=fe(a.useState(x),2),V=H[0],Y=H[1],j=fe(a.useState(null!==(m=null===(n=y)||void 0===n?void 0:n.text)&&void 0!==m?m:""),2),$=j[0],K=j[1],ae=x.error,re=(0,h.i)(k.__typename,(function(e){return e})),le=function(e){var n,t,a,r,l,i,o,c,u,d,s,m,v,p=(null!==(d=null===(n=e.adults)||void 0===n?void 0:n.value)&&void 0!==d?d:0)+(null!==(s=null===(a=e.children)||void 0===a||null===(t=a.count)||void 0===t?void 0:t.value)&&void 0!==s?s:0)+(null!==(m=null===(l=e.infantsInSeat)||void 0===l||null===(r=l.count)||void 0===r?void 0:r.value)&&void 0!==m?m:0)+(null!==(v=null===(o=e.infantsOnLap)||void 0===o||null===(i=o.count)||void 0===i?void 0:i.value)&&void 0!==v?v:0),f="EGDSBasicCheckBox"===(null===(u=e)||void 0===u||null===(c=u.pets)||void 0===c?void 0:c.__typename)&&"CHECKED"===e.pets.state;return hr(y,p,f)};if(a.useEffect((function(){var e;if(void 0!==_&&R({type:"UPDATE_PETS_FILTER",checked:_}),"EGDSBasicCheckBox"===(null===(e=V.travelers.pets)||void 0===e?void 0:e.__typename)){var n=_?"CHECKED":"UNCHECKED",t=pe(ve({},V),{travelers:pe(ve({},V.travelers),{pets:pe(ve({},V.travelers.pets),{state:n})})});Y(t)}}),[_]),a.useEffect((function(){K(le(x.travelers))}),[x.travelers]),a.useEffect((function(){var e,n,t,a,r,l,i,o,c,u,d,s,m,v,p;(null===(n=L.travelers)||void 0===n||null===(e=n.adultTravelerCounts)||void 0===e?void 0:e.length)&&R({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null===(a=L.travelers)||void 0===a||null===(t=a.adultTravelerCounts)||void 0===t?void 0:t.length)?null===(r=L.travelers)||void 0===r?void 0:r.adultTravelerCounts[0]:0,childTravelerCounts:(null===(i=L.travelers)||void 0===i||null===(l=i.childTravelerCounts)||void 0===l?void 0:l.length)?null===(o=L.travelers)||void 0===o?void 0:o.childTravelerCounts[0]:0,childrenAges:(null===(u=L.travelers)||void 0===u||null===(c=u.childrenAges)||void 0===c?void 0:c.length)&&(null===(d=L.travelers)||void 0===d?void 0:d.childrenAges[0].length)?null===(s=L.travelers)||void 0===s?void 0:s.childrenAges[0]:[],petCounts:(null===(v=L.travelers)||void 0===v||null===(m=v.petCounts)||void 0===m?void 0:m.length)?null===(p=L.travelers)||void 0===p?void 0:p.petCounts[0]:0})}),[L.travelers]),"EGDSBasicTravelerSelector"!==k.__typename)return null;var ie,oe,ce=function(){C&&C(),z((function(e){return!e})),I.referrerId&&I.linkName&&G(I.referrerId,I.linkName)},ue=(ie=se((function(){return Se(this,(function(e){switch(e.label){case 0:return x.error?[4,R({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),z(!0),e.label=2;case 2:return x.error||_r(V,x)||(Y(x),Nn("submit",re)),[2]}}))})),function(){return ie.apply(this,arguments)}),de=function(e){var n=le(e);Nn(n,re),K(n)},me=function(e){var n;_r(V,e)||(de(e.travelers),Y(e)),null===(n=M.current)||void 0===n||n.focus(),O.closeDialog()},Ee=function(e){var n,t,a;if(ae&&"CHILD_AGE_REQUIRED"===ae.type&&(R({type:"SHOW_ERROR"}),null===(n=ae.errorSummary)||void 0===n?void 0:n.impressionAnalytics)){var r="".concat(ae.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=ae.errorSummary.impressionAnalytics.linkName||"";G(r,l)}ae||("menu"===e?(_r(V,t=x)||(de(t.travelers),Y(t)),z((function(e){return!e})),null===(a=M.current)||void 0===a||a.focus()):me(x))},ge=x.travelers,ye=ge.adults,_e=ge.children,he=ge.pets,De=ge.infantsInSeat,Te=ge.infantsOnLap;return a.createElement(a.Fragment,null,a.createElement(v.Viewport,null,a.createElement(v.ViewLarge,null,a.createElement(q.p,{isOpen:W,onTriggerClick:ce,onDismiss:ue},a.createElement(X.H,null,a.createElement(Q.o,{label:f,value:$,icon:E,"data-stid":"open-room-picker",disabled:S,domRef:M})),a.createElement(Z.a,{autoPosition:!0,position:Z.d.RIGHT,width:375},a.createElement(d.l,{padding:{inline:"six"}},a.createElement("div",null,a.createElement(ur,{onSubmit:Ee,data:k,includeDefaultChildAgeMessage:T})))))),a.createElement(v.ViewMedium,null,a.createElement(q.p,{isOpen:W,onTriggerClick:ce,onDismiss:ue},a.createElement(X.H,null,a.createElement(Q.o,{label:f,value:$,icon:E,"data-stid":"open-room-picker",disabled:S,domRef:M})),a.createElement(Z.a,{autoPosition:!0,position:Z.d.LEFT,width:375},a.createElement(d.l,{padding:{inline:"six"}},a.createElement("div",null,a.createElement(ur,{onSubmit:Ee,data:k,includeDefaultChildAgeMessage:T})))))),a.createElement(v.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(Q.o,{label:f,value:$,onClick:function(){C&&C(),O.openDialog(),I.referrerId&&I.linkName&&G(I.referrerId,I.linkName)},icon:E,"data-stid":"open-room-picker",disabled:S,domRef:M}),a.createElement(J.U,{isVisible:N},a.createElement(w,null,a.createElement(ee.K,{type:"full",triggerRef:M,isVisible:N,returnFocusOnClose:!0},a.createElement(te.b,{toolbarTitle:k.title,navigationContent:{navType:"close",navIconLabel:"UIPrimaryButton"===k.closeButton.__typename&&null!==(oe=k.closeButton.accessibility)&&void 0!==oe?oe:"",onClick:function(){if(b&&b(v.ViewSizes.SMALL),("UIPrimaryButton"===k.closeButton.__typename||"UITertiaryButton"===k.closeButton.__typename)&&k.closeButton.analytics){var e=k.closeButton.analytics,n=e.referrerId,t=e.linkName;G(n,D&&!ae?"Travelers results updated":t)}var a;if(D&&ae&&"CHILD_AGE_REQUIRED"===ae.type){if(R({type:"SHOW_ERROR"}),null===(a=ae.errorSummary)||void 0===a?void 0:a.impressionAnalytics){var r="".concat(ae.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=ae.errorSummary.impressionAnalytics.linkName||"";G(r,l)}}else D&&!ae?me(x):(R({type:"RESET_STATE",state:V}),O.closeDialog())}}}),a.createElement(ne.z,{padded:!1},a.createElement(d.l,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},a.createElement("div",null,a.createElement(h.$,{hasRequiredFieldIndicator:!0},a.createElement(ur,{data:k,includeDefaultChildAgeMessage:T}))))),"UIPrimaryButton"===A.__typename&&a.createElement(Aa,{floating:!0,onClick:Ee,data:A}))))))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":"".concat(Tr),name:"".concat(Tr),value:ye.value}),"EGDSTravelerChildren"===(null===(t=_e)||void 0===t?void 0:t.__typename)&&_e.ages&&a.createElement(Ar,{ages:_e.ages,prefix:Cr}),"EGDSBasicTraveler"===(null===(r=_e)||void 0===r?void 0:r.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Cr),name:"".concat(Cr),value:_e.count.value}),"EGDSTravelerInfant"===(null===(l=De)||void 0===l?void 0:l.__typename)&&De.ages&&a.createElement(Ar,{ages:De.ages,prefix:br}),"EGDSBasicTraveler"===(null===(i=De)||void 0===i?void 0:i.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(br),name:"".concat(br),value:De.count.value}),"EGDSTravelerInfant"===(null===(o=Te)||void 0===o?void 0:o.__typename)&&Te.ages&&a.createElement(Ar,{ages:Te.ages,prefix:Ir}),"EGDSBasicTraveler"===(null===(u=Te)||void 0===u?void 0:u.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Ir),name:"".concat(Ir),value:Te.count.value}),"EGDSBasicCheckBox"===(null===(s=he)||void 0===s?void 0:s.__typename)&&a.createElement("input",{type:"hidden",name:"".concat(kr),value:he.state})))},Fr="EGDSSearchFormTravelersField",Rr="".concat(Fr,"-Adult"),xr="".concat(Fr,"-ChildrenAge"),Lr="".concat(Fr,"-InfantInSeatAge"),Pr="".concat(Fr,"-InfantOnLapAge"),Nr=function(e){var n,t,r=e.label,l=e.leftIcon,i=e.action,o=e.labelTemplate,u=e.readOnly,s=e.includeDefaultChildAgeMessage,m=e.onOpenTravelerField,f=i.analytics,E=i.travelerSelector,g=E.doneButton,y=(0,p.useClickTracker)(),S=Ma(),_=S.dispatch,D=S.state,T=(0,c.m)(),C=T.state,b=(T.dispatch,D.error),I=fe((0,B.useDialog)("travelerSelectorDialog"),3),k=I[0],A=I[1],G=I[2],F=a.useRef(null),R=fe(a.useState(!1),2),x=R[0],L=R[1],P=fe(a.useState(D),2),N=P[0],O=P[1],w=fe(a.useState(null!==(t=null===(n=o)||void 0===n?void 0:n.text)&&void 0!==t?t:""),2),M=w[0],U=w[1],W=(0,h.i)(E.__typename,(function(e){return e})),z=function(e){var n=e.reduce((function(e,n){var t,a,r,l,i,o,c,u;return e+(null!==(o=null===(t=n.adults)||void 0===t?void 0:t.value)&&void 0!==o?o:0)+(null!==(c=null===(r=n.children)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==c?c:0)+(null!==(u=null===(i=n.infants)||void 0===i||null===(l=i.count)||void 0===l?void 0:l.value)&&void 0!==u?u:0)}),0);return function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];var r=e.models,l=e.template,i=r.map((function(e,n){return"EGDSCardinalLocalizedText"===e.models.__typename?hr(e.models,t[n]):""}));return r.reduce((function(e,n,t){return kn(e,n.key,i[t])}),l)}(o,e.length,n)};if(a.useEffect((function(){U(z(D.rooms)),"EGDSRoomsTravelerSelector"===i.travelerSelector.__typename&&i.travelerSelector.rooms[0].infants!==N.rooms[0].infants&&(_({type:"RESET_ROOMS",state:pe(ve({},D),{rooms:i.travelerSelector.rooms})}),O(pe(ve({},D),{rooms:i.travelerSelector.rooms})),U(z(i.travelerSelector.rooms)))}),[i.travelerSelector]),a.useEffect((function(){U(z(D.rooms))}),[D.rooms]),a.useEffect((function(){var e,n,t,a,r,l,o,c,u,d,s,m,v,p;"EGDSOpenTravelerSelectorAction"===(null===(e=i)||void 0===e?void 0:e.__typename)&&"EGDSRoomsTravelerSelector"===(null===(n=i)||void 0===n?void 0:n.travelerSelector.__typename)&&(null===(r=C)||void 0===r||null===(a=r.travelers)||void 0===a||null===(t=a.adultTravelerCounts)||void 0===t?void 0:t.length)&&_({type:"UPDATE_TRAVELERS_BULK",state:N,adultTravelerCounts:null!==(m=null===(o=C)||void 0===o||null===(l=o.travelers)||void 0===l?void 0:l.adultTravelerCounts)&&void 0!==m?m:[0],childTravelerCounts:null!==(v=null===(u=C)||void 0===u||null===(c=u.travelers)||void 0===c?void 0:c.childTravelerCounts)&&void 0!==v?v:[0],childrenAges:null!==(p=null===(s=C)||void 0===s||null===(d=s.travelers)||void 0===d?void 0:d.childrenAges)&&void 0!==p?p:[[]]})}),[C.travelers]),"EGDSRoomsTravelerSelector"!==E.__typename)return null;var H,V,Y=function(){L((function(e){return!e})),m&&m(),y(f.referrerId,f.linkName)},j=(H=se((function(){return Se(this,(function(e){switch(e.label){case 0:return D.error?[4,_({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),L(!0),e.label=2;case 2:return D.error||_r(N,D)||(O(D),Nn("submit",W)),U(z(D.rooms)),[2]}}))})),function(){return H.apply(this,arguments)}),$=function(e){var n=z(e);Nn(n,W),U(n)},K=function(e){var n;_r(N,e)||($(e.rooms),O(e)),null===(n=F.current)||void 0===n||n.focus(),A.closeDialog()},ae=function(e){b&&"CHILD_AGE_REQUIRED"===b.type&&(e&&e.preventDefault(),_({type:"SHOW_ERROR"}))},re=function(e){var n,t;ae(),b||("menu"===e?(_r(N,n=D)||($(n.rooms),O(n)),L((function(e){return!e})),null===(t=F.current)||void 0===t||t.focus()):K(D))};return a.createElement(a.Fragment,null,a.createElement(v.Viewport,null,a.createElement(v.ViewLarge,null,a.createElement(q.p,{isOpen:x,onTriggerClick:Y,onDismiss:j},a.createElement(X.H,null,a.createElement(Q.o,{label:r,value:M,icon:l,"data-stid":"open-room-picker",disabled:u,domRef:F,className:"open-room-picker-observer-root"})),a.createElement(Z.a,{maxHeight:4e3,autoPosition:!0,position:Z.d.RIGHT,width:375},a.createElement(d.l,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(Sr,{onSubmit:re,data:E,includeDefaultChildAgeMessage:s})))))),a.createElement(v.ViewMedium,null,a.createElement(q.p,{isOpen:x,onTriggerClick:Y,onDismiss:j},a.createElement(X.H,null,a.createElement(Q.o,{label:r,value:M,icon:l,"data-stid":"open-room-picker",disabled:u,domRef:F,className:"open-room-picker-observer-root"})),a.createElement(Z.a,{maxHeight:4e3,autoPosition:!0,position:Z.d.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(d.l,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(Sr,{onSubmit:re,data:E,includeDefaultChildAgeMessage:s})))))),a.createElement(v.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(Q.o,{label:r,value:M,onClick:function(){A.openDialog(),y(f.referrerId,f.linkName),m&&m(v.ViewSizes.SMALL)},icon:l,"data-stid":"open-room-picker",disabled:u,domRef:F}),a.createElement(J.U,{isVisible:k},a.createElement(G,null,a.createElement(ee.K,{isVisible:k,returnFocusOnClose:!0,type:"full",triggerRef:F},a.createElement(te.b,{toolbarTitle:E.title,navigationContent:{navType:"close",onClick:function(){if(("UIPrimaryButton"===E.closeButton.__typename||"UITertiaryButton"===E.closeButton.__typename)&&E.closeButton.analytics){var e=E.closeButton.analytics,n=e.referrerId,t=e.linkName;b||y(n,t)}ae(),b||K(D)}}}),a.createElement(ne.z,null,a.createElement(h.$,{hasRequiredFieldIndicator:!0},a.createElement(Sr,{data:E,includeDefaultChildAgeMessage:s}))),(V=!0,"UIPrimaryButton"===g.__typename&&a.createElement(Aa,{onClick:re,data:g,floating:V})))))))),D.rooms.map((function(e,n){var t,r,l,i=e.adults,o=e.children,c=e.infants,u=n+1;return a.createElement(a.Fragment,{key:n},a.createElement("input",{type:"hidden","data-stid":"".concat(Rr,"-").concat(u),name:"".concat(Rr,"-Room").concat(u),value:i.value}),"EGDSTravelerChildren"===o.__typename&&(null===(t=o.ages)||void 0===t?void 0:t.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var t,r=n+1,l="".concat(xr,"-Room").concat(u,"-Child").concat(r);return a.createElement("input",{key:n,type:"hidden","data-stid":l,name:l,value:null!==(t=e.value)&&void 0!==t?t:""})}return null}))),"EGDSTravelerInfant"===(null===(r=c)||void 0===r?void 0:r.__typename)&&(null===(l=c.ages)||void 0===l?void 0:l.map((function(e,n){if("EGDSTravelerChildAgeSelect"===e.__typename){var t,r,l=n+1,i="seat"===(null===(t=D.infantSeatSelection)||void 0===t?void 0:t.value)?Lr:Pr,o="".concat(i,"-Room").concat(u,"-Infant").concat(l);return a.createElement("input",{key:n,type:"hidden","data-stid":o,name:o,value:null!==(r=e.value)&&void 0!==r?r:""})}return null}))))})))},Or=(0,r.Ps)(ln(),ur.fragment,Sr.fragment),Br=function(e){var n,t=e.data,r=e.skipQuery,l=e.isAnyPetAllowed,i=e.retainTravelerOnDialogDismiss,o=e.includeDefaultChildAgeMessage,c=e.onOpenTravelerField,u=e.onCloseTravelerField,d=e.maxBookableTravelers,s=e.maxTravelersErrorMessage,m=fe(a.useState(t),2),v=m[0],p=m[1];a.useEffect((function(){var e;if("EGDSOpenTravelerSelectorAction"!==(null===(e=t.action)||void 0===e?void 0:e.__typename))p(t);else{var n,a,r=null!==(a=null===(n=t.action.travelerSelector.validations)||void 0===n?void 0:n.map((function(e){return"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&d?pe(ve({},e),{maxCount:d,errorMessage:null!=s?s:""}):e})))&&void 0!==a?a:null;p(pe(ve({},t),{action:pe(ve({},t.action),{travelerSelector:pe(ve({},t.action.travelerSelector),{validations:r})})}))}}),[t,d,s]);var f=v.action,E=v.label,g=v.labelTemplate,y=v.leftIcon,S=v.readOnly;if("EGDSOpenTravelerSelectorAction"!==(null===(n=f)||void 0===n?void 0:n.__typename))return null;switch(f.travelerSelector.__typename){case"EGDSBasicTravelerSelector":var _,h,D=f.travelerSelector,T=D.travelers,C=D.validations,b=function(e,n){var t;return(null===(t=e)||void 0===t?void 0:t.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?pe(ve({},e),{pets:pe(ve({},e.pets),{state:n?"CHECKED":"UNCHECKED"})}):e}(T,null!=l&&l);return b&&"EGDSCardinalLocalizedText"===(null===(_=g)||void 0===_?void 0:_.__typename)?a.createElement(ja,pe(ve({},{travelers:b,validations:C}),{skipQuery:r}),a.createElement(Gr,{label:null!=E?E:"",leftIcon:null===(h=y)||void 0===h?void 0:h.id,action:f,labelTemplate:g,readOnly:S,isAnyPetAllowed:l,includeDefaultChildAgeMessage:o,onOpenTravelerField:c,onCloseTravelerField:u,retainTravelerOnDialogDismiss:i})):null;case"EGDSRoomsTravelerSelector":var I,k;return"EGDSCompositeLocalizedText"===(null===(I=g)||void 0===I?void 0:I.__typename)?a.createElement(wa,pe(ve({},f.travelerSelector),{infantSeatSelection:f.travelerSelector.infantSeatSelection,rooms:f.travelerSelector.rooms,validations:f.travelerSelector.validations,skipQuery:r}),a.createElement(Nr,{label:null!=E?E:"",leftIcon:null===(k=y)||void 0===k?void 0:k.id,action:f,labelTemplate:g,readOnly:S,includeDefaultChildAgeMessage:o,onOpenTravelerField:c})):null;default:return null}};Br.displayName="EGDSSearchFormTravelersField",Br.fragment=Or;var wr=function(e){var n=fe(a.useState(!1),2),t=n[0],r=n[1],l=e.children,i=e.paddedViewRow,o=void 0===i||i;return a.createElement(ce.n,{zIndex:500,onFixed:function(e){r(e)}},a.createElement(te.b,{elevation:t?"floating":"default",toolbarType:t?"standard":"transparent"},a.createElement(s.LG,{layout:"fullwidth",canvasTheme:t?"primary":"none",paddedViewRow:!!t||o},a.createElement(d.l,{padding:{block:"four"}},a.createElement("div",{"data-stid":"sticky-search-form"},l)))))},Mr=(0,r.Ps)(on(),Fa.fragment),Ur=function(e){var n=e.isSticky,t=e.children;return n?a.createElement(wr,null,t):a.createElement("div",null,t)},Wr=function(e){var n=e.data,t=e.children,r=e.stickyPlayback,l=e.display,i=e.onDisplayToggle,o=n.primary,c=n.secondaries,u=n.showAction,d=n.hideButton,s=(0,p.useClickTracker)();if("EGDSShowSearchFormAction"!==u.__typename||"UITertiaryButton"!==d.__typename)return null;var m,v=u.accessibility,f=u.analytics,E=u.icon,g=S.eZ[null!==(m=E.size)&&void 0!==m?m:"SMALL"];return a.createElement(Ur,{isSticky:r},l&&a.createElement(ae.t,{border:!0,padded:!0},a.createElement(le.a,{space:"three",columns:[(0,ie.ZT)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(oe.P,null,a.createElement("div",null,a.createElement(R.y,{size:6,tag:"h2",overflow:"truncate"},o.text),a.createElement(le.a,{columns:[(0,ie.wA)(c.length,"max-content")],space:"six"},c.map((function(e,n){return e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?a.createElement(oe.P,{key:"secondary-".concat(n)},a.createElement(H.b,{size:200,overflow:"truncate","aria-label":"EGDSBasicLocalizedText"===e.__typename?e.accessibilityTemplate:e.accessibilityText},a.createElement("span",{"aria-hidden":"true"},e.text))):a.createElement(oe.P,{key:"secondary-".concat(n)},a.createElement(H.b,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:""))}))))),a.createElement(oe.P,null,a.createElement(S.fR,{id:E.id,name:E.id,size:g}))),a.createElement(re.o,null,a.createElement("button",{type:"button",onClick:function(){i(!1),s(f.referrerId,f.linkName)},"aria-label":v}))),a.createElement(G.v,{space:"three",direction:"column","aria-hidden":l,className:l?"is-visually-hidden is-hidden":""},t,a.createElement(Fa,{onClick:function(){if(i(!0),d.analytics){var e=d.analytics,n=e.referrerId,t=e.linkName;s(n,t)}},isFullWidth:!0,size:y.xY.MEDIUM,data:d})))};Wr.fragment=Mr,Wr.displayName="EGDSSearchPlayback";var zr=function(e){var n=e.children;return a.createElement(le.a,{columns:{small:2,medium:12}},a.createElement(oe.P,{colSpan:{small:2,medium:4}},a.createElement("div",null,a.createElement(d.l,{padding:{blockstart:"three"}},a.createElement("div",null,n)))))},Hr=(0,r.Ps)(cn(),St.fragment,Ia.fragment),Vr="EGDSSoftPackagesPackageType",Yr=function(e){var n,t=e.data,r=e.onProductSelect,l=e.setFieldRefByTypename,i=e.fieldError,o=(e.useDateSelector,e.currentSearchFormProduct),c=t.addCar,u=t.addFlight,d=t.origin,s=t.addHotel,m=function(e){r(e)},v=d&&"EGDSBasicCheckBox"===(null===(n=u)||void 0===n?void 0:n.__typename)&&"CHECKED"===u.state,p=d&&a.createElement(zr,null,a.createElement(Ia,{data:d,setFieldRefByTypename:l,fieldError:i})),f=function(e){var n;return"EGDSBasicCheckBox"===(null===(n=e)||void 0===n?void 0:n.__typename)&&"CHECKED"===e.state},E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hotels";if("hotels"===n){var t=e.flightAdded,a=e.carAdded;if(t&&a)return"fhc";if(t)return"fh";if(a)return"hc"}else if("flights"===n){var r=e.hotelAdded,l=e.carAdded;if(r&&l)return"fhc";if(r)return"fh";if(l)return"fc"}return""}({flightAdded:f(u),carAdded:f(c),hotelAdded:f(s)},o),g=[s,u,c];return a.createElement(a.Fragment,null,a.createElement(G.v,{direction:"row",space:"three"},g.map((function(e){var n;return null!==e?a.createElement(F.t,{key:null===(n=e)||void 0===n?void 0:n.egdsElementId},a.createElement("div",null,a.createElement(St,{data:e,onChange:m}))):null}))),v&&p,a.createElement("input",{"data-stid":Vr,type:"hidden",name:Vr,value:E}))};Yr.fragment=Hr,Yr.displayName="SoftPackages";var jr,$r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e&&e.includes("-")?new Date("".concat(e,"T00:00:00")):new Date(new Date(e).setDate(new Date(e).getDate()+n))},Kr=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(n={"origin_select-input":"".concat(e,"Origin"),"destination_select-input":"".concat(e,"Destination"),"pick_up_location-input":"".concat(e,"PickUp"),"drop_off_location-input":"".concat(e,"DropOff"),"airport_location-input":"".concat(e,"Airport"),"hotel_location-input":"".concat(e,"Hotel")}[t])&&void 0!==n?n:e},Qr=function(e){var n,t;return{__typename:Kr("EGDSSearchFormLocationField",null===(n=e)||void 0===n?void 0:n.id),isValid:""!==(null===(t=e)||void 0===t?void 0:t.value)}},qr=function(e){var n,t,a,r,l=e.startDateInput,i=e.endDateInput,o=e.config,c=$r(null!==(a=null===(n=l)||void 0===n?void 0:n.value)&&void 0!==a?a:""),u=$r(null!==(r=null===(t=i)||void 0===t?void 0:t.value)&&void 0!==r?r:""),d=0!==o.maxNumberOfDaysSelected&&u>=$r(c,o.maxNumberOfDaysSelected),s=c===u,m=u<c;return{__typename:"EGDSSearchFormDatePickerField",isValid:!d&&!s&&!m,validations:{maxDate:d,sameDate:s,endDateBeforeStartDate:m}}},Xr=function(e){var n=parseInt(e.substr(0,2),10),t=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==n&&(n+=12),{hours:n,minutes:t}},Zr=function(e){var n=Xr(e);return 6e4*(60*n.hours+n.minutes)},Jr=function(e){var n,t,a,r,l,i,o,c,u,d,s,m,v,p,f,E,g=e.location,y=e.dates,S=e.age,_=e.time,h=[Qr(g.origin),qr(y)];if(g.destination&&h.push((n=g.origin,t=g.destination,l=null!==(r=t.value)&&void 0!==r?r:"",i=""===l,o=!!n&&!i&&n.value===l,c=!i&&!o,{__typename:Kr("EGDSSearchFormLocationField",null===(a=t)||void 0===a?void 0:a.id),isValid:c,validations:{sameLocationSelected:o}})),S&&h.push((m=null!==(s=(u=S).value)&&void 0!==s?s:"",v=""===m,p=parseInt(m,10),f=p>30&&p<70,E=!v&&!f,{__typename:Kr("EGDSNumberInputField",null===(d=u)||void 0===d?void 0:d.id),isValid:E,validations:{ageRange:!!v||!f}})),_){var D,T,C,b=$r(null!==(C=y.startDateInput.value)&&void 0!==C?C:""),I=null===(T=_)||void 0===T||null===(D=T.pickup)||void 0===D?void 0:D.value;h.push(function(e,n){var t=new Date;if(t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()){var a=Xr(e),r=new Date;return r.setHours(a.hours,a.minutes),{__typename:"EGDSBasicSelectPickUp",isValid:t<r}}return{__typename:"EGDSBasicSelectPickUp",isValid:!0}}(I,b),function(e,n,t){var a,r,l,i,o=t.startDateInput,c=t.endDateInput,u=$r(null!==(l=null===(a=o)||void 0===a?void 0:a.value)&&void 0!==l?l:""),d=$r(null!==(i=null===(r=c)||void 0===r?void 0:r.value)&&void 0!==i?i:"");if(u.getDate()===d.getDate()&&u.getMonth()===d.getMonth()&&u.getFullYear()===d.getFullYear()){var s,m,v=null===(s=e)||void 0===s?void 0:s.value,p=null===(m=n)||void 0===m?void 0:m.value,f=new Date;f.setTime(Zr(v));var E=new Date;E.setTime(Zr(p));var g=E>f;return f.setHours(f.getHours()+2),{__typename:"EGDSBasicSelectDropOff",isValid:g&&E>f}}return{__typename:"EGDSBasicSelectDropOff",isValid:!0}}(_.pickup,_.dropOff,y))}return h.filter((function(e){return!1===e.isValid}))},el=function(e){return function(n){return n.getAttribute("name")===e}},nl="EGDSSearchFormLocationField",tl="".concat(nl,"-Location"),al="".concat(nl,"-RegionId"),rl="".concat(nl,"-Lat"),ll="".concat(nl,"-Long"),il="".concat(nl,"-Values"),ol="".concat(nl,"-Selected"),cl="".concat(nl,"-AmenitiesFacilitiesGroup"),ul="".concat(nl,"-LocGroup"),dl="".concat(nl,"-PropertiesGoodForGroup"),sl="".concat(nl,"-PropertyTypeGroup"),ml="".concat(nl,"-PropertyId"),vl="".concat(nl,"-PropertyFilter"),pl="EGDSDateRangePicker",fl="EGDSDatePickerFlexibleNights",El="".concat(pl,"-StartDate"),gl="".concat(pl,"-EndDate"),yl="".concat(fl,"-Options"),Sl="".concat(fl,"-Weekend"),_l="EGDSSearchFormTravelersField",hl="".concat(_l,"-Adult-Room"),Dl="".concat(_l,"-ChildrenAge-Room"),Tl="EGDSSearchFormTravelersField",Cl="".concat(Tl,"-Adult"),bl="".concat(Tl,"-ChildrenAge"),Il="".concat(Tl,"-Pets"),kl="SearchFormDurationSpanField",Al="".concat(kl,"-Min"),Gl="".concat(kl,"-Max"),Fl="EGDSBasicPill",Rl={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},xl=(me(jr={},"LODGING",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value,r=n.checked;if(t.startsWith("".concat(tl,"-destination")))return pe(ve({},e),{destination:a});if(t.startsWith("".concat(al,"-destination"))&&"null"!==a)return pe(ve({},e),{regionId:a});if(t.startsWith("".concat(rl,"-destination"))&&a)return pe(ve({},e),{latLong:a});if(t.startsWith("".concat(ll,"-destination"))&&a)return pe(ve({},e),{latLong:"".concat(e.latLong,",").concat(a)});if(t.startsWith("".concat(cl,"-destination"))&&a)return pe(ve({},e),{amenities_facilities_group:a});if(t.startsWith("".concat(ul,"-destination"))&&a)return pe(ve({},e),{location_group:a});if(t.startsWith("".concat(dl,"-destination"))&&a)return pe(ve({},e),{properties_good_for_group:a});if(t.startsWith("".concat(sl,"-destination"))&&a)return pe(ve({},e),{property_type_group:a});if(t.startsWith(vl)&&a){var l=t.split("".concat(vl,"-")).pop();return ve({},e,l?me({},l,a):{})}if(t.startsWith(El))return pe(ve({},e),{d1:a,startDate:a});if(t.startsWith(gl))return pe(ve({},e),{d2:a,endDate:a});if(t.startsWith("EGDSDatePickerFlexibilityCalendarContent-SelectedOption"))return pe(ve({},e),{flexibility:a});if(t.startsWith(yl))return pe(ve({},e),{flexibility:a});if(t.startsWith(Sl))return pe(ve({},e),{flexibleSearchRequirement:a});if(t.startsWith("EGDSDatePickerFlexibleMonths-Options"))return pe(ve({},e),{searchRange:a});if(t.startsWith("".concat(ml)))return pe(ve({},e),{propertyId:a});if(t.startsWith(hl)){var i=e.adults,o=i?"".concat(i,",").concat(a):a,c=o.split(",").length;return pe(ve({},e),{adults:o,rooms:c})}if(t.startsWith(Dl)){var u=e.children,d=t.substr(Dl.length,1),s="".concat(d,"_").concat(a),m=u?"".concat(u,",").concat(s):s;return pe(ve({},e),{children:m})}if(t.startsWith(Cl))return pe(ve({},e),{adults:a});if(t.startsWith(bl)){var v=e.children,p="".concat(1,"_").concat(a),f=v?"".concat(v,",").concat(p):p;return pe(ve({},e),{children:f})}return t.startsWith(Il)?ve({},e,"CHECKED"===a&&{house_rules_group:"pets_allowed"}):t.startsWith(ol)?a?pe(ve({},e),{selected:a}):ve({},e):t.startsWith("".concat(tl,"-origin"))?pe(ve({},e),{origin:a}):t.startsWith("EGDSSoftPackagesPackageType")&&a.length>0?pe(ve({},e),{packageType:a}):t.startsWith("".concat(Fl,"-add-flight"))||t.startsWith("add-flight-switch")?ve({},e,r?{"add-flight-switch":r}:{}):t.startsWith("".concat(Fl,"-add-car"))||t.startsWith("add-car-switch")?ve({},e,r?{"add-car-switch":r}:{}):e}),{}),t=Object.keys(n).map((function(e){return e.includes("flexibility")?n[e].split(",").map((function(n){return"".concat(e,"=").concat(n)})).join("&"):e.includes("searchRange")?n[e].split("/").map((function(n){return"".concat(e,"=").concat(n)})).join("&"):"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),me(jr,"CRUISES",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;if(t.startsWith(il))return pe(ve({},e),{destination:a.replace(/,/g,"|")});if(t.startsWith(El))return pe(ve({},e),{"earliest-departure-date":a});if(t.startsWith(gl))return pe(ve({},e),{"latest-departure-date":a});if(t.startsWith(Al))return pe(ve({},e),{"min-length":a});if(t.startsWith(Gl))return pe(ve({},e),{"max-length":a});if(t.startsWith(Cl))return pe(ve({},e),{adultCount:a});if(t.startsWith(bl)){var r=e.childAges,l=r?"".concat(r,",").concat(a):a,i=l.split(",").length;return pe(ve({},e),{childCount:i,childAges:l})}return e}),{}),t=Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),me(jr,"FLIGHTS",(function(e){var n={from:"",to:"",departureDate:""},t={adults:0,seniors:0,childAges:[]},a=e.reduce((function(e,a){var r=a.name,l=a.value;return r.includes("flight_type_selector")?pe(ve({},e),{trip:Rl[l]}):r.includes("cabin_class")?pe(ve({},e),{options:"cabinclass:".concat(l)}):r.startsWith(tl)&&r.includes("origin_select")?(n.from=l,e):r.startsWith(tl)&&r.includes("destination_select")?(n.to=l,e):r.startsWith(El)?(n.departureDate=l,pe(ve({},e),{fromDate:l})):r.startsWith(Cl)?(t.adults=+l,e):r.startsWith(bl)?(t.childAges.push(l),e):e}),{"flight-type":"on",mode:"search"}),r=t.childAges.length||0,l=r?"".concat(r,"[").concat(t.childAges.join(";"),"]"):r.toString();a.legs=[n],a.passengers="children:".concat(l,",adults:").concat(t.adults,",seniors:0,infantinlap:Y");var i=Object.keys(a).map((function(e){return"legs"===e&&a.legs?a.legs.map((function(e,n){return"leg".concat(n+1,"=from:").concat(e.from,",to:").concat(e.to,",departure:").concat(e.departureDate,"TANYT")})).join("&"):"".concat(e,"=").concat(a[e])})).join("&");return"?".concat(i)})),me(jr,"ACTIVITIES",(function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;return t.startsWith(tl)?pe(ve({},e),{location:a}):t.startsWith(al)?pe(ve({},e),{rid:a}):t.startsWith(El)?pe(ve({},e),{d1:a,startDate:a}):t.startsWith(gl)?pe(ve({},e),{d2:a,endDate:a}):e}),{}),t=Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&");return"?".concat(t)})),jr),Ll=function(e,n){var t=["EGDS","SearchForm","add"],a=n.filter((function(e){var n=e.name;return t.find((function(e){return n.startsWith(e)}))}));return xl[e](a)},Pl=function(e,n,t){var a,r,l=n.formatDateString,i=fe(e.split(" - "),2),o=i[0],c=i[1];if(""===o||""===c)return"";var u=l(o,{skeleton:"MMMd"}),d=l(c,{skeleton:"MMMd"});return(null===(a=t)||void 0===a?void 0:a.start)&&(null===(r=t)||void 0===r?void 0:r.end)?"".concat(u,", ").concat(t.start," - ").concat(d,", ").concat(t.end):"".concat(u," - ").concat(d)},Nl=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVEL_DATES_TEMPLATE_VALUE="EGDSDateRangePicker-TemplateValue",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e}(Nl||{}),Ol=function(e){return e.DESTINATION="destination",e.REGION_ID="regionId",e.LAT_LONG="latLong",e.DATE_ONE="d1",e.DATE_TWO="d2",e.START_DATE="startDate",e.END_DATE="endDate",e.ADULTS="adults",e.CHILDREN="children",e.SELECTED="selected",e.FLEXIBILITY="flexibility",e.SEARCH_RANGE="searchRange",e.FLEXIBLE_SEARCH_REQUIREMENT="flexibleSearchRequirement",e.MAP_BOUNDS="mapBounds",e}(Ol||{}),Bl=function(e){return e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e}(Bl||{}),wl=function(e){return e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e}(wl||{}),Ml=function(e){var n=fe(e.split("-"),3),t=n[0],a=n[1],r=n[2];return{year:parseInt(t,10),month:parseInt(a,10),day:parseInt(r,10)}},Ul=function(e){var n=fe(e.split("/"),3),t=n[0],a=n[1],r=n[2];return"".concat(r,"-").concat(t,"-").concat(a)},Wl=function(e){var n=e.queryParams,t=e.paramsToExclude,a=e.isPartnerPointsToggleEnabled;return function(e,n){return e.some((function(e){return e.id===n.id}))?e:ge(e).concat([n])}(Object.values(Bl).reduce((function(e,r){!a&&n.has("useRewards")&&n.delete("useRewards");var l=n.getAll(r);if(l.length&&""!==l[0]){var i=l.map((function(e){return(t.includes(r)?[e]:e.split(",")).map((function(e){return a&&"useRewards"===r?{id:r,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:r,value:e}}))}));return ge(e).concat(ge(i))}return ge(e)}),[]).flat(),{id:"sort",value:"RECOMMENDED"})},zl=function(e){var n,t,a,r=function(e){var n=e.getAll("flexibility");return 0===n.length?null:n.reduce((function(e,n){var t=n.split("_");if(t.length>1){var a=parseInt(t[0],10),r=En[t[1].toUpperCase()],l=3===t.length?{bound:fn[t[2].toUpperCase()]}:{};a&&r&&e.push(ve({length:a,unit:r},l))}return e}),[])}(e),l=function(e){return e.getAll("searchRange").reduce((function(e,n){var t=n.split("_");return 2===t.length&&e.push({start:Ml(t[0]),end:Ml(t[1])}),e}),[])}(e),i=function(e){return e.getAll("flexibleSearchRequirement").filter((function(e){return e}))}(e),o=ve({},(null===(n=r)||void 0===n?void 0:n.length)&&{flexibility:r},(null===(t=l)||void 0===t?void 0:t.length)&&{searchRange:l},(null===(a=i)||void 0===a?void 0:a.length)&&{flexibleSearchRequirement:i});return Object.getOwnPropertyNames(o).length?o:null},Hl=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],Vl=function(e,n){var t,a,r,l,i,o,c,u,d,s,m,v,p=function(e){var n,t=e.destination,a=e.regionId,r=e.latLong,l=e.selected,i=e.mapBounds,o=fe((null===(n=r)||void 0===n?void 0:n.split(",").map((function(e){return parseFloat(e)})))||[null,null],2),c=o[0],u=o[1];return ve({regionName:t,regionId:a,coordinates:c&&u?{latitude:c,longitude:u}:null,mapBounds:i},l&&{pinnedPropertyId:l})}({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:(l=e.getAll("mapBounds"),i=l.map((function(e){return e.split(",")})).filter((function(e){var n=fe(e,2),t=n[0],a=n[1];return""!==t&&""!==a})).map((function(e){var n=fe(e,2),t=n[0],a=n[1];return{latitude:Number(t),longitude:Number(a)}})),2===i.length?i:[])}),f=function(e){var n=e.startDate,t=e.endDate;if(!n||!t)return null;var a=/^\d{4}-\d{2}-\d{2}$/,r=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(n)||r.test(n),i=a.test(t)||r.test(t);if(!l||!i)return null;var o=a.test(n)?n:Ul(n),c=a.test(t)?t:Ul(t);return{checkInDate:Ml(o),checkOutDate:Ml(c)}}({startDate:e.get("startDate"),endDate:e.get("endDate")}),E=(o={adults:e.get("adults"),children:e.get("children")},d=o.adults,s=o.children,m=(null===(c=d)||void 0===c?void 0:c.split(",").map((function(e){return parseInt(e,10)})))||[],v=(null===(u=s)||void 0===u?void 0:u.split(","))||[],m.map((function(e,n){var t=n+1;return{adults:e,children:v.filter((function(e){return e.startsWith(t.toString())})).map((function(e){return{age:parseInt(e.split("_")[1],10)}}))}})).filter((function(e){return!Number.isNaN(e.adults)}))),g=function(e){var n=e.queryParams,t=[];return Object.values(wl).forEach((function(e){var a,r,l=n.getAll(e),i=(1===l.length?l[0].split(","):l).filter((function(e){return 0!==e.length})).map(Number).filter((function(e){return!Number.isNaN(e)}));i.length>1&&t.push({id:e,min:(a=Math).min.apply(a,ge(i)),max:(r=Math).max.apply(r,ge(i))})})),t}({queryParams:e}),y=Wl({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:n}),S=zl(e),_=S?{flexSearchCriteria:S}:{},h=function(e){return Hl.flatMap((function(n){return"true"===e.get(n.URL_PARAM_ID)?[{id:n.QUERY_BOOLEAN_ID,value:!0}]:[]}))}(e);return{propertySearchCriteriaInput:{primary:ve({destination:p,rooms:E,dateRange:(null===(t=S)||void 0===t?void 0:t.searchRange)&&0!==(null===(r=S)||void 0===r||null===(a=r.searchRange)||void 0===a?void 0:a.length)?null:f},_),secondary:{ranges:g,selections:y,booleans:h}}}},Yl=function(e){return e.NEXT_PAGE="SEARCH_FORM_NEXT_PAGE",e[e.LOCATION_FIELD_UPDATE=ea]="LOCATION_FIELD_UPDATE",e}(Yl||{}),jl=(0,r.Ps)(un()),$l=(0,r.Ps)(dn(),jl),Kl=[Ia,Jt,Br,Ln,Yr],Ql=(0,r.Ps)(sn(),Gn.fragment,Ia.fragment,Jt.fragment,Br.fragment,Ln.fragment,Wr.fragment,Yr.fragment,$l),ql=function(e){var n,t,r,l,i,o,c,u,s=e.data,E=e.onOpenLocationField,g=e.onSelectLocation,y=e.onFieldChange,S=e.onSubmit,_=e.onTogglePlayback,D=e.autoOpenCalendar,T=e.autoOpenPlayback,C=e.sticky,b=e.stickyPlayback,I=e.skipQuery,k=e.autoSubmitOnFieldChange,A=e.redirectToSearchResultOnSubmit,G=e.additionalQueryParams,F=e.dateFieldInitialFocus,R=e.paddedViewRow,x=e.layout,L=e.includeFlexibleCalendarContent,P=void 0!==L&&L,N=e.includeFlexibleDatesContent,O=void 0!==N&&N,B=e.autoSubmitOnFieldChangeConfig,w=(0,f.useLocalization)(),U=fe(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null}),2),W=U[0],z=U[1],H={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},V=a.useRef(null),Y=(0,v.useMediaQueries)({viewSizes:v.defaultViewSizes})<=v.defaultViewSizes.SMALL,j=fe(a.useState(ve({},H)),2),$=j[0],K=j[1],Q=s.egdsElementId,q=s.elements,X=s.search,Z=s.actionURL,J=s.errorSummary,ee=s.playback,ne=s.softPackages,te=s.adaptExSuccessEvent,ae=fe(a.useState(ee),2),re=ae[0],ce=ae[1],ue=fe(a.useState(ne),2),de=ue[0],se=ue[1],Ee=fe(a.useState(!T),2),ye=Ee[0],Se=Ee[1],_e=(0,m.useExperiment)("Web_close_search_playback_on_field_update"),he=_e.exposure,De=_e.logExperiment,Te=(0,m.useExperiment)("VRBO_Web_close_search_playback_on_field_update"),Ce=Te.exposure,be=Te.logExperiment,Ie=(0,m.useExperiment)("Current_Location_in_Lodging_Typeahead"),ke=Ie.exposure,Ae=Ie.logExperiment,Ge=(0,m.useExperiment)("Ability_to_Delete_Recent_Searches_in_Typeahead_Dropdown_Web"),Fe=Ge.exposure,Re=Ge.logExperiment,xe=null!=Q?Q:"search-lodging-form",Le=de?ge(q).concat([de]):q,Pe=X?ge(Le).concat([X]):Le,Ne=(0,p.useClickTracker)(),Oe=(0,p.useClickstreamAnalytics)().track,Be=(0,M.s0)().publishSignal;a.useEffect((function(){ee&&!I&&ce(ee)}),[ee,I]);(0,M._9)({query:{type:"SEARCH_FORM_NEXT_PAGE"},onSignal:function(){var e,n;(null===(e=te)||void 0===e?void 0:e.datePrefill)&&Oe(p.ITrackType.EVENT,{data:(n=[te.datePrefill],n.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}})))})}}),a.useEffect((function(){var e,n;F&&(null===(n=W.EGDSSearchFormDatePickerField)||void 0===n||null===(e=n.current)||void 0===e||e.focus())}),[W.EGDSSearchFormDatePickerField]);var we,Me=function(e,n){var t,a=Kr(e,null===(t=n.current)||void 0===t?void 0:t.id);z((function(e){return pe(ve({},e),me({},a,n))}))},Ue=q.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),We="EGDSSearchFormDatePickerField"===(null===(n=Ue)||void 0===n?void 0:n.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=Ue.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===Ue.action.datePicker.__typename&&null!==(we=Ue.action.datePicker.maxNumberOfDaysSelected)&&void 0!==we?we:0,ze=1===ke.bucket&&Y,He=1===Fe.bucket,Ve=function(){if(E&&E(),Y)try{Ae(ke)}catch(e){}try{Re(Fe)}catch(e){}},Ye="EGDSBasicCheckBox"===(null===(l=de)||void 0===l||null===(r=l.addFlight)||void 0===r?void 0:r.__typename)&&"CHECKED"===de.addFlight.state,je="EGDSBasicCheckBox"===(null===(o=de)||void 0===o||null===(i=o.addCar)||void 0===i?void 0:i.__typename)&&"CHECKED"===de.addCar.state,$e=a.useCallback((function(e){var n={location:pe(ve({},Ye?{origin:e.find(el("origin_select"))}:null),{destination:e.find(el("destination_form_field"))}),dates:{startDateInput:e.find(el("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(el("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:We}}},t=Jr(n),a=t.length;return{fieldsWithErrors:t,errorCount:a,isFormValid:0===a}}),[We,Ye]),Ke=$.displayErrorSummary,Qe=$.errorCount,qe=$.errorLinkReference,Xe=J&&Ke,Ze=function(e){var n=e.currentTarget,t=n.name,a=n.checked;se((function(e){var n,r,l,i;return"EGDSBasicCheckBox"===(null===(r=e)||void 0===r||null===(n=r.addCar)||void 0===n?void 0:n.__typename)&&null!==e.addCar.name&&t.includes(e.addCar.name)?pe(ve({},e),{addCar:pe(ve({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null===(i=e)||void 0===i||null===(l=i.addFlight)||void 0===l?void 0:l.__typename)&&null!==e.addFlight.name&&t.includes(e.addFlight.name)?pe(ve({},e),{addFlight:pe(ve({},e.addFlight),{state:a?"CHECKED":"UNCHECKED"})}):e}))},Je=function(e){ce((function(n){if(!n)return null;var t=pe(ve({},n.primary),{text:e.term});return pe(ve({},n),{primary:t})}))},en=(0,m.useExperiment)("Default_Child_Age_with_Messaging_on_Traveler_Selector_Lodging"),nn=en.exposure,tn=en.logExperiment,an=1===nn.bucket,rn=(0,m.useExperiment)("VRBO_Save_traveler_selector_info_on_close_mweb"),ln=rn.exposure,on=rn.logExperiment,cn=1===ln.bucket,un=a.useCallback((function(){try{tn(nn)}catch(e){}}),[tn,nn]),dn=a.useCallback((function(){try{on(ln)}catch(e){}}),[on,ln]),sn=function(e){un()},mn=function(e){e===v.ViewSizes.SMALL&&dn()},vn=(0,m.useExperiment)("Tonight_text_in_same_day_date_field"),pn=je||Ye,fn=pn&&de.actionURL?de.actionURL:Z,En=de&&a.createElement("div",null,a.createElement(Yr,{data:de,onProductSelect:Ze,setFieldRefByTypename:Me,fieldError:$.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldOrigin"===e.__typename}))})),gn=function(n){var t=function(e){return e===v.ViewSizes.SMALL||"STACKED"===x?["1fr"]:[(0,ie.wA)(3,"1fr"),"max-content"]}(n),r=n===v.ViewSizes.SMALL||"STACKED"===x?function(){var e=[(0,ie.wA)(3,"max-content")];return de&&e.splice(3,0,(0,ie.nZ)("1x")),e}():function(){var e=["1fr"];return de&&e.push((0,ie.nZ)("1x")),e}(),l=n===v.ViewSizes.SMALL||"STACKED"===x?function(){var e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return de&&e.splice(3,0,"SoftPackages"),e}():function(){var e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return de&&e.push("SoftPackages SoftPackages SoftPackages SoftPackages"),e}(),i=new URLSearchParams(window.location.search).get("destination");return a.createElement(le.a,{columns:t,rows:r,space:"three",areas:l},Pe.map((function(n,t){var r=n.__typename,l=Kl.find((function(e){return e.displayName===r}));if(!l)return null;var o,c,u,d,s,m,v=$.fieldsWithErrors.find((function(e){var n="SoftPackages"===r&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===r||n})),p=(m=Pe.find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),"EGDSSearchFormLocationField"===(null===(o=m)||void 0===o?void 0:o.__typename)&&"OpenTypeaheadAction"===(null===(u=m)||void 0===u||null===(c=u.action)||void 0===c?void 0:c.__typename)&&null!==(s=null===(d=m)||void 0===d?void 0:d.action.info.showCurrentLocation)&&void 0!==s&&s&&i?i:""),f=pe(ve(pe(ve({},e),{setFieldRefByTypename:Me,fieldError:v,autoOpen:D,retainTravelerOnDialogDismiss:cn,onProductSelect:Ze,valueFromQueryParam:p,onSelection:Je,useDateSelector:!0,flexibleContentConfig:{includeFlexibleCalendarContent:P,includeFlexibleDatesContent:O},allowToRemoveRecentSearches:He,includeDefaultChildAgeMessage:an,onOpenTravelerField:sn,onCloseTravelerField:mn}),pn?de:{}),{showCurrentLocation:null!=ze&&ze,onOpenLocationField:Ve,onSelectLocation:g,tonightSameDayDateExperiment:vn}),E="SoftPackages"===r?En:a.createElement(l,pe(ve({},f),{data:n}));return a.createElement(oe.P,{area:r,key:"field_".concat(r,"_").concat(t)},a.createElement(le.a,{autoRows:["max-content"]},E))})))};return a.createElement(h.$,{ref:V,id:xe,name:xe,method:"GET",action:fn,onFieldChange:function(e,n){var t,a,r;if(y){var l,i=V.current?Array.from(null===(l=V.current)||void 0===l?void 0:l.elements):[],o=Ll("LODGING",i);y(e,n,o)}k&&(null===(a=V.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));"EGDSDateRangePicker"===e.name&&(null===(t=B)||void 0===t?void 0:t.onDateFieldChange)&&!k&&(null===(r=V.current)||void 0===r||r.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));ce((function(n){var t=Nl.DESTINATION,a=Nl.TRAVELER_ROOM_SELECTOR,r=Nl.TRAVELER_BASIC_SELECTOR,l=Nl.TRAVEL_DATES,i=Nl.TRAVEL_DATES_FLEXIBLE,o=Nl.TRAVEL_DATES_TEMPLATE_VALUE,c=e.name,u=e.value,d=c===l,s=c===i,m=c===o,v=c===a||c===r;if(!n)return null;if(!(d||v||c===t||s||m))return ve({},n);var p=function(e,n,t,a,r,l){var i={__typename:"EGDSPlainText",accessibility:null,text:""};if(r.length>1){if(e){var o=Pl(l,w);return[pe(ve({},i),{text:o}),r[1]]}if(a)return[r[0],pe(ve({},i),{text:l})];if(n||t)return[pe(ve({},i),{text:l}),r[1]]}if(e){var c=Pl(l,w);return[pe(ve({},i),{text:c}),r[0]]}return n||t?[pe(ve({},i),{text:l}),r[0]]:a?[pe(ve({},i),{text:l})]:ge(r)}(d,s,m,v,n.secondaries,u);return pe(ve({},n),{secondaries:p})})),1!==he.bucket&&1!==Ce.bucket||Se(!0);try{De(he)}catch(c){}try{be(Ce)}catch(c){}},onSubmit:function(e){var n,t,a;K(ve({},H));var r,l=Array.from(e.currentTarget.elements),i=$e(l),o=i.fieldsWithErrors,c=i.errorCount,u=i.isFormValid;if(W[null===(n=o[0])||void 0===n?void 0:n.__typename]&&(null===(a=s)||void 0===a||null===(t=a.errorSummary)||void 0===t?void 0:t.analytics)){var d="".concat(s.errorSummary.analytics.referrerId,".For.NoDestinationSubmit");Ne(d,s.errorSummary.analytics.linkName)}if(!u)return K({fieldsWithErrors:o,errorCount:c,displayErrorSummary:!0,errorLinkReference:W[null===(r=o[0])||void 0===r?void 0:r.__typename]}),void e.preventDefault();if(S||A){var m=Ll("LODGING",l),v=Vl(new URLSearchParams(m))||void 0;S&&S(e,v),A&&(e.preventDefault(),Be({payload:{},type:"SEARCH_FORM_NEXT_PAGE"}),window.location.href="".concat(e.currentTarget.action).concat(m).concat(G?"&".concat(G):""))}},hasRequiredFieldIndicator:!0},Xe&&a.createElement(Gn,{data:J,errorCount:Qe,inputErrorRef:qe,linkClickFocusId:null===(u=qe)||void 0===u||null===(c=u.current)||void 0===c?void 0:c.id}),a.createElement(d.l,{margin:{blockstart:Xe?"two":void 0}},a.createElement("div",null,a.createElement(v.Viewport,null,a.createElement(v.ViewSmall,null,re?a.createElement(Wr,{data:re,stickyPlayback:b,display:ye,onDisplayToggle:function(e){var n;Se(e),null===(n=_)||void 0===n||n(!e)}},gn(v.ViewSizes.SMALL)):gn(v.ViewSizes.SMALL)),a.createElement(v.ViewMedium,null,C?a.createElement(wr,{paddedViewRow:R},gn(v.ViewSizes.MEDIUM)):gn(v.ViewSizes.MEDIUM)),a.createElement(v.ViewLarge,null,C?a.createElement(wr,{paddedViewRow:R},gn(v.ViewSizes.LARGE)):gn(v.ViewSizes.LARGE))))))};ql.fragment=Ql,ql.displayName="LodgingSearchForm";var Xl={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new o.nS(o.nl.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},Zl=(0,r.Ps)(mn(),ql.fragment),Jl=function(e){return e.PREFILL_PROPERTY_NAME="PREFILL_PROPERTY_NAME",e}(Jl||{}),ei=function(e){var n,t,r,u,d,s,m,p,f,E,g,y,S,_,h,D,T,C=e.inputs,b=e.skipSsr,I=e.skipQuery,k=void 0!==I&&I,A=e.fetchPolicy,G=e.batchKey,F=e.features,R=e.includePlayback,x=e.layout,L=void 0===x?"IN_LINE":x,P=e.enableReflection,N=(0,i.v)().context,O=(0,o.Iw)(Xl),B=fe(a.useState(k),2),w=B[0],M=B[1],U=pe(ve({},C),{context:N,includePlayback:!!R,features:F}),W=(0,l.a)(Zl,ve({context:{batchKey:G},variables:U,ssr:!b,skip:w},A?{fetchPolicy:A}:{})),z=W.data,H=W.error,V=W.loading,Y=W.previousData,j=null!=z?z:Y;if(a.useEffect((function(){M(k&&!V)}),[V,k]),V&&!j)return a.createElement(v.Viewport,null,a.createElement(v.ViewSmall,null,a.createElement(vn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(v.ViewMedium,null,a.createElement(vn,{rows:[{type:"primary"}]})));var $,K=null===(n=C.propertySearchCriteriaInput)||void 0===n?void 0:n.secondary,Q=null!==($=null===(u=C.propertySearchCriteriaInput)||void 0===u||null===(r=u.primary)||void 0===r||null===(t=r.destination)||void 0===t?void 0:t.pinnedPropertyId)&&void 0!==$?$:void 0,q=K?{amenitiesFacilitiesGroup:null===(m=K)||void 0===m||null===(s=m.selections)||void 0===s||null===(d=s.find((function(e){return"amenities_facilities_group"===e.id})))||void 0===d?void 0:d.value,locationGroup:null===(E=K)||void 0===E||null===(f=E.selections)||void 0===f||null===(p=f.find((function(e){return"location_group"===e.id})))||void 0===p?void 0:p.value,propertiesGoodForGroup:null===(S=K)||void 0===S||null===(y=S.selections)||void 0===y||null===(g=y.find((function(e){return"properties_good_for_group"===e.id})))||void 0===g?void 0:g.value,propertyTypeGroup:null===(D=K)||void 0===D||null===(h=D.selections)||void 0===h||null===(_=h.find((function(e){return"property_type_group"===e.id})))||void 0===_?void 0:_.value}:void 0,X=pe(ve({},e),{propertyRefinements:q,pinnedPropertyId:(null===(T=F)||void 0===T?void 0:T.includes("PREFILL_PROPERTY_NAME"))?Q:void 0,skipQuery:w,layout:L});if(H||!j||"LodgingSearchForm"!==j.searchForm.lodging.__typename){var Z,J,ee={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:gn,elements:[yn,Cn,bn],search:In,playback:null,softPackages:null,adaptExSuccessEvent:null};return O.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null===(Z=H)||void 0===Z?void 0:Z.name,error:new Error(null===(J=H)||void 0===J?void 0:J.message)}),P?a.createElement(c.$,null,a.createElement(pn,null,a.createElement(ql,pe(ve({},X),{data:ee})))):a.createElement(pn,null,a.createElement(ql,pe(ve({},X),{data:ee})))}return P?a.createElement(c.$,null,a.createElement(pn,null,a.createElement(ql,pe(ve({},X),{data:j.searchForm.lodging,skipQuery:w})))):a.createElement(pn,null,a.createElement(ql,pe(ve({},X),{data:j.searchForm.lodging,skipQuery:w})))};ei.displayName="sharedui-LodgingSearchForm";var ni=a.createContext(null),ti=function(e){var n=e.children,t=e.urlSearchParams,r=(0,m.useExperiment)("ETS_POINTS_TOGGLE").exposure,l=Vl(t,1===r.bucket);return a.createElement(ni.Provider,{value:l},n)},ai=function(){return a.useContext(ni)}}}]);
//# sourceMappingURL=shared-ui-search-tools-lodging.7032c2b7977e515ae14a.js.map